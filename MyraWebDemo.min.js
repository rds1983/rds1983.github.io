Bridge.assembly("MyraWebDemo",function($asm,globals){"use strict";Bridge.define("Cyotek.Drawing.BitmapFont.Character",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Cyotek.Drawing.BitmapFont.Character}}},fields:{Bounds:null,Channel:0,Char:0,Offset:null,TexturePage:0,XAdvance:0},ctors:{init:function(){this.Bounds=new Microsoft.Xna.Framework.Rectangle;this.Offset=new Microsoft.Xna.Framework.Point},ctor:function(){this.$initialize()}},methods:{toString:function(){return String.fromCharCode(this.Char)},getHashCode:function(){return Bridge.addHash([3621112854,this.Bounds,this.Channel,this.Char,this.Offset,this.TexturePage,this.XAdvance])},equals:function(o){return Bridge.is(o,Cyotek.Drawing.BitmapFont.Character)?Bridge.equals(this.Bounds,o.Bounds)&&Bridge.equals(this.Channel,o.Channel)&&Bridge.equals(this.Char,o.Char)&&Bridge.equals(this.Offset,o.Offset)&&Bridge.equals(this.TexturePage,o.TexturePage)&&Bridge.equals(this.XAdvance,o.XAdvance):!1},$clone:function(to){var s=to||new Cyotek.Drawing.BitmapFont.Character;return s.Bounds=this.Bounds.$clone(),s.Channel=this.Channel,s.Char=this.Char,s.Offset=this.Offset.$clone(),s.TexturePage=this.TexturePage,s.XAdvance=this.XAdvance,s}}});Bridge.define("Cyotek.Drawing.BitmapFont.BitmapFontLoader",{statics:{methods:{GetNamedBool:function(parts,name,defaultValue){defaultValue===void 0&&(defaultValue=!1);var s=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedString(parts,name),v={};return System.Int32.tryParse(s,v)?v.v>0:defaultValue},GetNamedInt:function(parts,name,defaultValue){defaultValue===void 0&&(defaultValue=0);var s=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedString(parts,name),result={};return System.Int32.tryParse(s,result)||(result.v=defaultValue),result.v},GetNamedString:function(parts,name){var $t,result,part,nameEndIndex,namePart,valuePart,length;result="";$t=Bridge.getEnumerator(parts);try{while($t.moveNext())if(part=$t.Current,nameEndIndex=System.String.indexOf(part,String.fromCharCode(61)),nameEndIndex!==-1&&(namePart=part.substr(0,nameEndIndex),valuePart=part.substr(nameEndIndex+1|0),System.String.equals(name,namePart,5))){length=valuePart.length;length>1&&valuePart.charCodeAt(0)===34&&valuePart.charCodeAt(length-1|0)===34&&(valuePart=valuePart.substr(1,length-2|0));result=valuePart;break}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return result},ParsePadding:function(s){var $t,parts;return parts=System.String.split(s,[44].map(function(i){return String.fromCharCode(i)})),$t=new Cyotek.Drawing.BitmapFont.Padding.ctor,$t.Left=System.Convert.toInt32(parts[3].trim()),$t.Top=System.Convert.toInt32(parts[0].trim()),$t.Right=System.Convert.toInt32(parts[1].trim()),$t.Bottom=System.Convert.toInt32(parts[2].trim()),$t},ParsePoint:function(s){var $t,parts;return parts=System.String.split(s,[44].map(function(i){return String.fromCharCode(i)})),$t=new Microsoft.Xna.Framework.Point.ctor,$t.X=System.Convert.toInt32(parts[0].trim()),$t.Y=System.Convert.toInt32(parts[1].trim()),$t},Split:function(s,delimiter){var results,parts,partStart,partEnd,quoteStart,quoteEnd,hasQuotes;if(System.String.indexOf(s,String.fromCharCode(34))!==-1){partStart=-1;parts=new(System.Collections.Generic.List$1(System.String).ctor);do quoteStart=System.String.indexOf(s,String.fromCharCode(34),partStart+1|0),quoteEnd=System.String.indexOf(s,String.fromCharCode(34),quoteStart+1|0),partEnd=System.String.indexOf(s,String.fromCharCode(delimiter),partStart+1|0),partEnd===-1&&(partEnd=s.length),hasQuotes=quoteStart!==-1&&partEnd>quoteStart&&partEnd<quoteEnd,hasQuotes&&(partEnd=System.String.indexOf(s,String.fromCharCode(delimiter),quoteEnd+1|0)),partEnd===-1&&(partEnd=s.length),parts.add(s.substr(partStart+1|0,(partEnd-partStart|0)-1|0)),hasQuotes&&(partStart=partEnd-1|0),partStart=System.String.indexOf(s,String.fromCharCode(delimiter),partStart+1|0);while(partStart!==-1);results=parts.ToArray()}else results=System.String.split(s,System.Array.init([delimiter],System.Char).map(function(i){return String.fromCharCode(i)}),null,1);return results},ToArray:function(T,values){var result;return result=System.Array.init(System.Array.getCount(values,T),function(){return Bridge.getDefaultValue(T)},T),System.Array.copyTo(values,result,0,T),result}}}});Bridge.define("Cyotek.Drawing.BitmapFont.Kerning",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Cyotek.Drawing.BitmapFont.Kerning}}},fields:{Amount:0,FirstCharacter:0,SecondCharacter:0},ctors:{$ctor1:function(firstCharacter,secondCharacter,amount){Cyotek.Drawing.BitmapFont.Kerning.ctor.call(this);this.FirstCharacter=firstCharacter;this.SecondCharacter=secondCharacter;this.Amount=amount},ctor:function(){this.$initialize()}},methods:{toString:function(){return System.String.format("{0} to {1} = {2}",this.FirstCharacter,this.SecondCharacter,this.Amount)},getHashCode:function(){return Bridge.addHash([1859769268,this.Amount,this.FirstCharacter,this.SecondCharacter])},equals:function(o){return Bridge.is(o,Cyotek.Drawing.BitmapFont.Kerning)?Bridge.equals(this.Amount,o.Amount)&&Bridge.equals(this.FirstCharacter,o.FirstCharacter)&&Bridge.equals(this.SecondCharacter,o.SecondCharacter):!1},$clone:function(to){var s=to||new Cyotek.Drawing.BitmapFont.Kerning;return s.Amount=this.Amount,s.FirstCharacter=this.FirstCharacter,s.SecondCharacter=this.SecondCharacter,s}}});Bridge.define("Cyotek.Drawing.BitmapFont.Padding",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Cyotek.Drawing.BitmapFont.Padding}}},fields:{Bottom:0,Left:0,Right:0,Top:0},ctors:{$ctor1:function(left,top,right,bottom){Cyotek.Drawing.BitmapFont.Padding.ctor.call(this);this.Top=top;this.Left=left;this.Right=right;this.Bottom=bottom},ctor:function(){this.$initialize()}},methods:{toString:function(){return System.String.format("{0}, {1}, {2}, {3}",this.Left,this.Top,this.Right,this.Bottom)},getHashCode:function(){return Bridge.addHash([1691078585,this.Bottom,this.Left,this.Right,this.Top])},equals:function(o){return Bridge.is(o,Cyotek.Drawing.BitmapFont.Padding)?Bridge.equals(this.Bottom,o.Bottom)&&Bridge.equals(this.Left,o.Left)&&Bridge.equals(this.Right,o.Right)&&Bridge.equals(this.Top,o.Top):!1},$clone:function(to){var s=to||new Cyotek.Drawing.BitmapFont.Padding;return s.Bottom=this.Bottom,s.Left=this.Left,s.Right=this.Right,s.Top=this.Top,s}}});Bridge.define("Cyotek.Drawing.BitmapFont.Page",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Cyotek.Drawing.BitmapFont.Page}}},fields:{FileName:null,Id:0},ctors:{$ctor1:function(id,fileName){Cyotek.Drawing.BitmapFont.Page.ctor.call(this);this.FileName=fileName;this.Id=id},ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([1701273936,this.FileName,this.Id])},equals:function(o){return Bridge.is(o,Cyotek.Drawing.BitmapFont.Page)?Bridge.equals(this.FileName,o.FileName)&&Bridge.equals(this.Id,o.Id):!1},$clone:function(to){var s=to||new Cyotek.Drawing.BitmapFont.Page;return s.FileName=this.FileName,s.Id=this.Id,s}}});Bridge.define("MonoGdx.Utils.Json",{statics:{methods:{Deserialize:function(json){return json==null?null:MonoGdx.Utils.Json.Parser.Parse(json)},Serialize:function(obj){return MonoGdx.Utils.Json.Serializer.Serialize(obj)}}}});Bridge.define("MonoGdx.Utils.Json.Parser",{inherits:[System.IDisposable],$kind:"nested class",statics:{fields:{WHITE_SPACE:null,WORD_BREAK:null},ctors:{init:function(){this.WHITE_SPACE=" \t\n\r";this.WORD_BREAK=' \t\n\r{}[],:"'}},methods:{Parse:function(reader){var instance=new MonoGdx.Utils.Json.Parser(reader);try{return instance.ParseValue()}finally{Bridge.hasValue(instance)&&instance.System$IDisposable$Dispose()}}}},fields:{json:null,cachedString:null},alias:["Dispose","System$IDisposable$Dispose"],ctors:{ctor:function(reader){this.$initialize();this.json=reader}},methods:{Dispose:function(){this.json.Dispose();this.json=null},ParseObject:function(){var $t,table=new(System.Collections.Generic.Dictionary$2(System.String,System.Object)),token,name;for(this.json.Read();;){token=this.NextToken();switch(token){case MonoGdx.Utils.Json.Parser.TOKEN.NONE:return null;case MonoGdx.Utils.Json.Parser.TOKEN.COMMA:continue;case MonoGdx.Utils.Json.Parser.TOKEN.CURLY_CLOSE:return table;default:if((name=($t=this.cachedString,$t!=null?$t:this.ParseString()),name==null)||this.NextToken()!==MonoGdx.Utils.Json.Parser.TOKEN.COLON)return null;this.json.Read();table.set(name,this.ParseValue());break}}},ParseArray:function(){var array=new(System.Collections.Generic.List$1(System.Object).ctor),parsing,nextToken,value;for(this.json.Read(),parsing=!0;parsing;){nextToken=this.NextToken();switch(nextToken){case MonoGdx.Utils.Json.Parser.TOKEN.NONE:return null;case MonoGdx.Utils.Json.Parser.TOKEN.COMMA:continue;case MonoGdx.Utils.Json.Parser.TOKEN.SQUARED_CLOSE:parsing=!1;break;default:value=this.ParseByToken(nextToken);array.add(value);break}}return array},ParseValue:function(){var nextToken=this.NextToken();return this.ParseByToken(nextToken)},ParseByToken:function(token){var $t;switch(token){case MonoGdx.Utils.Json.Parser.TOKEN.STRING:return $t=this.cachedString,$t!=null?$t:this.ParseString();case MonoGdx.Utils.Json.Parser.TOKEN.NUMBER:return this.ParseNumber();case MonoGdx.Utils.Json.Parser.TOKEN.CURLY_OPEN:return this.ParseObject();case MonoGdx.Utils.Json.Parser.TOKEN.SQUARED_OPEN:return this.ParseArray();case MonoGdx.Utils.Json.Parser.TOKEN.TRUE:return!0;case MonoGdx.Utils.Json.Parser.TOKEN.FALSE:return!1;case MonoGdx.Utils.Json.Parser.TOKEN.NULL:return null;default:return null}},ParseString:function(){var s=new System.Text.StringBuilder,c,parsing,hex,i;for(this.json.Read(),parsing=!0;parsing;){if(this.json.Peek()===-1){parsing=!1;break}c=this.NextChar();switch(c){case 34:parsing=!1;break;case 92:if(this.json.Peek()===-1){parsing=!1;break}c=this.NextChar();switch(c){case 34:case 92:case 47:s.append(String.fromCharCode(c));break;case 98:s.append(String.fromCharCode(8));break;case 102:s.append(String.fromCharCode(12));break;case 110:s.append(String.fromCharCode(10));break;case 114:s.append(String.fromCharCode(13));break;case 116:s.append(String.fromCharCode(9));break;case 117:for(hex=new System.Text.StringBuilder,i=0;i<4;i=i+1|0)hex.append(String.fromCharCode(this.NextChar()));s.append(String.fromCharCode(System.Convert.toNumberInBase(hex.toString(),16,9)&65535));break}break;default:s.append(String.fromCharCode(c));break}}return s.toString()},ParseNumber:function(){var number=this.NextWord(),parsedFloat={};return System.Single.tryParse(number,System.Globalization.CultureInfo.invariantCulture,parsedFloat),parsedFloat.v},EatWhitespace:function(){while(System.String.indexOf(MonoGdx.Utils.Json.Parser.WHITE_SPACE,String.fromCharCode(this.PeekChar()))!==-1)if(this.json.Read(),this.json.Peek()===-1)break},PeekChar:function(){return System.Convert.toChar(this.json.Peek(),null,9)},NextChar:function(){return System.Convert.toChar(this.json.Read(),null,9)},NextWord:function(){for(var word=new System.Text.StringBuilder;System.String.indexOf(MonoGdx.Utils.Json.Parser.WORD_BREAK,String.fromCharCode(this.PeekChar()))===-1;)if(word.append(String.fromCharCode(this.NextChar())),this.json.Peek()===-1)break;return word.toString()},NextToken:function(){var c,word;if(this.cachedString=null,this.EatWhitespace(),this.json.Peek()===-1)return MonoGdx.Utils.Json.Parser.TOKEN.NONE;c=this.PeekChar();switch(c){case 123:return MonoGdx.Utils.Json.Parser.TOKEN.CURLY_OPEN;case 125:return this.json.Read(),MonoGdx.Utils.Json.Parser.TOKEN.CURLY_CLOSE;case 91:return MonoGdx.Utils.Json.Parser.TOKEN.SQUARED_OPEN;case 93:return this.json.Read(),MonoGdx.Utils.Json.Parser.TOKEN.SQUARED_CLOSE;case 44:return this.json.Read(),MonoGdx.Utils.Json.Parser.TOKEN.COMMA;case 34:return MonoGdx.Utils.Json.Parser.TOKEN.STRING;case 58:return MonoGdx.Utils.Json.Parser.TOKEN.COLON;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return MonoGdx.Utils.Json.Parser.TOKEN.NUMBER}word=this.NextWord();switch(word){case"false":return MonoGdx.Utils.Json.Parser.TOKEN.FALSE;case"true":return MonoGdx.Utils.Json.Parser.TOKEN.TRUE;case"null":return MonoGdx.Utils.Json.Parser.TOKEN.NULL;default:return this.cachedString=word,MonoGdx.Utils.Json.Parser.TOKEN.STRING}}}});Bridge.define("MonoGdx.Utils.Json.Parser.TOKEN",{$kind:"nested enum",statics:{fields:{NONE:0,CURLY_OPEN:1,CURLY_CLOSE:2,SQUARED_OPEN:3,SQUARED_CLOSE:4,COLON:5,COMMA:6,STRING:7,NUMBER:8,TRUE:9,FALSE:10,NULL:11}}});Bridge.define("MonoGdx.Utils.Json.Serializer",{$kind:"nested class",statics:{methods:{Serialize:function(obj){var instance=new MonoGdx.Utils.Json.Serializer;return instance.SerializeValue(obj),instance.builder.toString()}}},fields:{builder:null},ctors:{ctor:function(){this.$initialize();this.builder=new System.Text.StringBuilder}},methods:{SerializeValue:function(value){var asList,asDict,asStr;value==null?this.builder.append("null"):(asStr=Bridge.as(value,System.String))!=null?this.SerializeString(asStr):Bridge.is(value,System.Boolean)?this.builder.append(Bridge.toString(value).toLowerCase()):(asList=Bridge.as(value,System.Collections.IList))!=null?this.SerializeArray(asList):(asDict=Bridge.as(value,System.Collections.IDictionary))!=null?this.SerializeObject(asDict):Bridge.is(value,System.Char)?this.SerializeString(Bridge.toString(value)):this.SerializeOther(value)},SerializeObject:function(obj){var $t,first=!0,e;this.builder.append(String.fromCharCode(123));$t=Bridge.getEnumerator(obj.System$Collections$IDictionary$Keys);try{while($t.moveNext())e=$t.Current,first||this.builder.append(String.fromCharCode(44)),this.SerializeString(Bridge.toString(e)),this.builder.append(String.fromCharCode(58)),this.SerializeValue(obj.System$Collections$IDictionary$getItem(e)),first=!1}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this.builder.append(String.fromCharCode(125))},SerializeArray:function(anArray){var $t,first,obj;this.builder.append(String.fromCharCode(91));first=!0;$t=Bridge.getEnumerator(anArray);try{while($t.moveNext())obj=$t.Current,first||this.builder.append(String.fromCharCode(44)),this.SerializeValue(obj),first=!1}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this.builder.append(String.fromCharCode(93))},SerializeString:function(str){var $t,charArray,c,codepoint;this.builder.append(String.fromCharCode(34));charArray=System.String.toCharArray(str,0,str.length);$t=Bridge.getEnumerator(charArray);try{while($t.moveNext()){c=$t.Current;switch(c){case 34:this.builder.append('\\"');break;case 92:this.builder.append("\\\\");break;case 8:this.builder.append("\\b");break;case 12:this.builder.append("\\f");break;case 10:this.builder.append("\\n");break;case 13:this.builder.append("\\r");break;case 9:this.builder.append("\\t");break;default:codepoint=System.Convert.toInt32(c);codepoint>=32&&codepoint<=126?this.builder.append(String.fromCharCode(c)):this.builder.append("\\u"+(System.String.alignString(System.Convert.toStringInBase(codepoint,16,9),4,48)||""));break}}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this.builder.append(String.fromCharCode(34))},SerializeOther:function(value){Bridge.is(value,System.Single)||Bridge.is(value,System.Int32)||Bridge.is(value,System.UInt32)||Bridge.is(value,System.Int64)||Bridge.is(value,System.Single)||Bridge.is(value,System.SByte)||Bridge.is(value,System.Byte)||Bridge.is(value,System.Int16)||Bridge.is(value,System.UInt16)||Bridge.is(value,System.UInt64)||Bridge.is(value,System.Decimal)?this.builder.append(Bridge.toString(value)):this.SerializeString(Bridge.toString(value))}}});Bridge.define("Myra.Attributes.EditCategoryAttribute",{inherits:[System.Attribute],fields:{_name:null},props:{Name:{get:function(){return this._name}}},ctors:{ctor:function(name){this.$initialize();System.Attribute.ctor.call(this);this._name=name}}});Bridge.define("Myra.Attributes.HiddenInEditorAttribute",{inherits:[System.Attribute]});Bridge.define("Myra.Attributes.IItemsProvider",{$kind:"interface"});Bridge.define("Myra.Attributes.JsonIgnoreAttribute",{inherits:[System.Attribute]});Bridge.define("Myra.Attributes.SelectionAttribute",{inherits:[System.Attribute],fields:{_itemsProviderType:null},props:{ItemsProviderType:{get:function(){return this._itemsProviderType}}},ctors:{ctor:function(itemsProviderType){this.$initialize();System.Attribute.ctor.call(this);this._itemsProviderType=itemsProviderType}}});Bridge.define("Myra.Attributes.StylePropertyPathAttribute",{inherits:[System.Attribute],fields:{_name:null},props:{Name:{get:function(){return this._name}}},ctors:{ctor:function(name){this.$initialize();System.Attribute.ctor.call(this);this._name=name}}});Bridge.define("Myra.DefaultAssets",{statics:{fields:{DefaultFontName:null,DefaultSmallFontName:null,DefaultStylesheetName:null,DefaultAtlasName:null,DefaultAtlasImageName:null,_assetResolver:null,_font:null,_fontSmall:null,_uiSpritesheet:null,_uiStylesheet:null,_uiBitmap:null,_uiRasterizerState:null,_white:null,_whiteRegion:null,UIBitmap:null},props:{White:{get:function(){return Myra.DefaultAssets._white==null&&(Myra.DefaultAssets._white=new Microsoft.Xna.Framework.Graphics.Texture2D.$ctor1(Myra.MyraEnvironment.GraphicsDevice,1,1,!1,Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color),Myra.DefaultAssets._white.SetData(Bridge.global.Microsoft.Xna.Framework.Color,System.Array.init([Microsoft.Xna.Framework.Color.White.$clone()],Microsoft.Xna.Framework.Color))),Myra.DefaultAssets._white}},WhiteRegion:{get:function(){return Myra.DefaultAssets._whiteRegion==null&&(Myra.DefaultAssets._whiteRegion=new Myra.Graphics2D.TextureAtlases.TextureRegion.ctor(Myra.DefaultAssets.White)),Myra.DefaultAssets._whiteRegion}},Font:{get:function(){return Myra.DefaultAssets._font!=null?Myra.DefaultAssets._font:(Myra.DefaultAssets._font=Myra.Graphics2D.Text.SpriteFontHelper.LoadFromFnt(Myra.DefaultAssets._assetResolver.ReadAsString(Myra.DefaultAssets.DefaultFontName),function(s){return Myra.DefaultAssets.UISpritesheet.Regions.get("default")}),Myra.DefaultAssets._font)}},FontSmall:{get:function(){return Myra.DefaultAssets._fontSmall!=null?Myra.DefaultAssets._fontSmall:(Myra.DefaultAssets._fontSmall=Myra.Graphics2D.Text.SpriteFontHelper.LoadFromFnt(Myra.DefaultAssets._assetResolver.ReadAsString(Myra.DefaultAssets.DefaultSmallFontName),function(s){return Myra.DefaultAssets.UISpritesheet.Regions.get("font-small")}),Myra.DefaultAssets._fontSmall)}},UISpritesheet:{get:function(){return Myra.DefaultAssets._uiSpritesheet!=null?Myra.DefaultAssets._uiSpritesheet:(Myra.DefaultAssets._uiSpritesheet=Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.FromJson(Myra.DefaultAssets._assetResolver.ReadAsString(Myra.DefaultAssets.DefaultAtlasName),Myra.DefaultAssets.UIBitmap),Myra.DefaultAssets._uiSpritesheet)}},UIStylesheet:{get:function(){return Myra.DefaultAssets._uiStylesheet!=null?Myra.DefaultAssets._uiStylesheet:(Myra.DefaultAssets._uiStylesheet=Myra.Graphics2D.UI.Styles.Stylesheet.CreateFromSource(Myra.DefaultAssets._assetResolver.ReadAsString(Myra.DefaultAssets.DefaultStylesheetName),function(s){return System.String.isNullOrEmpty(s)?null:Myra.DefaultAssets.UISpritesheet.Regions.get(s)},function(f){return Bridge.referenceEquals(f,"default-font")?Myra.DefaultAssets.Font:Myra.DefaultAssets.FontSmall}),Myra.DefaultAssets._uiStylesheet)}},UIRasterizerState:{get:function(){var $t;return Myra.DefaultAssets._uiRasterizerState!=null?Myra.DefaultAssets._uiRasterizerState:(Myra.DefaultAssets._uiRasterizerState=($t=new Microsoft.Xna.Framework.Graphics.RasterizerState.ctor,$t.ScissorTestEnable=!0,$t),Myra.DefaultAssets._uiRasterizerState)}}},ctors:{init:function(){this.DefaultFontName="default_font.fnt";this.DefaultSmallFontName="default_font_small.fnt";this.DefaultStylesheetName="default_ui_skin.json";this.DefaultAtlasName="default_ui_skin_atlas.json";this.DefaultAtlasImageName="default_ui_skin_atlas.png";this._assetResolver=new Myra.Utility.ResourceAssetResolver(Bridge.Reflection.getTypeAssembly(Myra.DefaultAssets),"MyraWebDemo.Myra.Resources.")}},methods:{Dispose:function(){Myra.DefaultAssets._font=null;Myra.DefaultAssets._fontSmall=null;Myra.DefaultAssets._uiSpritesheet=null;Myra.DefaultAssets._uiStylesheet=null;Myra.Graphics2D.UI.Styles.Stylesheet.Current=null;Myra.DefaultAssets._whiteRegion=null;Myra.DefaultAssets._white!=null&&(Myra.DefaultAssets._white.Dispose(),Myra.DefaultAssets._white=null);Myra.DefaultAssets._uiBitmap!=null&&(Myra.DefaultAssets._uiBitmap.Dispose(),Myra.DefaultAssets._uiBitmap=null);Myra.DefaultAssets._uiRasterizerState!=null&&(Myra.DefaultAssets._uiRasterizerState.Dispose(),Myra.DefaultAssets._uiRasterizerState=null)}}}});Bridge.define("Myra.Graphics2D.IRenderable",{$kind:"interface"});Bridge.define("Myra.Graphics2D.PaddingInfo",{$kind:"struct",statics:{fields:{Zero:null},ctors:{init:function(){this.Zero=new Myra.Graphics2D.PaddingInfo}},methods:{op_Equality:function(a,b){return a.Left===b.Left&&a.Right===b.Right&&a.Top===b.Top&&a.Bottom===b.Bottom},op_Inequality:function(a,b){return!Myra.Graphics2D.PaddingInfo.op_Equality(a.$clone(),b.$clone())},getDefaultValue:function(){return new Myra.Graphics2D.PaddingInfo}}},fields:{Left:0,Right:0,Top:0,Bottom:0},props:{Width:{get:function(){return this.Left+this.Right|0}},Height:{get:function(){return this.Top+this.Bottom|0}}},ctors:{ctor:function(){this.$initialize()}},methods:{toString:function(){return System.String.format("{{Left: {0}, Right: {1}, Top: {2}, Bottom: {3}}}",this.Left,this.Right,this.Top,this.Bottom)},getHashCode:function(){return Bridge.addHash([2923116071,this.Left,this.Right,this.Top,this.Bottom])},equals:function(o){return Bridge.is(o,Myra.Graphics2D.PaddingInfo)?Bridge.equals(this.Left,o.Left)&&Bridge.equals(this.Right,o.Right)&&Bridge.equals(this.Top,o.Top)&&Bridge.equals(this.Bottom,o.Bottom):!1},$clone:function(to){var s=to||new Myra.Graphics2D.PaddingInfo;return s.Left=this.Left,s.Right=this.Right,s.Top=this.Top,s.Bottom=this.Bottom,s}}});Bridge.define("Myra.Graphics2D.SpriteBatchBeginParams",{fields:{_transformMatrix:null,SpriteSortMode:0,BlendState:null,SamplerState:null,DepthStencilState:null,RasterizerState:null,Effect:null,InverseTransform:null},props:{TransformMatrix:{get:function(){return System.Nullable.lift1("$clone",this._transformMatrix)},set:function(value){System.Nullable.lifteq(Microsoft.Xna.Framework.Matrix.op_Equality,System.Nullable.lift1("$clone",value),System.Nullable.lift1("$clone",this._transformMatrix))||(this._transformMatrix=System.Nullable.lift1("$clone",value),System.Nullable.liftne(Microsoft.Xna.Framework.Matrix.op_Inequality,System.Nullable.lift1("$clone",this._transformMatrix),null)&&(this.InverseTransform=Microsoft.Xna.Framework.Matrix.Invert(System.Nullable.getValue(this._transformMatrix).$clone())))}}},ctors:{init:function(){this.InverseTransform=new Microsoft.Xna.Framework.Matrix}}});Bridge.define("Myra.Graphics2D.Text.CharInfo",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Myra.Graphics2D.Text.CharInfo}}},fields:{Value:0,OriginalIndex:0},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([3787970188,this.Value,this.OriginalIndex])},equals:function(o){return Bridge.is(o,Myra.Graphics2D.Text.CharInfo)?Bridge.equals(this.Value,o.Value)&&Bridge.equals(this.OriginalIndex,o.OriginalIndex):!1},$clone:function(to){var s=to||new Myra.Graphics2D.Text.CharInfo;return s.Value=this.Value,s.OriginalIndex=this.OriginalIndex,s}}});Bridge.define("Myra.Graphics2D.Text.FormattedText",{fields:{_font:null,_text:null,_verticalSpacing:0,_width:null,_strings:null,_size:null,_colored:!1,_isMenuText:!1,_dirty:!1,_underscoreChar:null},props:{Font:{get:function(){return this._font},set:function(value){Bridge.referenceEquals(value,this._font)||(this._font=value,this.InvalidateLayout())}},Text:{get:function(){return this._text},set:function(value){Bridge.referenceEquals(value,this._text)||(this._text=value,this.InvalidateLayout())}},VerticalSpacing:{get:function(){return this._verticalSpacing},set:function(value){value!==this._verticalSpacing&&(this._verticalSpacing=value,this.InvalidateLayout())}},Width:{get:function(){return this._width},set:function(value){System.Nullable.eq(value,this._width)||(this._width=value,this.InvalidateLayout())}},IsColored:{get:function(){return this._colored},set:function(value){value!==this._colored&&(this._colored=value,this.InvalidateLayout())}},IsMenuText:{get:function(){return this._isMenuText},set:function(value){value!==this._isMenuText&&(this._isMenuText=value,this.InvalidateLayout())}},Strings:{get:function(){return this.Update(),this._strings}},Size:{get:function(){return this.Update(),this._size.$clone()}},UnderscoreChar:{get:function(){return this._underscoreChar}}},ctors:{init:function(){this._size=new Microsoft.Xna.Framework.Point;this._text="";this._colored=!0;this._dirty=!0}},methods:{Update:function(){var $t,parser,options,i,si,r;if(this._dirty){for(parser=new Myra.Graphics2D.Text.FormattedText.TextParser,options=($t=new Myra.Graphics2D.Text.FormattedText.Options,$t.Color=this._colored,$t.Width=this._width,$t.IsMenuText=this._isMenuText,$t),this._strings=parser.Format(this._font,this._text,options.$clone()),this._size=Microsoft.Xna.Framework.Point.Zero.$clone(),this._underscoreChar=null,i=0;i<this._strings.length;i=i+1|0)if(si=this._strings[i],si.Size.X>this._size.X&&(this._size.X=si.Size.X),this._size.Y=this._size.Y+si.Size.Y|0,i<(this._strings.length-1|0)&&(this._size.Y=this._size.Y+this._verticalSpacing|0),this._underscoreChar==null){$t=Bridge.getEnumerator(si.TextRuns);try{while($t.moveNext())r=$t.Current,System.Nullable.hasValue(r.UnderscoreIndex)&&System.Nullable.getValue(r.UnderscoreIndex)<r.Count&&(this._underscoreChar=String.fromCharCode(r.Text.charCodeAt(System.Nullable.getValue(r.UnderscoreIndex))).toLowerCase().charCodeAt(0))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}this._dirty=!1}},Draw$1:function(batch,bounds,textColor,opacity){var $t,strings,y,si;if(opacity===void 0&&(opacity=1),strings=this.Strings,strings!=null&&strings.length!==0){y=bounds.Top;$t=Bridge.getEnumerator(strings);try{while($t.moveNext())si=$t.Current,y>=bounds.Top&&y<bounds.Bottom&&si.Draw(batch,new Microsoft.Xna.Framework.Point.$ctor2(bounds.Left,y),textColor.$clone(),opacity),y=y+si.Size.Y|0,y=y+this._verticalSpacing|0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}},Draw:function(batch,pos,textColor){this.Draw$1(batch,new Microsoft.Xna.Framework.Rectangle.$ctor2(pos.X,pos.Y,this._size.X,this._size.Y),textColor.$clone())},InvalidateLayout:function(){this._dirty=!0},GetGlyphInfoByIndex:function(charIndex){var $t,strings,si;this.Text!=null&&charIndex>=this.Text.length&&(charIndex=this.Text.length-1|0);strings=this.Strings;$t=Bridge.getEnumerator(strings);try{while($t.moveNext())if(si=$t.Current,charIndex>si.Count)charIndex=charIndex-si.Count|0;else return si.GetGlyphInfoByIndex(charIndex)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return null},Hit:function(pos){var $t,strings=this.Strings,si,r;$t=Bridge.getEnumerator(strings);try{while($t.moveNext())if(si=$t.Current,r=si.Hit(pos.$clone()),r!=null)return r}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return null},Clone:function(){var $t;return $t=new Myra.Graphics2D.Text.FormattedText,$t.IsColored=this.IsColored,$t.Font=this.Font,$t.Text=this.Text,$t.VerticalSpacing=this.VerticalSpacing,$t.Width=this.Width,$t}}});Bridge.define("Myra.Graphics2D.Text.FormattedText.Options",{$kind:"nested struct",statics:{methods:{getDefaultValue:function(){return new Myra.Graphics2D.Text.FormattedText.Options}}},fields:{Width:null,Color:!1,IsMenuText:!1},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([1776803518,this.Width,this.Color,this.IsMenuText])},equals:function(o){return Bridge.is(o,Myra.Graphics2D.Text.FormattedText.Options)?Bridge.equals(this.Width,o.Width)&&Bridge.equals(this.Color,o.Color)&&Bridge.equals(this.IsMenuText,o.IsMenuText):!1},$clone:function(to){var s=to||new Myra.Graphics2D.Text.FormattedText.Options;return s.Width=this.Width,s.Color=this.Color,s.IsMenuText=this.IsMenuText,s}}});Bridge.define("Myra.Graphics2D.Text.FormattedText.TextParser",{$kind:"nested class",fields:{_lexemes:null,_lexeme:null,_currentColor:null,_fullString:null,_lastLine:null,_lastRun:null,_result:null,_font:null},ctors:{init:function(){this._lexemes=new(System.Collections.Generic.List$1(Myra.Graphics2D.Text.FormattedText.TextParser.Lexeme).ctor);this._lexeme=new Myra.Graphics2D.Text.FormattedText.TextParser.Lexeme;this._fullString=new System.Text.StringBuilder;this._result=new(System.Collections.Generic.List$1(Myra.Graphics2D.Text.TextLine).ctor)}},methods:{StoreLexeme:function(){this._lexeme.chars.Count!==0&&(this._lexemes.add(this._lexeme),this._lexeme=new Myra.Graphics2D.Text.FormattedText.TextParser.Lexeme)},StoreRun:function(){this._lastRun.Count>0&&this._lastLine.TextRuns.add(this._lastRun);this._lastRun=new Myra.Graphics2D.Text.TextRun(this._font,System.Nullable.lift1("$clone",this._currentColor))},StoreLine:function(){this.StoreRun();this._result.add(this._lastLine);this._lastLine=new Myra.Graphics2D.Text.TextLine;this._fullString.clear()},Format:function(font,text,options){var $t,$t1,pt,str,pos,c,color,l,li,sz;if(System.String.isNullOrEmpty(text))return System.Array.init(0,null,Myra.Graphics2D.Text.TextLine);for(this._font=font,pt=Myra.Graphics2D.Text.FormattedText.TextParser.ParseType.Text,this._lexeme=new Myra.Graphics2D.Text.FormattedText.TextParser.Lexeme,this._lexemes.clear(),str=new System.Text.StringBuilder,pos=0;pos<text.length;pos=pos+1|0)c=text.charCodeAt(pos),pt===Myra.Graphics2D.Text.FormattedText.TextParser.ParseType.Text?options.Color&&c===91&&pos<(text.length-1|0)&&text.charCodeAt(pos+1|0)!==91?(this.StoreLexeme(),pt=Myra.Graphics2D.Text.FormattedText.TextParser.ParseType.Color):c===10?(this.StoreLexeme(),this._lexeme.type=Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType.LineBreak,this._lexeme.AppendChar(c,pos),this.StoreLexeme()):c===32&&this._lexeme.type===Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType.Word?(this.StoreLexeme(),this._lexeme.type=Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType.Space,this._lexeme.AppendChar(c,pos)):c===32?this._lexeme.AppendChar(c,pos):c>32&&(this._lexeme.type===Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType.Space&&(this.StoreLexeme(),this._lexeme.type=Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType.Word),options.IsMenuText&&c===38?this._lexeme.UnderscoreIndex=this._lexeme.chars.Count:this._lexeme.AppendChar(c,pos),options.Color&&c===91&&(pos=pos+1|0)):pt===Myra.Graphics2D.Text.FormattedText.TextParser.ParseType.Color&&(c!==93?str.append(String.fromCharCode(c)):str.getLength()>=1&&(color=Myra.Utility.GraphicsExtension.FromName(str.toString()),str.clear(),l=($t=new Myra.Graphics2D.Text.FormattedText.TextParser.Lexeme,$t.type=Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType.Color,$t.color=($t1=color,$t1!=null?$t1:Microsoft.Xna.Framework.Color.White),$t),this._lexemes.add(l),pt=Myra.Graphics2D.Text.FormattedText.TextParser.ParseType.Text));this.StoreLexeme();this._result.clear();this._lastLine=new Myra.Graphics2D.Text.TextLine;this._lastRun=new Myra.Graphics2D.Text.TextRun(this._font,System.Nullable.lift1("$clone",this._currentColor));this._fullString.clear();$t=Bridge.getEnumerator(this._lexemes);try{while($t.moveNext()){li=$t.Current;switch(li.type){case Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType.LineBreak:this.StoreLine();break;case Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType.Space:case Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType.Word:this._fullString.append(li.text);li.UnderscoreIndex!=null&&(this._lastRun.UnderscoreIndex=Bridge.Int.clip32(System.Nullable.add(this._lastRun.Count,li.UnderscoreIndex)));System.Nullable.hasValue(options.Width)?(sz=font.MeasureString(this._fullString.toString()),sz.X<=System.Nullable.getValue(options.Width)?this._lastRun.Append$1(li.chars):(this.StoreLine(),li.type===Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType.Word&&(this._fullString.append(li.text),this._lastRun.Append$1(li.chars)))):this._lastRun.Append$1(li.chars);break;case Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType.Color:this._currentColor=li.color.$clone();this.StoreRun();break}}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return this.StoreLine(),this._result.ToArray()}}});Bridge.define("Myra.Graphics2D.Text.FormattedText.TextParser.Lexeme",{$kind:"nested class",fields:{text:null,type:0,chars:null,color:null,UnderscoreIndex:null},ctors:{init:function(){this.color=new Microsoft.Xna.Framework.Color;this.text=new System.Text.StringBuilder;this.type=Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType.Word;this.chars=new(System.Collections.Generic.List$1(Myra.Graphics2D.Text.CharInfo).ctor)}},methods:{AppendChar:function(c,originalIndex){var $t;this.chars.add(($t=new Myra.Graphics2D.Text.CharInfo,$t.Value=c,$t.OriginalIndex=originalIndex,$t));this.text.append(String.fromCharCode(c))}}});Bridge.define("Myra.Graphics2D.Text.FormattedText.TextParser.LexemeType",{$kind:"nested enum",statics:{fields:{Word:0,Space:1,LineBreak:2,Color:3}}});Bridge.define("Myra.Graphics2D.Text.FormattedText.TextParser.ParseType",{$kind:"nested enum",statics:{fields:{Text:0,Color:1}}});Bridge.define("Myra.Graphics2D.Text.GlyphInfo",{fields:{Index:0,Character:0,Bounds:null,TextRun:null},ctors:{init:function(){this.Bounds=new Microsoft.Xna.Framework.Rectangle}}});Bridge.define("Myra.Graphics2D.Text.SpriteFontHelper",{statics:{methods:{LoadFromFnt:function(text,textureRegionLoader){var $t,$t1,$t2,data=new Cyotek.Drawing.BitmapFont.BitmapFont,character,bounds,constructorInfo,result;data.LoadText$2(text);var glyphBounds=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Rectangle).ctor),cropping=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Rectangle).ctor),chars=new(System.Collections.Generic.List$1(System.Char).ctor),kerning=new(System.Collections.Generic.List$1(Microsoft.Xna.Framework.Vector3).ctor),textureRegion=textureRegionLoader(($t=data.Pages)[0].FileName),characters=System.Linq.Enumerable.from(data.Characters.System$Collections$Generic$IDictionary$2$System$Char$Cyotek$Drawing$BitmapFont$Character$Values).orderBy(function(c){return c.Char});$t1=Bridge.getEnumerator(characters);try{while($t1.moveNext())character=$t1.Current.$clone(),bounds=character.Bounds.$clone(),bounds.Offset(textureRegion.Bounds.Location.$clone()),glyphBounds.add(bounds.$clone()),cropping.add(new Microsoft.Xna.Framework.Rectangle.$ctor2(character.Offset.X,character.Offset.Y,bounds.Width,bounds.Height)),chars.add(character.Char),kerning.add(new Microsoft.Xna.Framework.Vector3.$ctor3(0,character.Bounds.Width,character.XAdvance-character.Bounds.Width|0))}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}return constructorInfo=($t2=Bridge.Reflection.getMembers(Microsoft.Xna.Framework.Graphics.SpriteFont,1,28))[0],result=Bridge.cast(Bridge.Reflection.invokeCI(constructorInfo,System.Array.init([textureRegion.Texture,glyphBounds,cropping,chars,data.LineHeight,0,kerning,32],System.Object)),Microsoft.Xna.Framework.Graphics.SpriteFont),result}}}});Bridge.define("Myra.Graphics2D.Text.TextLine",{fields:{_textRuns:null,_size:null,_renderedPosition:null,_dirty:!1,Count:0},props:{Size:{get:function(){return this.Update(),this._size.$clone()}},TextRuns:{get:function(){return this._textRuns}}},ctors:{init:function(){this._size=new Microsoft.Xna.Framework.Point;this._textRuns=new(System.Collections.ObjectModel.ObservableCollection$1(Myra.Graphics2D.Text.TextRun).ctor);this._dirty=!0},ctor:function(){this.$initialize();this._textRuns.addCollectionChanged(Bridge.fn.bind(this,function(s,a){this._dirty=!0}))}},methods:{Update:function(){var $t,run;if(this._dirty){this.Count=0;this._size=Microsoft.Xna.Framework.Point.Zero.$clone();$t=Bridge.getEnumerator(this._textRuns);try{while($t.moveNext())run=$t.Current,run.Update(),this._size.X=this._size.X+run.Size.X|0,run.Size.Y>this._size.Y&&(this._size.Y=run.Size.Y),this.Count=this.Count+run.Count|0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this._dirty=!1}},Draw:function(batch,pos,color,opacity){var $t,$t1,run;opacity===void 0&&(opacity=1);this.Update();this._renderedPosition=pos.$clone();$t=Bridge.getEnumerator(this._textRuns);try{while($t.moveNext())run=$t.Current,run.Draw(batch,pos.$clone(),($t1=run.Color,$t1!=null?$t1:color),opacity),pos.X=pos.X+run.Size.X|0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},GetGlyphInfoByIndex:function(index){var $t,run,result;if(System.Nullable.lifteq(Microsoft.Xna.Framework.Point.op_Equality,System.Nullable.lift1("$clone",this._renderedPosition),null))return null;this.Update();$t=Bridge.getEnumerator(this._textRuns);try{while($t.moveNext()){if(run=$t.Current,result=run.GetGlyphInfoByIndex(index),result!=null)return result;index=index-run.Count|0}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return null},Hit:function(position){var $t,r,run,result;if(System.Nullable.lifteq(Microsoft.Xna.Framework.Point.op_Equality,System.Nullable.lift1("$clone",this._renderedPosition),null)||(r=new Microsoft.Xna.Framework.Rectangle.$ctor2(System.Nullable.getValue(this._renderedPosition).X,System.Nullable.getValue(this._renderedPosition).Y,this.Size.X,this.Size.Y),!r.Contains(position.$clone())))return null;$t=Bridge.getEnumerator(this._textRuns);try{while($t.moveNext())if(run=$t.Current,result=run.Hit(position.$clone()),result!=null)return result}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return null}}});Bridge.define("Myra.Graphics2D.Text.TextRun",{fields:{_text:null,_spriteFont:null,_dirty:!1,_size:null,_renderedPosition:null,_glyphs:null,Color:null,UnderscoreIndex:null},props:{Count:{get:function(){return this._text!=null?this._text.length:0}},Text:{get:function(){return this._text}},Size:{get:function(){return this.Update(),this._size.$clone()}},SpriteFont:{get:function(){return this._spriteFont}},RenderedPosition:{get:function(){return System.Nullable.lift1("$clone",this._renderedPosition)}}},ctors:{init:function(){this._size=new Microsoft.Xna.Framework.Point;this._dirty=!0;this._glyphs=new(System.Collections.Generic.List$1(Myra.Graphics2D.Text.GlyphInfo).ctor)},ctor:function(font,color){if(this.$initialize(),font==null)throw new System.ArgumentNullException.$ctor1("font");this._spriteFont=font;this.Color=System.Nullable.lift1("$clone",color)}},methods:{Clear:function(){this._glyphs.clear();this._size=Microsoft.Xna.Framework.Point.Zero.$clone();this._text="";this._dirty=!0},Append:function(ci){var $t,g;this._dirty=!0;this._text=(this._text||"")+String.fromCharCode(ci.Value);g=($t=new Myra.Graphics2D.Text.GlyphInfo,$t.Index=ci.OriginalIndex,$t.Character=ci.Value,$t.TextRun=this,$t);this._glyphs.add(g)},Append$1:function(charInfos){var $t,ci;$t=Bridge.getEnumerator(charInfos,Myra.Graphics2D.Text.CharInfo);try{while($t.moveNext())ci=$t.Current.$clone(),this.Append(ci.$clone())}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},Update:function(){var sz,i,g,p,result;if(this._dirty){if(System.String.isNullOrEmpty(this._text))this._size=new Microsoft.Xna.Framework.Point.$ctor2(0,this._spriteFont.LineSpacing);else{sz=this._spriteFont.MeasureString(this._text);this._size=new Microsoft.Xna.Framework.Point.$ctor2(Bridge.Int.clip32(sz.X),Bridge.Int.clip32(sz.Y));var fontGlyphs=this._spriteFont.GetGlyphs(),offset=Microsoft.Xna.Framework.Vector2.Zero.$clone(),firstGlyphOfLine=!0;for(i=0;i<this._text.length;i=i+1|0)g={v:new Microsoft.Xna.Framework.Graphics.SpriteFont.Glyph},fontGlyphs.tryGetValue(this._text.charCodeAt(i),g),firstGlyphOfLine?(offset.X=Math.max(g.v.LeftSideBearing,0),firstGlyphOfLine=!1):offset.X+=this._spriteFont.Spacing+g.v.LeftSideBearing,p=offset.$clone(),p=Microsoft.Xna.Framework.Vector2.op_Addition(p.$clone(),g.v.Cropping.Location.ToVector2()),result=new Microsoft.Xna.Framework.Rectangle.$ctor2(Bridge.Int.clip32(p.X),Bridge.Int.clip32(p.Y),Bridge.Int.clip32(g.v.Width+g.v.RightSideBearing),g.v.BoundsInTexture.Height),this._glyphs.getItem(i).Bounds=result.$clone(),offset.X+=g.v.Width+g.v.RightSideBearing}this._dirty=!1}},Draw:function(batch,pos,color,opacity){var g,i,g1,r;if(opacity===void 0&&(opacity=1),this.Update(),batch.DrawString(this._spriteFont,this._text,new Microsoft.Xna.Framework.Vector2.$ctor2(pos.X,pos.Y),Microsoft.Xna.Framework.Color.op_Multiply(color.$clone(),opacity)),Myra.MyraEnvironment.ShowUnderscores&&this.UnderscoreIndex!=null&&System.Nullable.getValue(this.UnderscoreIndex)<this.Count&&(g=this._glyphs.getItem(System.Nullable.getValue(this.UnderscoreIndex)),Myra.ShapeExtensions.DrawRectangle(batch,new Microsoft.Xna.Framework.Rectangle.$ctor2(pos.X+g.Bounds.X|0,pos.Y+g.Bounds.Bottom|0,g.Bounds.Width-1|0,1),color.$clone())),Myra.MyraEnvironment.DrawTextGlyphsFrames&&!System.String.isNullOrEmpty(this._text))for(i=0;i<this._glyphs.Count;i=i+1|0)g1=this._glyphs.getItem(i),r=new Microsoft.Xna.Framework.Rectangle.$ctor2(pos.X+g1.Bounds.X|0,pos.Y+g1.Bounds.Y|0,g1.Bounds.Width,g1.Bounds.Height),Myra.ShapeExtensions.DrawRectangle(batch,r.$clone(),Microsoft.Xna.Framework.Color.White.$clone());this._renderedPosition=pos.$clone()},GetGlyphInfoByIndex:function(index){return System.String.isNullOrEmpty(this._text)||System.Nullable.lifteq(Microsoft.Xna.Framework.Point.op_Equality,System.Nullable.lift1("$clone",this._renderedPosition),null)||index<0||index>=this._text.length?null:(this.Update(),this._glyphs.getItem(index))},Hit:function(position){var r,i,g;if(System.String.isNullOrEmpty(this._text)||System.Nullable.lifteq(Microsoft.Xna.Framework.Point.op_Equality,System.Nullable.lift1("$clone",this._renderedPosition),null)||(r=new Microsoft.Xna.Framework.Rectangle.$ctor2(System.Nullable.getValue(this._renderedPosition).X,System.Nullable.getValue(this._renderedPosition).Y,this.Size.X,this.Size.Y),!r.Contains(position.$clone())))return null;for(i=0;i<this._text.length;i=i+1|0)if(g=this._glyphs.getItem(i),r=new Microsoft.Xna.Framework.Rectangle.$ctor2(System.Nullable.getValue(this._renderedPosition).X+g.Bounds.X|0,System.Nullable.getValue(this._renderedPosition).Y,g.Bounds.Width,this._size.Y),r.Contains(position.$clone()))return g;return null}}});Bridge.define("Myra.Graphics2D.TextureAtlases.TextureRegionAtlas",{statics:{fields:{BoundsName:null,_gdxIdsToTextureWraps:null},ctors:{init:function(){this.BoundsName="bounds";this._gdxIdsToTextureWraps=new(System.Collections.Generic.Dictionary$2(System.String,Microsoft.Xna.Framework.Graphics.TextureAddressMode))},ctor:function(){Myra.Graphics2D.TextureAtlases.TextureRegionAtlas._gdxIdsToTextureWraps.set("MirroredRepeat",Microsoft.Xna.Framework.Graphics.TextureAddressMode.Mirror);Myra.Graphics2D.TextureAtlases.TextureRegionAtlas._gdxIdsToTextureWraps.set("ClampToEdge",Microsoft.Xna.Framework.Graphics.TextureAddressMode.Clamp);Myra.Graphics2D.TextureAtlases.TextureRegionAtlas._gdxIdsToTextureWraps.set("Repeat",Microsoft.Xna.Framework.Graphics.TextureAddressMode.Wrap)}},methods:{FromJson:function(json,texture){var $t,$t1,root,reader=new System.IO.StringReader(json),regions,jPadding,padding;try{root=Bridge.cast(MonoGdx.Utils.Json.Deserialize(reader),System.Collections.Generic.Dictionary$2(System.String,System.Object))}finally{Bridge.hasValue(reader)&&reader.System$IDisposable$Dispose()}regions=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.TextureAtlases.TextureRegion));$t=Bridge.getEnumerator(root);try{while($t.moveNext()){var pair=$t.Current,entry=Bridge.cast(pair.value,System.Collections.Generic.Dictionary$2(System.String,System.Object)),jBounds=Bridge.cast(entry.get(Myra.Graphics2D.UI.Styles.StylesheetLoader.BoundsName),System.Collections.Generic.Dictionary$2(System.String,System.Object)),bounds=new Microsoft.Xna.Framework.Rectangle.$ctor2(System.Int32.parse(Bridge.toString(jBounds.get(Myra.Graphics2D.UI.Styles.StylesheetLoader.LeftName))),System.Int32.parse(Bridge.toString(jBounds.get(Myra.Graphics2D.UI.Styles.StylesheetLoader.TopName))),System.Int32.parse(Bridge.toString(jBounds.get(Myra.Graphics2D.UI.Styles.StylesheetLoader.WidthName))),System.Int32.parse(Bridge.toString(jBounds.get(Myra.Graphics2D.UI.Styles.StylesheetLoader.HeightName)))),region;Bridge.referenceEquals(Bridge.toString(entry.get(Myra.Graphics2D.UI.Styles.StylesheetLoader.TypeName)),"0")?region=new Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1(texture,bounds.$clone()):(jPadding=Bridge.cast(entry.get(Myra.Graphics2D.UI.Styles.StylesheetLoader.PaddingName),System.Collections.Generic.Dictionary$2(System.String,System.Object)),padding=($t1=new Myra.Graphics2D.PaddingInfo,$t1.Left=System.Int32.parse(Bridge.toString(jPadding.get(Myra.Graphics2D.UI.Styles.StylesheetLoader.LeftName))),$t1.Top=System.Int32.parse(Bridge.toString(jPadding.get(Myra.Graphics2D.UI.Styles.StylesheetLoader.TopName))),$t1.Right=System.Int32.parse(Bridge.toString(jPadding.get(Myra.Graphics2D.UI.Styles.StylesheetLoader.RightName))),$t1.Bottom=System.Int32.parse(Bridge.toString(jPadding.get(Myra.Graphics2D.UI.Styles.StylesheetLoader.BottomName))),$t1),region=new Myra.Graphics2D.TextureAtlases.NinePatchRegion(texture,bounds.$clone(),padding.$clone()));regions.set(Bridge.toString(pair.key),region)}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return new Myra.Graphics2D.TextureAtlases.TextureRegionAtlas(regions)},FromGDXFilters:function(min,mag){if(min===Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXTextureFilter.Nearest&&mag===Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXTextureFilter.Nearest)return Microsoft.Xna.Framework.Graphics.TextureFilter.Point;if(min===Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXTextureFilter.Linear&&mag===Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXTextureFilter.Linear)return Microsoft.Xna.Framework.Graphics.TextureFilter.Linear;throw new System.Exception("Not supported!");},FromGDX:function(data,textureLoader){var $t,mode=Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXMode.PageHeader,pageData=null,spriteDatas=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXSpriteData)),textReader=new System.IO.StringReader(data),spriteData,s,texture,format,minFilter,magFilter,isRotated,split,regions;try{for(spriteData=null;;){if(s=textReader.ReadLine(),s==null)break;if(s=s.trim(),System.String.isNullOrEmpty(s)){pageData=null;continue}if(pageData==null){if(texture=textureLoader(s),texture==null)throw new System.Exception(System.String.format("Unable to resolve texture {0}",[s]));pageData=($t=new Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXPageData,$t.Texture=texture,$t);mode=Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXMode.PageHeader;continue}if(!System.String.contains(s,":")){spriteData=($t=new Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXSpriteData,$t.PageData=pageData,$t.Name=s,$t);spriteDatas.set(s,spriteData);mode=Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXMode.Sprite;continue}var parts=System.String.split(s,[58].map(function(i){return String.fromCharCode(i)})),key=parts[0].trim().toLowerCase(),value=parts[1].trim();switch(key){case"format":format={v:new Microsoft.Xna.Framework.Graphics.SurfaceFormat};System.Enum.tryParse(Bridge.global.Microsoft.Xna.Framework.Graphics.SurfaceFormat,value,format)||(format.v=Microsoft.Xna.Framework.Graphics.SurfaceFormat.Color);pageData.Format=format.v;break;case"filter":parts=System.String.split(value,[44].map(function(i){return String.fromCharCode(i)}));minFilter=Bridge.cast(System.Enum.parse(Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXTextureFilter,parts[0].trim()),System.Int32);magFilter=Bridge.cast(System.Enum.parse(Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXTextureFilter,parts[1].trim()),System.Int32);pageData.Filter=Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.FromGDXFilters(minFilter,magFilter);break;case"repeat":Bridge.referenceEquals(value,"x")?pageData.UWrap=Microsoft.Xna.Framework.Graphics.TextureAddressMode.Wrap:Bridge.referenceEquals(value,"y")?pageData.VWrap=Microsoft.Xna.Framework.Graphics.TextureAddressMode.Wrap:Bridge.referenceEquals(value,"xy")&&(pageData.UWrap=Microsoft.Xna.Framework.Graphics.TextureAddressMode.Wrap,pageData.VWrap=Microsoft.Xna.Framework.Graphics.TextureAddressMode.Wrap);break;case"rotate":isRotated={};System.Boolean.tryParse(value,isRotated);spriteData.IsRotated=isRotated.v;break;case"xy":parts=System.String.split(value,[44].map(function(i){return String.fromCharCode(i)}));spriteData.SourceRectangle.X=System.Int32.parse(parts[0].trim());spriteData.SourceRectangle.Y=System.Int32.parse(parts[1].trim());break;case"size":if(spriteData==null)continue;parts=System.String.split(value,[44].map(function(i){return String.fromCharCode(i)}));spriteData.SourceRectangle.Width=System.Int32.parse(parts[0].trim());spriteData.SourceRectangle.Height=System.Int32.parse(parts[1].trim());break;case"orig":parts=System.String.split(value,[44].map(function(i){return String.fromCharCode(i)}));spriteData.OriginalSize=new Microsoft.Xna.Framework.Point.$ctor2(System.Int32.parse(parts[0].trim()),System.Int32.parse(parts[1].trim()));break;case"offset":parts=System.String.split(value,[44].map(function(i){return String.fromCharCode(i)}));spriteData.Offset=new Microsoft.Xna.Framework.Point.$ctor2(System.Int32.parse(parts[0].trim()),System.Int32.parse(parts[1].trim()));break;case"split":parts=System.String.split(value,[44].map(function(i){return String.fromCharCode(i)}));split=($t=new Myra.Graphics2D.PaddingInfo,$t.Left=System.Int32.parse(parts[0].trim()),$t.Right=System.Int32.parse(parts[1].trim()),$t.Top=System.Int32.parse(parts[2].trim()),$t.Bottom=System.Int32.parse(parts[3].trim()),$t);spriteData.Split=split.$clone();break}}}finally{Bridge.hasValue(textReader)&&textReader.System$IDisposable$Dispose()}regions=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.TextureAtlases.TextureRegion));$t=Bridge.getEnumerator(spriteDatas);try{while($t.moveNext()){var sd=$t.Current,texture1=sd.value.PageData.Texture,bounds=sd.value.SourceRectangle.$clone(),IRenderable;IRenderable=System.Nullable.hasValue(sd.value.Split)?new Myra.Graphics2D.TextureAtlases.NinePatchRegion(texture1,bounds.$clone(),System.Nullable.getValue(sd.value.Split).$clone()):new Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1(texture1,bounds.$clone());regions.set(sd.key,IRenderable)}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return new Myra.Graphics2D.TextureAtlases.TextureRegionAtlas(regions)}}},fields:{_regions:null},props:{Regions:{get:function(){return this._regions}}},ctors:{ctor:function(regions){if(this.$initialize(),regions==null)throw new System.ArgumentNullException.$ctor1("regions");this._regions=regions}},methods:{getItem:function(name){return this.Regions.get(name)},EnsureRegion:function(id){var result={};if(!this._regions.tryGetValue(id,result))throw new System.ArgumentNullException.$ctor1(System.String.format("Could not resolve region '{0}'",[id]));return result.v},ToJson:function(){var $t,root=new(System.Collections.Generic.Dictionary$2(System.String,System.Object)),asNinePatch,jPadding;$t=Bridge.getEnumerator(this._regions);try{while($t.moveNext()){var pair=$t.Current,entry=new(System.Collections.Generic.Dictionary$2(System.String,System.Object)),region={v:pair.value},jBounds=function($me,region){return function(_o1){return _o1.set(Myra.Graphics2D.UI.Styles.StylesheetLoader.LeftName,region.v.Bounds.X),_o1.set(Myra.Graphics2D.UI.Styles.StylesheetLoader.TopName,region.v.Bounds.Y),_o1.set(Myra.Graphics2D.UI.Styles.StylesheetLoader.WidthName,region.v.Bounds.Width),_o1.set(Myra.Graphics2D.UI.Styles.StylesheetLoader.HeightName,region.v.Bounds.Height),_o1}}(this,region)(new(System.Collections.Generic.Dictionary$2(System.String,System.Object)));entry.set(Myra.Graphics2D.UI.Styles.StylesheetLoader.BoundsName,jBounds);asNinePatch={v:Bridge.as(region.v,Myra.Graphics2D.TextureAtlases.NinePatchRegion)};asNinePatch.v==null?entry.set(Myra.Graphics2D.UI.Styles.StylesheetLoader.TypeName,"0"):(entry.set(Myra.Graphics2D.UI.Styles.StylesheetLoader.TypeName,"1"),jPadding=function($me,asNinePatch){return function(_o2){return _o2.set(Myra.Graphics2D.UI.Styles.StylesheetLoader.LeftName,asNinePatch.v.Info.Left),_o2.set(Myra.Graphics2D.UI.Styles.StylesheetLoader.TopName,asNinePatch.v.Info.Top),_o2.set(Myra.Graphics2D.UI.Styles.StylesheetLoader.RightName,asNinePatch.v.Info.Right),_o2.set(Myra.Graphics2D.UI.Styles.StylesheetLoader.BottomName,asNinePatch.v.Info.Bottom),_o2}}(this,asNinePatch)(new(System.Collections.Generic.Dictionary$2(System.String,System.Object))),entry.set(Myra.Graphics2D.UI.Styles.StylesheetLoader.PaddingName,jPadding));root.set(pair.key,entry)}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return Bridge.toString(root)}}});Bridge.define("Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXMode",{$kind:"nested enum",statics:{fields:{PageHeader:0,Sprite:1}}});Bridge.define("Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXPageData",{$kind:"nested class",fields:{Texture:null,Format:0,Filter:0,UWrap:0,VWrap:0},ctors:{ctor:function(){this.$initialize();this.UWrap=Microsoft.Xna.Framework.Graphics.TextureAddressMode.Clamp;this.VWrap=Microsoft.Xna.Framework.Graphics.TextureAddressMode.Clamp}}});Bridge.define("Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXSpriteData",{$kind:"nested class",fields:{PageData:null,Name:null,SourceRectangle:null,IsRotated:!1,Split:null,OriginalSize:null,Offset:null},ctors:{init:function(){this.SourceRectangle=new Microsoft.Xna.Framework.Rectangle;this.OriginalSize=new Microsoft.Xna.Framework.Point;this.Offset=new Microsoft.Xna.Framework.Point}}});Bridge.define("Myra.Graphics2D.TextureAtlases.TextureRegionAtlas.GDXTextureFilter",{$kind:"nested enum",statics:{fields:{Nearest:0,Linear:1,MipMap:2,MipMapNearestNearest:3,MipMapLinearNearest:4,MipMapNearestLinear:5,MipMapLinearLinear:6}}});Bridge.define("Myra.Graphics2D.UI.IItemWithId",{$kind:"interface"});Bridge.define("Myra.Graphics2D.UI.ContextMenuClosingEventArgs",{fields:{ContextMenu:null,Cancel:!1},ctors:{ctor:function(contextMenu){this.$initialize();System.Object.call(this);this.ContextMenu=contextMenu}}});Bridge.define("Myra.Graphics2D.UI.Desktop",{statics:{fields:{DoubleClickIntervalInMs:0},ctors:{init:function(){this.DoubleClickIntervalInMs=500}}},fields:{_renderContext:null,_layoutDirty:!1,_bounds:null,_widgetsDirty:!1,_focusedWidget:null,_widgetsCopy:null,_reversedWidgetsCopy:null,_widgets:null,_focusableWidgets:null,_lastTouch:null,OldMousePosition:null,MousePosition:null,MouseWheel:0,MouseState:null,KeyboardState:null,MenuBar:null,ContextMenu:null,Opacity:0,IsTouchDown:!1,MouseStateGetter:null,KeyboardStateGetter:null},events:{MouseMoved:null,MouseDown:null,MouseUp:null,MouseDoubleClick:null,TouchDown:null,TouchUp:null,MouseWheelChanged:null,KeyUp:null,KeyDown:null,Char:null,ContextMenuClosing:null,ContextMenuClosed:null},props:{WidgetsCopy:{get:function(){return this.UpdateWidgetsCopy(),this._widgetsCopy}},ReversedWidgetsCopy:{get:function(){return this.UpdateWidgetsCopy(),this._reversedWidgetsCopy}},Widgets:{get:function(){return this._widgets}},Bounds:{get:function(){return this._bounds.$clone()},set:function(value){Microsoft.Xna.Framework.Rectangle.op_Equality(value.$clone(),this._bounds.$clone())||(this._bounds=value.$clone(),this.InvalidateLayout())}},FocusedWidget:{get:function(){return this._focusedWidget},set:function(value){Bridge.referenceEquals(value,this._focusedWidget)||(this._focusedWidget!=null&&this._focusedWidget.IterateFocusable(function(w){w.IsFocused=!1}),this._focusedWidget=value,this._focusedWidget!=null&&this._focusedWidget.IterateFocusable(function(w){w.IsFocused=!0}))}},RenderContext:{get:function(){return this.EnsureRenderContext(),this._renderContext}},SpriteBatchBeginParams:{get:function(){return this.RenderContext.SpriteBatchBeginParams},set:function(value){this.RenderContext.SpriteBatchBeginParams=value}},IsMouseOverGUI:{get:function(){return this.IsPointOverGUI(this.MousePosition.$clone())}}},ctors:{init:function(){this._bounds=new Microsoft.Xna.Framework.Rectangle;this._lastTouch=System.DateTime.getDefaultValue();this.OldMousePosition=new Microsoft.Xna.Framework.Point;this.MousePosition=new Microsoft.Xna.Framework.Point;this.MouseState=new Microsoft.Xna.Framework.Input.MouseState;this.KeyboardState=new Microsoft.Xna.Framework.Input.KeyboardState;this._layoutDirty=!0;this._widgetsDirty=!0;this._widgetsCopy=new(System.Collections.Generic.List$1(Myra.Graphics2D.UI.Widget).ctor);this._reversedWidgetsCopy=new(System.Collections.Generic.List$1(Myra.Graphics2D.UI.Widget).ctor);this._widgets=new(System.Collections.ObjectModel.ObservableCollection$1(Myra.Graphics2D.UI.Widget).ctor);this._focusableWidgets=new(System.Collections.Generic.List$1(Myra.Graphics2D.UI.Widget).ctor)},ctor:function(){this.$initialize();this.Opacity=1;this._widgets.addCollectionChanged(Bridge.fn.cacheBind(this,this.WidgetsOnCollectionChanged));this.MouseStateGetter=Microsoft.Xna.Framework.Input.Mouse.GetState;this.KeyboardStateGetter=Microsoft.Xna.Framework.Input.Keyboard.GetState}},methods:{OnChar:function(c){var ev=this.Char;Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.GenericEventArgs$1(System.Char))(c));this._focusedWidget!=null&&this._focusedWidget.IterateFocusable(function(w){w.OnChar(c)})},InputOnMouseDown:function(){var ev,args;if(this.ContextMenu!=null&&!this.ContextMenu.Bounds.Contains(this.MousePosition.$clone())){if(ev=this.ContextMenuClosing,!Bridge.staticEquals(ev,null)&&(args=new Myra.Graphics2D.UI.ContextMenuClosingEventArgs(this.ContextMenu),ev(this,args),args.Cancel))return;this.HideContextMenu()}},ShowContextMenu:function(menu,position){if(menu==null)throw new System.ArgumentNullException.$ctor1("menu");this.HideContextMenu();this.ContextMenu=menu;this.ContextMenu!=null&&(this.ContextMenu.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Left,this.ContextMenu.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Top,this.ContextMenu.Left=position.X,this.ContextMenu.Top=position.Y,this.ContextMenu.Visible=!0,this._widgets.add(this.ContextMenu))},HideContextMenu:function(){if(this.ContextMenu!=null){this._widgets.remove(this.ContextMenu);this.ContextMenu.Visible=!1;var ev=this.ContextMenuClosed;Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.GenericEventArgs$1(Myra.Graphics2D.UI.Widget))(this.ContextMenu));this.ContextMenu=null}},WidgetsOnCollectionChanged:function(sender,args){var $t,$t1,w,w1;if(args.Action===System.Collections.Specialized.NotifyCollectionChangedAction.Add){$t=Bridge.getEnumerator(args.NewItems);try{while($t.moveNext())w=Bridge.cast($t.Current,Myra.Graphics2D.UI.Widget),w.Desktop=this,w.addMeasureChanged(Bridge.fn.cacheBind(this,this.WOnMeasureChanged))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}else if(args.Action===System.Collections.Specialized.NotifyCollectionChangedAction.Remove){$t1=Bridge.getEnumerator(args.OldItems);try{while($t1.moveNext())w1=Bridge.cast($t1.Current,Myra.Graphics2D.UI.Widget),w1.removeMeasureChanged(Bridge.fn.cacheBind(this,this.WOnMeasureChanged)),w1.Desktop=null}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}this.InvalidateLayout();this._widgetsDirty=!0},WOnMeasureChanged:function(sender,eventArgs){this.InvalidateLayout()},EnsureRenderContext:function(){var $t,spriteBatch;this._renderContext==null&&(spriteBatch=new Microsoft.Xna.Framework.Graphics.SpriteBatch(Myra.MyraEnvironment.GraphicsDevice),this._renderContext=($t=new Myra.Graphics2D.UI.RenderContext,$t.Batch=spriteBatch,$t))},Render:function(){var $t,oldScissorRectangle,widget;if(!this.Bounds.IsEmpty){this.UpdateInput();this.UpdateLayout();this.EnsureRenderContext();oldScissorRectangle=this._renderContext.Batch.GraphicsDevice.ScissorRectangle.$clone();this._renderContext.Begin();this._renderContext.Batch.GraphicsDevice.ScissorRectangle=this.Bounds.$clone();this._renderContext.View=this.Bounds.$clone();this._renderContext.Opacity=this.Opacity;Myra.Graphics2D.UI.Styles.Stylesheet.Current.DesktopStyle!=null&&Myra.Graphics2D.UI.Styles.Stylesheet.Current.DesktopStyle.Background!=null&&this._renderContext.Draw$1(Myra.Graphics2D.UI.Styles.Stylesheet.Current.DesktopStyle.Background,this.Bounds.$clone());$t=Bridge.getEnumerator(this.WidgetsCopy,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())widget=$t.Current,widget.Visible&&widget.Render(this._renderContext)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this._renderContext.End();this._renderContext.Batch.GraphicsDevice.ScissorRectangle=oldScissorRectangle.$clone()}},InvalidateLayout:function(){this._layoutDirty=!0},UpdateLayout:function(){var $t,widget;if(this._layoutDirty){this.ProcessWidgets();$t=Bridge.getEnumerator(this.WidgetsCopy,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())widget=$t.Current,widget.Visible&&widget.Layout(this._bounds.$clone())}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this._layoutDirty=!1}},CalculateTotalWidgets:function(visibleOnly){var $t,result=0,w,asContainer;$t=Bridge.getEnumerator(this._widgets);try{while($t.moveNext())(w=$t.Current,!visibleOnly||w.Visible)&&(result=result+1|0,asContainer=Bridge.as(w,Myra.Graphics2D.UI.Container),asContainer!=null&&(result=result+asContainer.CalculateTotalChildCount(visibleOnly)|0))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return result},HandleButton:function(buttonState,lastState,buttons){var ev,td,ev2,ev1,tu;buttonState===Microsoft.Xna.Framework.Input.ButtonState.Pressed&&lastState===Microsoft.Xna.Framework.Input.ButtonState.Released?(this.IsTouchDown=!0,ev=this.MouseDown,Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.GenericEventArgs$1(Myra.Graphics2D.UI.MouseButtons))(buttons)),this.InputOnMouseDown(),Myra.Graphics2D.UI.InputUtils.HandleMouseDown(this.ReversedWidgetsCopy,buttons),td=this.TouchDown,Bridge.staticEquals(td,null)||td(this,{}),Myra.Graphics2D.UI.InputUtils.HandleTouchDown(this.ReversedWidgetsCopy),System.DateTime.subdd(System.DateTime.getNow(),this._lastTouch).getTotalMilliseconds()<Myra.Graphics2D.UI.Desktop.DoubleClickIntervalInMs?(ev2=this.MouseDoubleClick,Bridge.staticEquals(ev2,null)||ev2(this,new(Myra.Utility.GenericEventArgs$1(Myra.Graphics2D.UI.MouseButtons))(buttons)),Myra.Graphics2D.UI.InputUtils.HandleMouseDoubleClick(this.ReversedWidgetsCopy,buttons),this._lastTouch=System.DateTime.getMinValue()):this._lastTouch=System.DateTime.getNow()):buttonState===Microsoft.Xna.Framework.Input.ButtonState.Released&&lastState===Microsoft.Xna.Framework.Input.ButtonState.Pressed&&(this.IsTouchDown=!1,ev1=this.MouseUp,Bridge.staticEquals(ev1,null)||ev1(this,new(Myra.Utility.GenericEventArgs$1(Myra.Graphics2D.UI.MouseButtons))(buttons)),Myra.Graphics2D.UI.InputUtils.HandleMouseUp(this.ReversedWidgetsCopy,buttons),tu=this.TouchUp,Bridge.staticEquals(tu,null)||tu(this,{}),Myra.Graphics2D.UI.InputUtils.HandleTouchUp(this.ReversedWidgetsCopy))},UpdateInput:function(){var lastState,t,ev,delta,ev1,lastKeyboardState,pressedKeys,i,key,ev2,lastPressedKeys,i1,key1,ev3;if(Bridge.staticEquals(this.MouseStateGetter,null)||(lastState=this.MouseState.$clone(),this.OldMousePosition=new Microsoft.Xna.Framework.Point.$ctor2(lastState.X,lastState.Y),this.MouseState=this.MouseStateGetter().$clone(),this.MousePosition=new Microsoft.Xna.Framework.Point.$ctor2(this.MouseState.X,this.MouseState.Y),System.Nullable.liftne(Microsoft.Xna.Framework.Matrix.op_Inequality,System.Nullable.lift1("$clone",this.SpriteBatchBeginParams.TransformMatrix),null)&&(t=Microsoft.Xna.Framework.Vector2.Transform(new Microsoft.Xna.Framework.Vector2.$ctor2(this.MousePosition.X,this.MousePosition.Y),this.SpriteBatchBeginParams.InverseTransform.$clone()),this.MousePosition=new Microsoft.Xna.Framework.Point.$ctor2(Bridge.Int.clip32(t.X),Bridge.Int.clip32(t.Y))),this.MouseWheel=this.MouseState.ScrollWheelValue,(this.MouseState.X!==lastState.X||this.MouseState.Y!==lastState.Y)&&(ev=this.MouseMoved,Bridge.staticEquals(ev,null)||ev(this,{}),Myra.Graphics2D.UI.InputUtils.HandleMouseMovement(this.ReversedWidgetsCopy)),this.HandleButton(this.MouseState.LeftButton,lastState.LeftButton,Myra.Graphics2D.UI.MouseButtons.Left),this.HandleButton(this.MouseState.MiddleButton,lastState.MiddleButton,Myra.Graphics2D.UI.MouseButtons.Middle),this.HandleButton(this.MouseState.RightButton,lastState.RightButton,Myra.Graphics2D.UI.MouseButtons.Right),this.MouseWheel!==lastState.ScrollWheelValue&&(delta=this.MouseWheel-lastState.ScrollWheelValue|0,ev1=this.MouseWheelChanged,Bridge.staticEquals(ev1,null)||ev1(null,new(Myra.Utility.GenericEventArgs$1(System.Single))(delta)),this._focusedWidget!=null&&this._focusedWidget.IterateFocusable(function(w){w.OnMouseWheel(delta)}))),!Bridge.staticEquals(this.KeyboardStateGetter,null)){for(lastKeyboardState=this.KeyboardState.$clone(),this.KeyboardState=Microsoft.Xna.Framework.Input.Keyboard.GetState(),pressedKeys=this.KeyboardState.GetPressedKeys(),Myra.MyraEnvironment.ShowUnderscores=this.MenuBar!=null&&this.MenuBar.OpenMenuItem!=null||this.KeyboardState.IsKeyDown(Microsoft.Xna.Framework.Input.Keys.LeftAlt)||this.KeyboardState.IsKeyDown(Microsoft.Xna.Framework.Input.Keys.RightAlt),i=0;i<pressedKeys.length;i=i+1|0)key={v:pressedKeys[i]},lastKeyboardState.IsKeyDown(key.v)||(ev2=this.KeyDown,Bridge.staticEquals(ev2,null)||ev2(this,new(Myra.Utility.GenericEventArgs$1(Microsoft.Xna.Framework.Input.Keys))(key.v)),this.MenuBar!=null&&Myra.MyraEnvironment.ShowUnderscores?this.MenuBar.OnKeyDown(key.v):this._focusedWidget!=null&&this._focusedWidget.IterateFocusable(function($me,key){return function(w){w.OnKeyDown(key.v)}}(this,key)),key.v===Microsoft.Xna.Framework.Input.Keys.Escape&&this.ContextMenu!=null&&this.HideContextMenu());for(lastPressedKeys=lastKeyboardState.GetPressedKeys(),i1=0;i1<lastPressedKeys.length;i1=i1+1|0)key1={v:lastPressedKeys[i1]},this.KeyboardState.IsKeyDown(key1.v)||(ev3=this.KeyUp,Bridge.staticEquals(ev3,null)||ev3(this,new(Myra.Utility.GenericEventArgs$1(Microsoft.Xna.Framework.Input.Keys))(key1.v)),this._focusedWidget!=null&&this._focusedWidget.IterateFocusable(function($me,key1){return function(w){w.OnKeyUp(key1.v)}}(this,key1)))}},AddFocusableWidget:function(w){w.addMouseDown(Bridge.fn.cacheBind(this,this.FocusableWidgetOnMouseDown));this._focusableWidgets.add(w)},RemoveFocusableWidget:function(w){w.removeMouseDown(Bridge.fn.cacheBind(this,this.FocusableWidgetOnMouseDown));this._focusableWidgets.remove(w)},ProcessWidgets$1:function(widgets){var $t,w,asContainer;$t=Bridge.getEnumerator(widgets,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())(w=$t.Current,w.Visible)&&(this.MenuBar==null&&Bridge.is(w,Myra.Graphics2D.UI.HorizontalMenu)&&(this.MenuBar=Bridge.cast(w,Myra.Graphics2D.UI.HorizontalMenu)),asContainer=Bridge.as(w,Myra.Graphics2D.UI.Container),asContainer!=null&&this.ProcessWidgets$1(asContainer.ChildrenCopy))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},ProcessWidgets:function(){this.MenuBar=null;this.ProcessWidgets$1(this._widgets)},FocusableWidgetOnMouseDown:function(sender,genericEventArgs){var widget=Bridge.cast(sender,Myra.Graphics2D.UI.Widget);widget.IsFocused||(this.FocusedWidget=widget)},UpdateWidgetsCopy:function(){this._widgetsDirty&&(this._widgetsCopy.clear(),this._widgetsCopy.AddRange(this._widgets),this._reversedWidgetsCopy.clear(),this._reversedWidgetsCopy.AddRange(System.Linq.Enumerable.from(this._widgets).reverse()),this._widgetsDirty=!1)},InternalIsPointOverGUI:function(p,w){var $t,asContainer,asScrollPane,ch;if(!w.Visible||!w.ActualBounds.Contains(p.$clone()))return!1;if((asContainer=Bridge.as(w,Myra.Graphics2D.UI.Container),asContainer==null)||!(Bridge.is(w,Myra.Graphics2D.UI.Grid)||Bridge.is(w,Myra.Graphics2D.UI.Panel)||Bridge.is(w,Myra.Graphics2D.UI.SplitPane)||Bridge.is(w,Myra.Graphics2D.UI.ScrollPane))||w.Background!=null||(asScrollPane=Bridge.as(w,Myra.Graphics2D.UI.ScrollPane),asScrollPane!=null&&(asScrollPane._horizontalScrollbarVisible&&asScrollPane._horizontalScrollbarFrame.Contains(p.$clone())||asScrollPane._verticalScrollbarVisible&&asScrollPane._verticalScrollbarFrame.Contains(p.$clone()))))return!0;$t=Bridge.getEnumerator(asContainer.ChildrenCopy);try{while($t.moveNext())if(ch=$t.Current,this.InternalIsPointOverGUI(p.$clone(),ch))return!0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return!1},IsPointOverGUI:function(p){var $t,widget;$t=Bridge.getEnumerator(this.WidgetsCopy,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())if(widget=$t.Current,this.InternalIsPointOverGUI(p.$clone(),widget))return!0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return!1}}});Bridge.define("Myra.Graphics2D.UI.Grid.Proportion",{$kind:"nested class",statics:{fields:{_default:null},props:{Default:{get:function(){return Myra.Graphics2D.UI.Grid.Proportion._default}}},ctors:{init:function(){this._default=new Myra.Graphics2D.UI.Grid.Proportion.$ctor2(Myra.Graphics2D.UI.Grid.ProportionType.Part,1)}}},fields:{_type:0,_value:0},events:{Changed:null},props:{Type:{get:function(){return this._type},set:function(value){value!==this._type&&(this._type=value,this.FireChanged())}},Value:{get:function(){return this._value},set:function(value){Myra.Utility.Mathematics.EpsilonEquals(value,this._value)||(this._value=value,this.FireChanged())}}},ctors:{init:function(){this._value=1},ctor:function(){this.$initialize()},$ctor1:function(type){this.$initialize();this._type=type},$ctor2:function(type,value){Myra.Graphics2D.UI.Grid.Proportion.$ctor1.call(this,type);this._value=value}},methods:{toString:function(){return this._type===Myra.Graphics2D.UI.Grid.ProportionType.Auto||this._type===Myra.Graphics2D.UI.Grid.ProportionType.Fill?System.Enum.toString(Myra.Graphics2D.UI.Grid.ProportionType,this._type):this._type===Myra.Graphics2D.UI.Grid.ProportionType.Part?System.String.format("{0}: {1:0.00}",this._type,this._value):System.String.format("{0}: {1}",this._type,Bridge.Int.clip32(this._value))},FireChanged:function(){var ev=this.Changed;Bridge.staticEquals(ev,null)||ev(this,{})}}});Bridge.define("Myra.Graphics2D.UI.Grid.ProportionType",{$kind:"nested enum",statics:{fields:{Auto:0,Part:1,Fill:2,Pixels:3}}});Bridge.define("Myra.Graphics2D.UI.GridSelectionMode",{$kind:"enum",statics:{fields:{None:0,Row:1,Column:2,Cell:3}}});Bridge.define("Myra.Graphics2D.UI.HorizontalAlignment",{$kind:"enum",statics:{fields:{Left:0,Center:1,Right:2,Stretch:3}}});Bridge.define("Myra.Graphics2D.UI.IMenuItemsContainer",{$kind:"interface"});Bridge.define("Myra.Graphics2D.UI.InputUtils",{statics:{methods:{HandleMouseDown:function(widgets,buttons){var $t,w;$t=Bridge.getEnumerator(widgets,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())if((w=$t.Current,w.Visible)&&w.IsMouseOver){w.OnMouseDown(buttons);break}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},HandleMouseDoubleClick:function(widgets,buttons){var $t,w;$t=Bridge.getEnumerator(widgets,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())if((w=$t.Current,w.Visible)&&w.IsMouseOver){w.OnMouseDoubleClick(buttons);break}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},HandleMouseUp:function(widgets,buttons){var $t,w;$t=Bridge.getEnumerator(widgets,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())if((w=$t.Current,w.Visible)&&w.IsMouseOver){w.OnMouseUp(buttons);break}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},HandleMouseMovement:function(widgets){var $t,w;$t=Bridge.getEnumerator(widgets,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())(w=$t.Current,w.Visible)&&(w.IsMouseOver?w.WasMouseOver?w.OnMouseMoved():w.OnMouseEntered():w.WasMouseOver&&w.OnMouseLeft())}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},HandleTouchDown:function(widgets){var $t,w;$t=Bridge.getEnumerator(widgets,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())if((w=$t.Current,w.Visible)&&w.IsMouseOver){w.OnTouchDown();break}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},HandleTouchUp:function(widgets){var $t,w;$t=Bridge.getEnumerator(widgets,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())if((w=$t.Current,w.Visible)&&w.IsMouseOver){w.OnTouchUp();break}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}}}});Bridge.define("Myra.Graphics2D.UI.LayoutUtils",{statics:{methods:{Align:function(containerSize,controlSize,horizontalAlignment,verticalAlignment){var $t,result=($t=new Microsoft.Xna.Framework.Rectangle.ctor,$t.Width=controlSize.X,$t.Height=controlSize.Y,$t);switch(horizontalAlignment){case Myra.Graphics2D.UI.HorizontalAlignment.Center:result.X=Bridge.Int.div(containerSize.X-controlSize.X|0,2)|0;break;case Myra.Graphics2D.UI.HorizontalAlignment.Right:result.X=containerSize.X-controlSize.X|0;break;case Myra.Graphics2D.UI.HorizontalAlignment.Stretch:result.Width=containerSize.X;break}switch(verticalAlignment){case Myra.Graphics2D.UI.VerticalAlignment.Center:result.Y=Bridge.Int.div(containerSize.Y-controlSize.Y|0,2)|0;break;case Myra.Graphics2D.UI.VerticalAlignment.Bottom:result.Y=containerSize.Y-controlSize.Y|0;break;case Myra.Graphics2D.UI.VerticalAlignment.Stretch:result.Height=containerSize.Y;break}return result.$clone()}}}});Bridge.define("Myra.Graphics2D.UI.MouseButtons",{$kind:"enum",statics:{fields:{Left:0,Middle:1,Right:2}}});Bridge.define("Myra.Graphics2D.UI.Orientation",{$kind:"enum",statics:{fields:{Horizontal:0,Vertical:1}}});Bridge.define("Myra.Graphics2D.UI.RenderContext",{fields:{_spriteBatchBeginParams:null,Batch:null,View:null,Opacity:0},props:{SpriteBatchBeginParams:{get:function(){return this._spriteBatchBeginParams},set:function(value){if(value==null)throw new System.ArgumentNullException.$ctor1("value");this._spriteBatchBeginParams=value}}},ctors:{init:function(){var $t;this.View=new Microsoft.Xna.Framework.Rectangle;this._spriteBatchBeginParams=($t=new Myra.Graphics2D.SpriteBatchBeginParams,$t.SpriteSortMode=Microsoft.Xna.Framework.Graphics.SpriteSortMode.Deferred,$t.BlendState=Microsoft.Xna.Framework.Graphics.BlendState.AlphaBlend,$t.SamplerState=Microsoft.Xna.Framework.Graphics.SamplerState.PointClamp,$t.DepthStencilState=null,$t.RasterizerState=Myra.DefaultAssets.UIRasterizerState,$t)}},methods:{Draw$1:function(renderable,rectangle,color){color===void 0&&(color=null);var c=System.Nullable.liftne(Microsoft.Xna.Framework.Color.op_Inequality,System.Nullable.lift1("$clone",color),null)?System.Nullable.getValue(color):Microsoft.Xna.Framework.Color.White;renderable.Myra$Graphics2D$IRenderable$Draw(this.Batch,rectangle.$clone(),Microsoft.Xna.Framework.Color.op_Multiply(c.$clone(),this.Opacity))},Draw:function(renderable,location,color){color===void 0&&(color=null);var c=System.Nullable.liftne(Microsoft.Xna.Framework.Color.op_Inequality,System.Nullable.lift1("$clone",color),null)?System.Nullable.getValue(color):Microsoft.Xna.Framework.Color.White;renderable.Myra$Graphics2D$IRenderable$Draw(this.Batch,new Microsoft.Xna.Framework.Rectangle.$ctor2(location.X,location.Y,renderable.Myra$Graphics2D$IRenderable$Size.X,renderable.Myra$Graphics2D$IRenderable$Size.Y),Microsoft.Xna.Framework.Color.op_Multiply(c.$clone(),this.Opacity))},DrawRectangle:function(rectangle,color){Myra.ShapeExtensions.DrawRectangle(this.Batch,rectangle.$clone(),color.$clone())},FillRectangle:function(rectangle,color){Myra.ShapeExtensions.FillRectangle(this.Batch,rectangle.$clone(),Microsoft.Xna.Framework.Color.op_Multiply(color.$clone(),this.Opacity))},Begin:function(){this.Batch.Begin(this.SpriteBatchBeginParams.SpriteSortMode,this.SpriteBatchBeginParams.BlendState,this.SpriteBatchBeginParams.SamplerState,this.SpriteBatchBeginParams.DepthStencilState,this.SpriteBatchBeginParams.RasterizerState,this.SpriteBatchBeginParams.Effect,System.Nullable.lift1("$clone",this.SpriteBatchBeginParams.TransformMatrix))},End:function(){this.Batch.End()},Flush:function(){this.End();this.Begin()}}});Bridge.define("Myra.Graphics2D.UI.Styles.WidgetStyle",{fields:{WidthHint:null,HeightHint:null,Background:null,OverBackground:null,DisabledBackground:null,FocusedBackground:null,Border:null,OverBorder:null,DisabledBorder:null,FocusedBorder:null,PaddingLeft:null,PaddingRight:null,PaddingTop:null,PaddingBottom:null},ctors:{ctor:function(){this.$initialize()},$ctor1:function(style){this.$initialize();this.WidthHint=style.WidthHint;this.HeightHint=style.HeightHint;this.Background=style.Background;this.OverBackground=style.OverBackground;this.DisabledBackground=style.DisabledBackground;this.FocusedBackground=style.FocusedBackground;this.Border=style.Border;this.OverBorder=style.OverBorder;this.DisabledBorder=style.DisabledBorder;this.FocusedBorder=style.FocusedBorder;this.PaddingLeft=style.PaddingLeft;this.PaddingRight=style.PaddingRight;this.PaddingTop=style.PaddingTop;this.PaddingBottom=style.PaddingBottom}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.DesktopStyle",{fields:{Background:null}});Bridge.define("Myra.Graphics2D.UI.Styles.Stylesheet",{statics:{fields:{DefaultStyleName:null,_current:null},props:{Current:{get:function(){return Myra.Graphics2D.UI.Styles.Stylesheet._current==null&&(Myra.Graphics2D.UI.Styles.Stylesheet._current=Myra.DefaultAssets.UIStylesheet),Myra.Graphics2D.UI.Styles.Stylesheet._current},set:function(value){Myra.Graphics2D.UI.Styles.Stylesheet._current=value}}},ctors:{init:function(){this.DefaultStyleName=""}},methods:{CreateFromSource:function(s,textureGetter,fontGetter){var root,reader=new System.IO.StringReader(s),loader;try{root=Bridge.cast(MonoGdx.Utils.Json.Deserialize(reader),System.Collections.Generic.Dictionary$2(System.String,System.Object))}finally{Bridge.hasValue(reader)&&reader.System$IDisposable$Dispose()}return loader=new Myra.Graphics2D.UI.Styles.StylesheetLoader(root,textureGetter,fontGetter),loader.Load()}}},fields:{_textBlockStyles:null,_textFieldStyles:null,_buttonStyles:null,_checkBoxStyles:null,_imageButtonStyles:null,_spinButtonStyles:null,_textButtonStyles:null,_horizontalSliderStyles:null,_verticalSliderStyles:null,_horizontalProgressBarStyles:null,_verticalProgressBarStyles:null,_horizontalSeparatorStyles:null,_verticalSeparatorStyles:null,_comboBoxStyles:null,_listBoxStyles:null,_treeStyles:null,_horizontalSplitPaneStyles:null,_verticalSplitPaneStyles:null,_scrollPaneStyles:null,_horizontalMenuStyles:null,_verticalMenuStyles:null,_windowStyles:null,_dialogStyles:null,DesktopStyle:null},props:{TextBlockStyle:{get:function(){return this._textBlockStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._textBlockStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},TextFieldStyle:{get:function(){return this._textFieldStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._textFieldStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},ButtonStyle:{get:function(){return this._buttonStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._buttonStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},CheckBoxStyle:{get:function(){return this._checkBoxStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._checkBoxStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},ImageButtonStyle:{get:function(){return this._imageButtonStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._imageButtonStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},SpinButtonStyle:{get:function(){return this._spinButtonStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._spinButtonStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},TextButtonStyle:{get:function(){return this._textButtonStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._textButtonStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},HorizontalSliderStyle:{get:function(){return this._horizontalSliderStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._horizontalSliderStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},VerticalSliderStyle:{get:function(){return this._verticalSliderStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._verticalSliderStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},HorizontalProgressBarStyle:{get:function(){return this._horizontalProgressBarStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._horizontalProgressBarStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},VerticalProgressBarStyle:{get:function(){return this._verticalProgressBarStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._verticalProgressBarStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},HorizontalSeparatorStyle:{get:function(){return this._horizontalSeparatorStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._horizontalSeparatorStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},VerticalSeparatorStyle:{get:function(){return this._verticalSeparatorStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._verticalSeparatorStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},ComboBoxStyle:{get:function(){return this._comboBoxStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._comboBoxStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},ListBoxStyle:{get:function(){return this._listBoxStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._listBoxStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},TreeStyle:{get:function(){return this._treeStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._treeStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},HorizontalSplitPaneStyle:{get:function(){return this._horizontalSplitPaneStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._horizontalSplitPaneStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},VerticalSplitPaneStyle:{get:function(){return this._verticalSplitPaneStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._verticalSplitPaneStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},ScrollPaneStyle:{get:function(){return this._scrollPaneStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._scrollPaneStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},HorizontalMenuStyle:{get:function(){return this._horizontalMenuStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._horizontalMenuStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},VerticalMenuStyle:{get:function(){return this._verticalMenuStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._verticalMenuStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},WindowStyle:{get:function(){return this._windowStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._windowStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},DialogStyle:{get:function(){return this._dialogStyles.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)},set:function(value){this._dialogStyles.set(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName,value)}},TextBlockStyles:{get:function(){return this._textBlockStyles}},TextFieldStyles:{get:function(){return this._textFieldStyles}},ButtonStyles:{get:function(){return this._buttonStyles}},CheckBoxStyles:{get:function(){return this._checkBoxStyles}},ImageButtonStyles:{get:function(){return this._imageButtonStyles}},SpinButtonStyles:{get:function(){return this._spinButtonStyles}},TextButtonStyles:{get:function(){return this._textButtonStyles}},HorizontalSliderStyles:{get:function(){return this._horizontalSliderStyles}},VerticalSliderStyles:{get:function(){return this._verticalSliderStyles}},HorizontalProgressBarStyles:{get:function(){return this._horizontalProgressBarStyles}},VerticalProgressBarStyles:{get:function(){return this._verticalProgressBarStyles}},HorizontalSeparatorStyles:{get:function(){return this._horizontalSeparatorStyles}},VerticalSeparatorStyles:{get:function(){return this._verticalSeparatorStyles}},ComboBoxStyles:{get:function(){return this._comboBoxStyles}},ListBoxStyles:{get:function(){return this._listBoxStyles}},TreeStyles:{get:function(){return this._treeStyles}},HorizontalSplitPaneStyles:{get:function(){return this._horizontalSplitPaneStyles}},VerticalSplitPaneStyles:{get:function(){return this._verticalSplitPaneStyles}},ScrollPaneStyles:{get:function(){return this._scrollPaneStyles}},HorizontalMenuStyles:{get:function(){return this._horizontalMenuStyles}},VerticalMenuStyles:{get:function(){return this._verticalMenuStyles}},WindowStyles:{get:function(){return this._windowStyles}},DialogStyles:{get:function(){return this._dialogStyles}}},ctors:{init:function(){this._textBlockStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.TextBlockStyle));this._textFieldStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.TextFieldStyle));this._buttonStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.ButtonStyle));this._checkBoxStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.ButtonStyle));this._imageButtonStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.ImageButtonStyle));this._spinButtonStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.SpinButtonStyle));this._textButtonStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.TextButtonStyle));this._horizontalSliderStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.SliderStyle));this._verticalSliderStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.SliderStyle));this._horizontalProgressBarStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.ProgressBarStyle));this._verticalProgressBarStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.ProgressBarStyle));this._horizontalSeparatorStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.SeparatorStyle));this._verticalSeparatorStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.SeparatorStyle));this._comboBoxStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.ComboBoxStyle));this._listBoxStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.ListBoxStyle));this._treeStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.TreeStyle));this._horizontalSplitPaneStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.SplitPaneStyle));this._verticalSplitPaneStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.SplitPaneStyle));this._scrollPaneStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.ScrollPaneStyle));this._horizontalMenuStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.MenuStyle));this._verticalMenuStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.MenuStyle));this._windowStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.WindowStyle));this._dialogStyles=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Graphics2D.UI.Styles.DialogStyle))},ctor:function(){this.$initialize();this.DesktopStyle=new Myra.Graphics2D.UI.Styles.DesktopStyle;this.TextBlockStyle=new Myra.Graphics2D.UI.Styles.TextBlockStyle.ctor;this.TextFieldStyle=new Myra.Graphics2D.UI.Styles.TextFieldStyle.ctor;this.ButtonStyle=new Myra.Graphics2D.UI.Styles.ButtonStyle.ctor;this.CheckBoxStyle=new Myra.Graphics2D.UI.Styles.ButtonStyle.ctor;this.ImageButtonStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.ctor;this.SpinButtonStyle=new Myra.Graphics2D.UI.Styles.SpinButtonStyle.ctor;this.TextButtonStyle=new Myra.Graphics2D.UI.Styles.TextButtonStyle.ctor;this.HorizontalSliderStyle=new Myra.Graphics2D.UI.Styles.SliderStyle.ctor;this.VerticalSliderStyle=new Myra.Graphics2D.UI.Styles.SliderStyle.ctor;this.HorizontalProgressBarStyle=new Myra.Graphics2D.UI.Styles.ProgressBarStyle.ctor;this.VerticalProgressBarStyle=new Myra.Graphics2D.UI.Styles.ProgressBarStyle.ctor;this.HorizontalSeparatorStyle=new Myra.Graphics2D.UI.Styles.SeparatorStyle.ctor;this.VerticalSeparatorStyle=new Myra.Graphics2D.UI.Styles.SeparatorStyle.ctor;this.ComboBoxStyle=new Myra.Graphics2D.UI.Styles.ComboBoxStyle.ctor;this.ListBoxStyle=new Myra.Graphics2D.UI.Styles.ListBoxStyle.ctor;this.TreeStyle=new Myra.Graphics2D.UI.Styles.TreeStyle.ctor;this.HorizontalSplitPaneStyle=new Myra.Graphics2D.UI.Styles.SplitPaneStyle.ctor;this.VerticalSplitPaneStyle=new Myra.Graphics2D.UI.Styles.SplitPaneStyle.ctor;this.ScrollPaneStyle=new Myra.Graphics2D.UI.Styles.ScrollPaneStyle.ctor;this.HorizontalMenuStyle=new Myra.Graphics2D.UI.Styles.MenuStyle.ctor;this.VerticalMenuStyle=new Myra.Graphics2D.UI.Styles.MenuStyle.ctor;this.WindowStyle=new Myra.Graphics2D.UI.Styles.WindowStyle.ctor;this.DialogStyle=new Myra.Graphics2D.UI.Styles.DialogStyle.ctor}}});Bridge.define("Myra.Graphics2D.UI.Styles.StylesheetLoader",{statics:{fields:{TypeName:null,ColorsName:null,DrawablesName:null,DesktopName:null,TextBlockName:null,TextFieldName:null,ScrollAreaName:null,ButtonName:null,CheckBoxName:null,ImageButtonName:null,SpinButtonName:null,TextButtonName:null,ComboBoxName:null,ComboBoxItemName:null,ListBoxName:null,ListBoxItemName:null,GridName:null,TreeName:null,SplitPaneName:null,HorizontalSplitPaneName:null,VerticalSplitPaneName:null,HorizontalMenuName:null,VerticalMenuName:null,WindowName:null,DialogName:null,LeftName:null,RightName:null,WidthName:null,HeightName:null,TopName:null,BottomName:null,WidthHintName:null,HeightHintName:null,BackgroundName:null,OverBackgroundName:null,DisabledBackgroundName:null,FocusedBackgroundName:null,PressedBackgroundName:null,BorderName:null,OverBorderName:null,DisabledBorderName:null,FocusedBorderName:null,BoundsName:null,PaddingName:null,FontName:null,MessageFontName:null,TextColorName:null,DisabledTextColorName:null,FocusedTextColorName:null,OverTextColorName:null,PressedTextColorName:null,HorizontalScrollName:null,HorizontalScrollKnobName:null,VerticalScrollName:null,VerticalScrollKnobName:null,SelectionName:null,SplitHorizontalHandleName:null,SplitHorizontalHandleOverName:null,SplitVerticalHandleName:null,SplitVerticalHandleOverName:null,TitleStyleName:null,CloseButtonStyleName:null,UpButtonStyleName:null,DownButtonStyleName:null,CursorName:null,IconWidthName:null,ShortcutWidthName:null,SpacingName:null,LabelStyleName:null,ImageStyleName:null,TextFieldStyleName:null,MenuItemName:null,HandleName:null,MarkName:null,ImageName:null,OverImageName:null,PressedImageName:null,SelectionBackgroundName:null,SelectionBackgroundWithoutFocusName:null,SelectionHoverBackgroundName:null,SeparatorName:null,ThicknessName:null,ItemsContainerName:null,HorizontalSliderName:null,VerticalSliderName:null,KnobName:null,HorizontalProgressBarName:null,VerticalProgressBarName:null,HorizontalSeparatorName:null,VerticalSeparatorName:null,FilledName:null,VariantsName:null},ctors:{init:function(){this.TypeName="type";this.ColorsName="colors";this.DrawablesName="drawables";this.DesktopName="desktop";this.TextBlockName="textBlock";this.TextFieldName="textField";this.ScrollAreaName="scrollArea";this.ButtonName="button";this.CheckBoxName="checkBox";this.ImageButtonName="imageButton";this.SpinButtonName="spinButton";this.TextButtonName="textButton";this.ComboBoxName="comboBox";this.ComboBoxItemName="comboBoxItem";this.ListBoxName="listBox";this.ListBoxItemName="listBoxItem";this.GridName="grid";this.TreeName="tree";this.SplitPaneName="splitPane";this.HorizontalSplitPaneName="horizontalSplitPane";this.VerticalSplitPaneName="verticalSplitPane";this.HorizontalMenuName="horizontalMenu";this.VerticalMenuName="verticalMenu";this.WindowName="window";this.DialogName="dialog";this.LeftName="left";this.RightName="right";this.WidthName="width";this.HeightName="height";this.TopName="top";this.BottomName="bottom";this.WidthHintName="widthHint";this.HeightHintName="heightHint";this.BackgroundName="background";this.OverBackgroundName="overBackground";this.DisabledBackgroundName="disabledBackground";this.FocusedBackgroundName="focusedBackground";this.PressedBackgroundName="pressedBackground";this.BorderName="border";this.OverBorderName="overBorder";this.DisabledBorderName="disabledBorder";this.FocusedBorderName="focusedBorder";this.BoundsName="bounds";this.PaddingName="padding";this.FontName="font";this.MessageFontName="font";this.TextColorName="textColor";this.DisabledTextColorName="disabledTextColor";this.FocusedTextColorName="focusedTextColor";this.OverTextColorName="overTextColor";this.PressedTextColorName="pressedTextColor";this.HorizontalScrollName="horizontalScroll";this.HorizontalScrollKnobName="horizontalScrollKnob";this.VerticalScrollName="verticalScroll";this.VerticalScrollKnobName="verticalScrollKnob";this.SelectionName="selection";this.SplitHorizontalHandleName="horizontalHandle";this.SplitHorizontalHandleOverName="horizontalHandleOver";this.SplitVerticalHandleName="verticalHandle";this.SplitVerticalHandleOverName="verticalHandleOver";this.TitleStyleName="title";this.CloseButtonStyleName="closeButton";this.UpButtonStyleName="upButton";this.DownButtonStyleName="downButton";this.CursorName="cursor";this.IconWidthName="iconWidth";this.ShortcutWidthName="shortcutWidth";this.SpacingName="spacing";this.LabelStyleName="label";this.ImageStyleName="image";this.TextFieldStyleName="textField";this.MenuItemName="menuItem";this.HandleName="handle";this.MarkName="mark";this.ImageName="image";this.OverImageName="overImage";this.PressedImageName="pressedImage";this.SelectionBackgroundName="selectionBackground";this.SelectionBackgroundWithoutFocusName="selectionBackgroundWithoutFocus";this.SelectionHoverBackgroundName="selectionHoverBackground";this.SeparatorName="separator";this.ThicknessName="thickness";this.ItemsContainerName="itemsContainer";this.HorizontalSliderName="horizontalSlider";this.VerticalSliderName="verticalSlider";this.KnobName="knob";this.HorizontalProgressBarName="horizontalProgressBar";this.VerticalProgressBarName="verticalProgressBar";this.HorizontalSeparatorName="horizontalSeparator";this.VerticalSeparatorName="verticalSeparator";this.FilledName="filled";this.VariantsName="variants"}},methods:{GetPaddingInfo:function(padding){var result=new Myra.Graphics2D.PaddingInfo,value={};return Myra.Utility.Serialization.GetStyle$2(padding,Myra.Graphics2D.UI.Styles.StylesheetLoader.LeftName,value)&&(result.Left=value.v),Myra.Utility.Serialization.GetStyle$2(padding,Myra.Graphics2D.UI.Styles.StylesheetLoader.RightName,value)&&(result.Right=value.v),Myra.Utility.Serialization.GetStyle$2(padding,Myra.Graphics2D.UI.Styles.StylesheetLoader.TopName,value)&&(result.Top=value.v),Myra.Utility.Serialization.GetStyle$2(padding,Myra.Graphics2D.UI.Styles.StylesheetLoader.BottomName,value)&&(result.Bottom=value.v),result.$clone()}}},fields:{_colors:null,_drawables:null,_root:null,_fontLoader:null,_textureLoader:null},ctors:{init:function(){this._colors=new(System.Collections.Generic.Dictionary$2(System.String,Microsoft.Xna.Framework.Color));this._drawables=new(System.Collections.Generic.Dictionary$2(System.String,System.Object))},ctor:function(root,textureLoader,fontLoader){if(this.$initialize(),root==null)throw new System.ArgumentNullException.$ctor1("root");if(Bridge.staticEquals(textureLoader,null))throw new System.ArgumentNullException.$ctor1("textureLoader");if(Bridge.staticEquals(fontLoader,null))throw new System.ArgumentNullException.$ctor1("fontLoader");this._root=root;this._fontLoader=fontLoader;this._textureLoader=textureLoader}},methods:{GetDrawable:function(id){var IRenderableFromTable={};return this._drawables.tryGetValue(id,IRenderableFromTable)?new Myra.Graphics2D.TextureAtlases.ColoredRegion(this._textureLoader(IRenderableFromTable.v.Item1),IRenderableFromTable.v.Item2.$clone()):this._textureLoader(id)},ParseDrawables:function(drawables){var $t;this._drawables.clear();$t=Bridge.getEnumerator(drawables);try{while($t.moveNext()){var props=$t.Current,name=props.key,color=Bridge.toString(props.value),IRenderableEntry={Item1:name,Item2:this.GetColor(color)};this._drawables.add(name,IRenderableEntry)}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},GetFont:function(id){return Bridge.staticEquals(this._fontLoader,null)||System.String.isNullOrEmpty(id)?null:this._fontLoader(id)},ParseColors:function(colors){var $t;this._colors.clear();$t=Bridge.getEnumerator(colors);try{while($t.moveNext()){var props=$t.Current,stringValue=Bridge.toString(props.value),parsedColor=Myra.Utility.GraphicsExtension.FromName(stringValue);if(System.Nullable.lifteq(Microsoft.Xna.Framework.Color.op_Equality,System.Nullable.lift1("$clone",parsedColor),null))throw new System.Exception(System.String.format("Could not parse color '{0}'",[stringValue]));this._colors.add(props.key,System.Nullable.getValue(parsedColor).$clone())}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},GetColor:function(color){var result={v:new Microsoft.Xna.Framework.Color},fromName;if(this._colors.tryGetValue(color,result))return result.v.$clone();if(fromName=Myra.Utility.GraphicsExtension.FromName(color),System.Nullable.liftne(Microsoft.Xna.Framework.Color.op_Inequality,System.Nullable.lift1("$clone",fromName),null))return System.Nullable.getValue(fromName).$clone();throw new System.Exception(System.String.format("Unknown color '{0}'",[color]));},LoadWidgetStyleFromSource:function(source,result){var i={},name,padding,value;Myra.Utility.Serialization.GetStyle$2(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.WidthHintName,i)&&(result.WidthHint=i.v);Myra.Utility.Serialization.GetStyle$2(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.HeightHintName,i)&&(result.HeightHint=i.v);name={};Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.BackgroundName,name)&&(result.Background=this.GetDrawable(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.OverBackgroundName,name)&&(result.OverBackground=this.GetDrawable(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.DisabledBackgroundName,name)&&(result.DisabledBackground=this.GetDrawable(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.FocusedBackgroundName,name)&&(result.FocusedBackground=this.GetDrawable(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.BorderName,name)&&(result.Border=this.GetDrawable(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.OverBorderName,name)&&(result.OverBorder=this.GetDrawable(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.DisabledBorderName,name)&&(result.DisabledBorder=this.GetDrawable(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.FocusedBorderName,name)&&(result.FocusedBorder=this.GetDrawable(name.v));padding={};Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.PaddingName,padding)&&(value={},Myra.Utility.Serialization.GetStyle$2(padding.v,Myra.Graphics2D.UI.Styles.StylesheetLoader.LeftName,value)&&(result.PaddingLeft=value.v),Myra.Utility.Serialization.GetStyle$2(padding.v,Myra.Graphics2D.UI.Styles.StylesheetLoader.RightName,value)&&(result.PaddingRight=value.v),Myra.Utility.Serialization.GetStyle$2(padding.v,Myra.Graphics2D.UI.Styles.StylesheetLoader.TopName,value)&&(result.PaddingTop=value.v),Myra.Utility.Serialization.GetStyle$2(padding.v,Myra.Graphics2D.UI.Styles.StylesheetLoader.BottomName,value)&&(result.PaddingBottom=value.v))},LoadTextBlockStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var name={};Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.FontName,name)&&(result.Font=this.GetFont(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.TextColorName,name)&&(result.TextColor=this.GetColor(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.DisabledTextColorName,name)&&(result.DisabledTextColor=this.GetColor(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.OverTextColorName,name)&&(result.OverTextColor=this.GetColor(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.PressedTextColorName,name)&&(result.PressedTextColor=this.GetColor(name.v))},LoadTextFieldStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var name={};Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.TextColorName,name)&&(result.TextColor=this.GetColor(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.DisabledTextColorName,name)&&(result.DisabledTextColor=this.GetColor(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.FocusedTextColorName,name)&&(result.FocusedTextColor=this.GetColor(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.FontName,name)&&(result.Font=this.GetFont(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.MessageFontName,name)&&(result.MessageFont=this.GetFont(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.CursorName,name)&&(result.Cursor=this.GetDrawable(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.SelectionName,name)&&(result.Selection=this.GetDrawable(name.v))},LoadScrollAreaStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var TextureRegionName={};Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.HorizontalScrollName,TextureRegionName)&&(result.HorizontalScrollBackground=this.GetDrawable(TextureRegionName.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.HorizontalScrollKnobName,TextureRegionName)&&(result.HorizontalScrollKnob=this.GetDrawable(TextureRegionName.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.VerticalScrollName,TextureRegionName)&&(result.VerticalScrollBackground=this.GetDrawable(TextureRegionName.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.VerticalScrollKnobName,TextureRegionName)&&(result.VerticalScrollKnob=this.GetDrawable(TextureRegionName.v))},LoadImageStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var name={};Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.ImageName,name)&&(result.Image=this.GetDrawable(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.OverImageName,name)&&(result.OverImage=this.GetDrawable(name.v))},LoadPressableImageStyleFromSource:function(source,result){this.LoadImageStyleFromSource(source,result);var name={};Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.PressedImageName,name)&&(result.PressedImage=this.GetDrawable(name.v))},LoadButtonBaseStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var name={};Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.PressedBackgroundName,name)&&(result.PressedBackground=this.GetDrawable(name.v))},LoadButtonStyleFromSource:function(source,result){this.LoadButtonBaseStyleFromSource(source,result);var labelStyle={};Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.LabelStyleName,labelStyle)&&this.LoadTextBlockStyleFromSource(labelStyle.v,result.LabelStyle);Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.ImageStyleName,labelStyle)&&this.LoadPressableImageStyleFromSource(labelStyle.v,result.ImageStyle)},LoadTextButtonStyleFromSource:function(source,result){this.LoadButtonBaseStyleFromSource(source,result);var labelStyle={};Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.LabelStyleName,labelStyle)&&this.LoadTextBlockStyleFromSource(labelStyle.v,result.LabelStyle)},LoadImageButtonStyleFromSource:function(source,result){this.LoadButtonBaseStyleFromSource(source,result);var style={};Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.ImageStyleName,style)&&this.LoadPressableImageStyleFromSource(style.v,result.ImageStyle)},LoadSpinButtonStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var style={};Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.TextFieldStyleName,style)&&this.LoadTextFieldStyleFromSource(style.v,result.TextFieldStyle);Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.UpButtonStyleName,style)&&this.LoadImageButtonStyleFromSource(style.v,result.UpButtonStyle);Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.DownButtonStyleName,style)&&this.LoadImageButtonStyleFromSource(style.v,result.DownButtonStyle)},LoadSliderStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var knobStyle={};Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.KnobName,knobStyle)&&this.LoadImageButtonStyleFromSource(knobStyle.v,result.KnobStyle)},LoadProgressBarStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var style={};Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.FilledName,style)&&(result.Filled=this.GetDrawable(style.v))},LoadComboBoxStyleFromSource:function(source,result){this.LoadButtonStyleFromSource(source,result);var subStyle={};Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.ItemsContainerName,subStyle)&&this.LoadWidgetStyleFromSource(subStyle.v,result.ItemsContainerStyle);Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.ComboBoxItemName,subStyle)&&this.LoadButtonStyleFromSource(subStyle.v,result.ListItemStyle)},LoadListBoxStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var subStyle={};Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.ListBoxItemName,subStyle)&&this.LoadButtonStyleFromSource(subStyle.v,result.ListItemStyle);Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.SeparatorName,subStyle)&&this.LoadSeparatorStyleFromSource(subStyle.v,result.SeparatorStyle)},LoadMenuItemStyleFromSource:function(source,result){this.LoadButtonStyleFromSource(source,result);var value={};Myra.Utility.Serialization.GetStyle$2(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.IconWidthName,value)&&(result.IconWidth=value.v);Myra.Utility.Serialization.GetStyle$2(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.ShortcutWidthName,value)&&(result.ShortcutWidth=value.v)},LoadSeparatorStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var name={};Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.ImageName,name)&&(result.Image=this.GetDrawable(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.ThicknessName,name)&&(result.Thickness=System.Int32.parse(name.v))},LoadSplitPaneStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var handle={};Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.HandleName,handle)&&this.LoadImageButtonStyleFromSource(handle.v,result.HandleStyle)},LoadMenuStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var menuItem={};Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.MenuItemName,menuItem)&&this.LoadMenuItemStyleFromSource(menuItem.v,result.MenuItemStyle);Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.SeparatorName,menuItem)&&this.LoadSeparatorStyleFromSource(menuItem.v,result.SeparatorStyle)},LoadTreeStyleFromSource:function(source,result){var name={},obj;Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.SelectionBackgroundName,name)&&(result.SelectionBackground=this.GetDrawable(name.v));Myra.Utility.Serialization.GetStyle$4(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.SelectionHoverBackgroundName,name)&&(result.SelectionHoverBackground=this.GetDrawable(name.v));obj={};Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.MarkName,obj)&&(this.LoadImageButtonStyleFromSource(obj.v,result.MarkStyle),Myra.Utility.Serialization.GetStyle$1(obj.v,Myra.Graphics2D.UI.Styles.StylesheetLoader.LabelStyleName,obj)&&this.LoadTextBlockStyleFromSource(obj.v,result.LabelStyle))},LoadWindowStyleFromSource:function(source,result){this.LoadWidgetStyleFromSource(source,result);var obj={};Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.TitleStyleName,obj)&&this.LoadTextBlockStyleFromSource(obj.v,result.TitleStyle);Myra.Utility.Serialization.GetStyle$1(source,Myra.Graphics2D.UI.Styles.StylesheetLoader.CloseButtonStyleName,obj)&&this.LoadImageButtonStyleFromSource(obj.v,result.CloseButtonStyle)},LoadDialogStyleFromSource:function(source,result){this.LoadWindowStyleFromSource(source,result)},FillStyles:function(T,key,stylesDict,fillAction){var $t,source={},styles,pair,variant;if(Myra.Utility.Serialization.GetStyle$1(this._root,key,source)&&source.v!=null&&(fillAction(source.v,stylesDict.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName)),styles={},Myra.Utility.Serialization.GetStyle$1(source.v,Myra.Graphics2D.UI.Styles.StylesheetLoader.VariantsName,styles)&&styles.v!=null)){$t=Bridge.getEnumerator(styles.v);try{while($t.moveNext())pair=$t.Current,variant=Bridge.cast(stylesDict.get(Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName).Clone(),T),fillAction(Bridge.cast(pair.value,System.Collections.Generic.Dictionary$2(System.String,System.Object)),variant),stylesDict.set(pair.key,variant)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}},LoadDesktopStyleFromSource:function(){var result=new Myra.Graphics2D.UI.Styles.DesktopStyle,source={},name;return!Myra.Utility.Serialization.GetStyle$1(this._root,Myra.Graphics2D.UI.Styles.StylesheetLoader.DesktopName,source)||source.v==null?result:(name={},Myra.Utility.Serialization.GetStyle$4(source.v,Myra.Graphics2D.UI.Styles.StylesheetLoader.BackgroundName,name)&&(result.Background=this.GetDrawable(name.v)),result)},Load:function(){var result=new Myra.Graphics2D.UI.Styles.Stylesheet,colors={},drawables;return Myra.Utility.Serialization.GetStyle$1(this._root,Myra.Graphics2D.UI.Styles.StylesheetLoader.ColorsName,colors)&&this.ParseColors(colors.v),drawables={},Myra.Utility.Serialization.GetStyle$1(this._root,Myra.Graphics2D.UI.Styles.StylesheetLoader.DrawablesName,drawables)&&this.ParseDrawables(drawables.v),result.DesktopStyle=this.LoadDesktopStyleFromSource(),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.TextBlockStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.TextBlockName,result.TextBlockStyles,Bridge.fn.cacheBind(this,this.LoadTextBlockStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.TextFieldStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.TextFieldName,result.TextFieldStyles,Bridge.fn.cacheBind(this,this.LoadTextFieldStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.ScrollPaneStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.ScrollAreaName,result.ScrollPaneStyles,Bridge.fn.cacheBind(this,this.LoadScrollAreaStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.ButtonStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.ButtonName,result.ButtonStyles,Bridge.fn.cacheBind(this,this.LoadButtonStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.ButtonStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.CheckBoxName,result.CheckBoxStyles,Bridge.fn.cacheBind(this,this.LoadButtonStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.ImageButtonStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.ImageButtonName,result.ImageButtonStyles,Bridge.fn.cacheBind(this,this.LoadImageButtonStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.SpinButtonStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.SpinButtonName,result.SpinButtonStyles,Bridge.fn.cacheBind(this,this.LoadSpinButtonStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.TextButtonStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.TextButtonName,result.TextButtonStyles,Bridge.fn.cacheBind(this,this.LoadTextButtonStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.SliderStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.HorizontalSliderName,result.HorizontalSliderStyles,Bridge.fn.cacheBind(this,this.LoadSliderStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.SliderStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.VerticalSliderName,result.VerticalSliderStyles,Bridge.fn.cacheBind(this,this.LoadSliderStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.ProgressBarStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.HorizontalProgressBarName,result.HorizontalProgressBarStyles,Bridge.fn.cacheBind(this,this.LoadProgressBarStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.ProgressBarStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.VerticalProgressBarName,result.VerticalProgressBarStyles,Bridge.fn.cacheBind(this,this.LoadProgressBarStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.SeparatorStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.HorizontalSeparatorName,result.HorizontalSeparatorStyles,Bridge.fn.cacheBind(this,this.LoadSeparatorStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.SeparatorStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.VerticalSeparatorName,result.VerticalSeparatorStyles,Bridge.fn.cacheBind(this,this.LoadSeparatorStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.ComboBoxStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.ComboBoxName,result.ComboBoxStyles,Bridge.fn.cacheBind(this,this.LoadComboBoxStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.ListBoxStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.ListBoxName,result.ListBoxStyles,Bridge.fn.cacheBind(this,this.LoadListBoxStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.TreeStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.TreeName,result.TreeStyles,Bridge.fn.cacheBind(this,this.LoadTreeStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.SplitPaneStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.HorizontalSplitPaneName,result.HorizontalSplitPaneStyles,Bridge.fn.cacheBind(this,this.LoadSplitPaneStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.SplitPaneStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.VerticalSplitPaneName,result.VerticalSplitPaneStyles,Bridge.fn.cacheBind(this,this.LoadSplitPaneStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.MenuStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.HorizontalMenuName,result.HorizontalMenuStyles,Bridge.fn.cacheBind(this,this.LoadMenuStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.MenuStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.VerticalMenuName,result.VerticalMenuStyles,Bridge.fn.cacheBind(this,this.LoadMenuStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.WindowStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.WindowName,result.WindowStyles,Bridge.fn.cacheBind(this,this.LoadWindowStyleFromSource)),this.FillStyles(Bridge.global.Myra.Graphics2D.UI.Styles.DialogStyle,Myra.Graphics2D.UI.Styles.StylesheetLoader.DialogName,result.DialogStyles,Bridge.fn.cacheBind(this,this.LoadDialogStyleFromSource)),result}}});Bridge.define("Myra.Graphics2D.UI.VerticalAlignment",{$kind:"enum",statics:{fields:{Top:0,Center:1,Bottom:2,Stretch:3}}});Bridge.define("Myra.Graphics2D.UI.Widget.LayoutState",{$kind:"nested enum",statics:{fields:{Normal:0,LocationInvalid:1,Invalid:2}}});Bridge.define("Myra.Graphics2D.UI.Window.DefaultModalResult",{$kind:"nested enum",statics:{fields:{Ok:0,Cancel:1}}});Bridge.define("Myra.MyraEnvironment",{statics:{fields:{_game:null,DrawWidgetsFrames:!1,DrawFocusedWidgetFrame:!1,DrawTextGlyphsFrames:!1,DisableClipping:!1,DrawPartialLastSymbol:!1,ShowUnderscores:!1},events:{GameDisposed:null},props:{Game:{get:function(){return Myra.MyraEnvironment._game},set:function(value){Bridge.referenceEquals(Myra.MyraEnvironment._game,value)||(Myra.MyraEnvironment._game!=null&&Myra.MyraEnvironment._game.removeDisposed(Myra.MyraEnvironment.GameOnDisposed),Myra.MyraEnvironment._game=value,Myra.MyraEnvironment._game!=null&&Myra.MyraEnvironment._game.addDisposed(Myra.MyraEnvironment.GameOnDisposed))}},GraphicsDevice:{get:function(){return Myra.MyraEnvironment.Game.GraphicsDevice}},Version:{get:function(){var assembly=Bridge.Reflection.getTypeAssembly(Myra.MyraEnvironment);return assembly.name}}},methods:{GameOnDisposed:function(sender,eventArgs){Myra.DefaultAssets.Dispose();var ev=Myra.MyraEnvironment.GameDisposed;Bridge.staticEquals(ev,null)||ev(null,{})}}}});Bridge.define("Myra.Samples.AllWidgets.AllWidgetsGame",{inherits:[Microsoft.Xna.Framework.Game],fields:{_graphics:null,_host:null,_allWidgets:null,_resourceContentManager:null},ctors:{ctor:function(){var $t;this.$initialize();Microsoft.Xna.Framework.Game.ctor.call(this);this._graphics=($t=new Microsoft.Xna.Framework.GraphicsDeviceManager(this),$t.PreferredBackBufferWidth=1200,$t.PreferredBackBufferHeight=800,$t);this.IsMouseVisible=!0;this.Window.AllowUserResizing=!0;this.Content.RootDirectory="Content"}},methods:{LoadContent:function(){Microsoft.Xna.Framework.Game.prototype.LoadContent.call(this);Myra.MyraEnvironment.Game=this;this._resourceContentManager=new MyraWebDemo.EmbeddedResourceContentManager(this.Services);Myra.DefaultAssets.UIBitmap=this._resourceContentManager.Load(Microsoft.Xna.Framework.Graphics.Texture2D,"default_ui_skin_atlas");this._host=new Myra.Graphics2D.UI.Desktop;this._allWidgets=new Myra.Samples.AllWidgets.AllWidgets;this._host.Widgets.add(this._allWidgets)},Draw:function(gameTime){Microsoft.Xna.Framework.Game.prototype.Draw.call(this,gameTime);(this._graphics.PreferredBackBufferWidth!==this.Window.ClientBounds.Width||this._graphics.PreferredBackBufferHeight!==this.Window.ClientBounds.Height)&&(this._graphics.PreferredBackBufferWidth=this.Window.ClientBounds.Width,this._graphics.PreferredBackBufferHeight=this.Window.ClientBounds.Height,this._graphics.ApplyChanges());this.GraphicsDevice.Clear(Microsoft.Xna.Framework.Color.Black.$clone());this._host.Bounds=new Microsoft.Xna.Framework.Rectangle.$ctor2(0,0,this.GraphicsDevice.PresentationParameters.BackBufferWidth,this.GraphicsDevice.PresentationParameters.BackBufferHeight);this._host.Render()}}});Bridge.define("Myra.ShapeExtensions",{statics:{methods:{Draw:function(spriteBatch,texture,offset,color,scale,rotation){rotation===void 0&&(rotation=0);spriteBatch.Draw$5(texture,offset.$clone(),null,color.$clone(),rotation,Microsoft.Xna.Framework.Vector2.Zero.$clone(),scale.$clone(),Microsoft.Xna.Framework.Graphics.SpriteEffects.None,0)},DrawPolygon:function(spriteBatch,offset,points,color,thickness){var texture,i;if(thickness===void 0&&(thickness=1),points.length!==0){if(points.length===1){Myra.ShapeExtensions.DrawPoint(spriteBatch,points[0].$clone(),color.$clone(),Bridge.Int.clip32(thickness));return}for(texture=Myra.DefaultAssets.White,i=0;i<(points.length-1|0);i=i+1|0)Myra.ShapeExtensions.DrawPolygonEdge(spriteBatch,texture,Microsoft.Xna.Framework.Vector2.op_Addition(points[i].$clone(),offset.$clone()),Microsoft.Xna.Framework.Vector2.op_Addition(points[i+1|0].$clone(),offset.$clone()),color.$clone(),thickness);Myra.ShapeExtensions.DrawPolygonEdge(spriteBatch,texture,Microsoft.Xna.Framework.Vector2.op_Addition(points[points.length-1|0].$clone(),offset.$clone()),Microsoft.Xna.Framework.Vector2.op_Addition(points[0].$clone(),offset.$clone()),color.$clone(),thickness)}},DrawPolygonEdge:function(spriteBatch,texture,point1,point2,color,thickness){var length=Microsoft.Xna.Framework.Vector2.Distance(point1.$clone(),point2.$clone()),angle=Math.atan2(point2.Y-point1.Y,point2.X-point1.X),scale=new Microsoft.Xna.Framework.Vector2.$ctor2(length,thickness);spriteBatch.Draw$7(texture,point1.$clone(),void 0,void 0,void 0,angle,scale,color,0,0)},FillRectangle:function(spriteBatch,rectangle,color){Myra.ShapeExtensions.FillRectangle$1(spriteBatch,new Microsoft.Xna.Framework.Vector2.$ctor2(rectangle.X,rectangle.Y),new Microsoft.Xna.Framework.Vector2.$ctor2(rectangle.Width,rectangle.Height),color.$clone())},FillRectangle$1:function(spriteBatch,location,size,color){spriteBatch.Draw$5(Myra.DefaultAssets.White,location.$clone(),null,color.$clone(),0,Microsoft.Xna.Framework.Vector2.Zero.$clone(),size.$clone(),Microsoft.Xna.Framework.Graphics.SpriteEffects.None,0)},FillRectangle$2:function(spriteBatch,x,y,width,height,color){Myra.ShapeExtensions.FillRectangle$1(spriteBatch,new Microsoft.Xna.Framework.Vector2.$ctor2(x,y),new Microsoft.Xna.Framework.Vector2.$ctor2(width,height),color.$clone())},DrawRectangle:function(spriteBatch,rectangle,color,thickness){thickness===void 0&&(thickness=1);var texture=Myra.DefaultAssets.White,topLeft=new Microsoft.Xna.Framework.Vector2.$ctor2(rectangle.X,rectangle.Y),topRight=new Microsoft.Xna.Framework.Vector2.$ctor2(rectangle.Right-thickness,rectangle.Y),bottomLeft=new Microsoft.Xna.Framework.Vector2.$ctor2(rectangle.X,rectangle.Bottom-thickness),horizontalScale=new Microsoft.Xna.Framework.Vector2.$ctor2(rectangle.Width,thickness),verticalScale=new Microsoft.Xna.Framework.Vector2.$ctor2(thickness,rectangle.Height);spriteBatch.Draw$7(texture,topLeft.$clone(),void 0,void 0,void 0,0,horizontalScale,color,0,0);spriteBatch.Draw$7(texture,topLeft.$clone(),void 0,void 0,void 0,0,verticalScale,color,0,0);spriteBatch.Draw$7(texture,topRight.$clone(),void 0,void 0,void 0,0,verticalScale,color,0,0);spriteBatch.Draw$7(texture,bottomLeft.$clone(),void 0,void 0,void 0,0,horizontalScale,color,0,0)},DrawRectangle$1:function(spriteBatch,location,size,color,thickness){thickness===void 0&&(thickness=1);Myra.ShapeExtensions.DrawRectangle(spriteBatch,new Microsoft.Xna.Framework.Rectangle.$ctor2(Bridge.Int.clip32(location.X),Bridge.Int.clip32(location.Y),Bridge.Int.clip32(size.X),Bridge.Int.clip32(size.Y)),color.$clone(),thickness)},DrawLine$2:function(spriteBatch,x1,y1,x2,y2,color,thickness){thickness===void 0&&(thickness=1);Myra.ShapeExtensions.DrawLine(spriteBatch,new Microsoft.Xna.Framework.Vector2.$ctor2(x1,y1),new Microsoft.Xna.Framework.Vector2.$ctor2(x2,y2),color.$clone(),thickness)},DrawLine:function(spriteBatch,point1,point2,color,thickness){thickness===void 0&&(thickness=1);var distance=Microsoft.Xna.Framework.Vector2.Distance(point1.$clone(),point2.$clone()),angle=Math.atan2(point2.Y-point1.Y,point2.X-point1.X);Myra.ShapeExtensions.DrawLine$1(spriteBatch,point1.$clone(),distance,angle,color.$clone(),thickness)},DrawLine$1:function(spriteBatch,point,length,angle,color,thickness){thickness===void 0&&(thickness=1);var origin=new Microsoft.Xna.Framework.Vector2.$ctor2(0,.5),scale=new Microsoft.Xna.Framework.Vector2.$ctor2(length,thickness);spriteBatch.Draw$5(Myra.DefaultAssets.White,point.$clone(),null,color.$clone(),angle,origin.$clone(),scale.$clone(),Microsoft.Xna.Framework.Graphics.SpriteEffects.None,0)},DrawPoint$1:function(spriteBatch,x,y,color,size){size===void 0&&(size=1);Myra.ShapeExtensions.DrawPoint(spriteBatch,new Microsoft.Xna.Framework.Vector2.$ctor2(x,y),color.$clone(),size)},DrawPoint:function(spriteBatch,position,color,size){size===void 0&&(size=1);var scale=Microsoft.Xna.Framework.Vector2.op_Multiply$1(Microsoft.Xna.Framework.Vector2.One.$clone(),size),offset=Microsoft.Xna.Framework.Vector2.op_Subtraction(new Microsoft.Xna.Framework.Vector2.$ctor1(.5),new Microsoft.Xna.Framework.Vector2.$ctor1(size*.5));spriteBatch.Draw$7(Myra.DefaultAssets.White,Microsoft.Xna.Framework.Vector2.op_Addition(position.$clone(),offset.$clone()),void 0,void 0,void 0,0,scale,color,0,0)},DrawCircle:function(spriteBatch,center,radius,sides,color,thickness){thickness===void 0&&(thickness=1);Myra.ShapeExtensions.DrawPolygon(spriteBatch,center.$clone(),Myra.ShapeExtensions.CreateCircle(radius,sides),color.$clone(),thickness)},DrawCircle$1:function(spriteBatch,x,y,radius,sides,color,thickness){thickness===void 0&&(thickness=1);Myra.ShapeExtensions.DrawPolygon(spriteBatch,new Microsoft.Xna.Framework.Vector2.$ctor2(x,y),Myra.ShapeExtensions.CreateCircle(radius,sides),color.$clone(),thickness)},CreateCircle:function(radius,sides){for(var max=6.2831853071795862,points=System.Array.init(sides,function(){return new Microsoft.Xna.Framework.Vector2},Microsoft.Xna.Framework.Vector2),step=max/sides,theta=0,i=0;i<sides;i=i+1|0)points[i]=new Microsoft.Xna.Framework.Vector2.$ctor2(radius*Math.cos(theta),radius*Math.sin(theta)),theta+=step;return points}}}});Bridge.define("Myra.Utility.Collections",{statics:{methods:{SafeGet:function(T1,T2,dictionary,key){var result={};return dictionary["System$Collections$Generic$IDictionary$2$"+Bridge.getTypeAlias(T1)+"$"+Bridge.getTypeAlias(T2)+"$tryGetValue"](key,result)||(result.v=Bridge.getDefaultValue(T2)),result.v}}}});Bridge.define("Myra.Utility.ColorHSV",{$kind:"struct",statics:{methods:{op_Equality:function(a,b){return a.H===b.H&&a.V===b.V&&a.S===b.V},op_Inequality:function(a,b){return!Myra.Utility.ColorHSV.op_Equality(a.$clone(),b.$clone())},getDefaultValue:function(){return new Myra.Utility.ColorHSV}}},fields:{H:0,S:0,V:0},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([3317675957,this.H,this.S,this.V])},equals:function(o){return Bridge.is(o,Myra.Utility.ColorHSV)?Bridge.equals(this.H,o.H)&&Bridge.equals(this.S,o.S)&&Bridge.equals(this.V,o.V):!1},$clone:function(to){var s=to||new Myra.Utility.ColorHSV;return s.H=this.H,s.S=this.S,s.V=this.V,s}}});Bridge.define("Myra.Utility.GenericEventArgs$1",function(T){return{fields:{Data:Bridge.getDefaultValue(T)},ctors:{ctor:function(value){this.$initialize();System.Object.call(this);this.Data=value}}}});Bridge.define("Myra.Utility.GraphicsExtension",{statics:{fields:{_colors:null},ctors:{init:function(){this._colors=new(System.Collections.Generic.Dictionary$2(System.String,Myra.Utility.GraphicsExtension.ColorInfo))},ctor:function(){var $t,$t1,type=Microsoft.Xna.Framework.Color,colors=Bridge.Reflection.getMembers(type,16,28),c,value;$t=Bridge.getEnumerator(colors);try{while($t.moveNext())(c=$t.Current,c.g.is||!1||Bridge.referenceEquals(c.rt,Microsoft.Xna.Framework.Color))&&(value=Bridge.cast(Bridge.Reflection.midel(c.g,null).apply(null,null),Microsoft.Xna.Framework.Color),Myra.Utility.GraphicsExtension._colors.set(c.n.toLowerCase(),($t1=new Myra.Utility.GraphicsExtension.ColorInfo,$t1.Color=value.$clone(),$t1.Name=c.n,$t1)))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}},methods:{ToHexString:function(c){return System.String.format("#{0}{1}{2}{3}",System.Byte.format(c.R,"X2"),System.Byte.format(c.G,"X2"),System.Byte.format(c.B,"X2"),System.Byte.format(c.A,"X2"))},GetColorName:function(color){var $t,c;$t=Bridge.getEnumerator(Myra.Utility.GraphicsExtension._colors);try{while($t.moveNext())if(c=$t.Current,Microsoft.Xna.Framework.Color.op_Equality(c.value.Color.$clone(),color.$clone()))return c.value.Name}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return null},FromName:function(name){var u,r,g,b,a,result;if(System.String.startsWith(name,"#"))return(name=name.substr(1),u={},System.UInt32.tryParse(name,u,16))?(r=u.v>>>24&255,g=u.v>>>16&255,b=u.v>>>8&255,a=u.v&255,new Microsoft.Xna.Framework.Color.$ctor5(r,g,b,a)):Microsoft.Xna.Framework.Color.Plum.$clone();else if(result={},Myra.Utility.GraphicsExtension._colors.tryGetValue(name.toLowerCase(),result))return result.v.Color.$clone();return null},Size:function(r){return new Microsoft.Xna.Framework.Point.$ctor2(r.Width,r.Height)},SetSize:function(r,size){r.v.Width=size.X;r.v.Height=size.Y},Add:function(r,p){return new Microsoft.Xna.Framework.Rectangle.$ctor2(r.X+p.X|0,r.Y+p.Y|0,r.Width,r.Height)},ToHSV:function(color){var $t,r=color.R/255,g=color.G/255,b=color.B/255,h,s,v,min,max,delta;if(min=Math.min(Math.min(r,g),b),max=Math.max(Math.max(r,g),b),v=max,delta=max-min,max!==0)s=delta/max;else return s=0,h=0,$t=new Myra.Utility.ColorHSV,$t.H=Bridge.Int.clip32(Bridge.Math.round(h,0,6)),$t.S=Bridge.Int.clip32(Bridge.Math.round(s,0,6)),$t.V=Bridge.Int.clip32(Bridge.Math.round(v,0,6)),$t;return h=delta===0?0:r===max?(g-b)/delta:g===max?2+(b-r)/delta:4+(r-g)/delta,h*=60,h<0&&(h+=360),s*=100,v*=100,$t=new Myra.Utility.ColorHSV,$t.H=Bridge.Int.clip32(Bridge.Math.round(h,0,6)),$t.S=Bridge.Int.clip32(Bridge.Math.round(s,0,6)),$t.V=Bridge.Int.clip32(Bridge.Math.round(v,0,6)),$t},ToRGB:function(colorHSV){var h=colorHSV.H,s,v,i,f,p,q,t,r,g,b;colorHSV.H===360&&(h=359);s=colorHSV.S;v=colorHSV.V;h=Math.max(0,Math.min(360,h));s=Math.max(0,Math.min(100,s));v=Math.max(0,Math.min(100,v));s/=100;v/=100;h/=60;i=Bridge.Int.clip32(Math.floor(h));f=h-i;p=v*(1-s);q=v*(1-s*f);t=v*(1-s*(1-f));switch(i){case 0:r=Bridge.Int.clip32(Bridge.Math.round(255*v,0,6));g=Bridge.Int.clip32(Bridge.Math.round(255*t,0,6));b=Bridge.Int.clip32(Bridge.Math.round(255*p,0,6));break;case 1:r=Bridge.Int.clip32(Bridge.Math.round(255*q,0,6));g=Bridge.Int.clip32(Bridge.Math.round(255*v,0,6));b=Bridge.Int.clip32(Bridge.Math.round(255*p,0,6));break;case 2:r=Bridge.Int.clip32(Bridge.Math.round(255*p,0,6));g=Bridge.Int.clip32(Bridge.Math.round(255*v,0,6));b=Bridge.Int.clip32(Bridge.Math.round(255*t,0,6));break;case 3:r=Bridge.Int.clip32(Bridge.Math.round(255*p,0,6));g=Bridge.Int.clip32(Bridge.Math.round(255*q,0,6));b=Bridge.Int.clip32(Bridge.Math.round(255*v,0,6));break;case 4:r=Bridge.Int.clip32(Bridge.Math.round(255*t,0,6));g=Bridge.Int.clip32(Bridge.Math.round(255*p,0,6));b=Bridge.Int.clip32(Bridge.Math.round(255*v,0,6));break;default:r=Bridge.Int.clip32(Bridge.Math.round(255*v,0,6));g=Bridge.Int.clip32(Bridge.Math.round(255*p,0,6));b=Bridge.Int.clip32(Bridge.Math.round(255*q,0,6));break}return new Microsoft.Xna.Framework.Color.$ctor7(r,g,b,255)},ApplyAlpha:function(color,alpha){var fc=color/255,fa=alpha/255,fr=Bridge.Int.clip32(255*fc*fa);return fr<0&&(fr=0),fr>255&&(fr=255),fr&255},PremultiplyAlpha:function(texture){var data=System.Array.init(Bridge.Int.mul(texture.Width,texture.Height),function(){return new Microsoft.Xna.Framework.Color},Microsoft.Xna.Framework.Color),i,a;for(texture.GetData(Bridge.global.Microsoft.Xna.Framework.Color,data),i=0;i<data.length;i=i+1|0)a=data[i].A,data[i].R=Myra.Utility.GraphicsExtension.ApplyAlpha(data[i].R,a),data[i].G=Myra.Utility.GraphicsExtension.ApplyAlpha(data[i].G,a),data[i].B=Myra.Utility.GraphicsExtension.ApplyAlpha(data[i].B,a);texture.SetData(Bridge.global.Microsoft.Xna.Framework.Color,data)}}}});Bridge.define("Myra.Utility.GraphicsExtension.ColorInfo",{$kind:"nested class",fields:{Color:null,Name:null},ctors:{init:function(){this.Color=new Microsoft.Xna.Framework.Color}}});Bridge.define("Myra.Utility.Input",{statics:{methods:{ToChar:function(key,isShiftDown){return key===Microsoft.Xna.Framework.Input.Keys.A?isShiftDown?65:97:key===Microsoft.Xna.Framework.Input.Keys.B?isShiftDown?66:98:key===Microsoft.Xna.Framework.Input.Keys.C?isShiftDown?67:99:key===Microsoft.Xna.Framework.Input.Keys.D?isShiftDown?68:100:key===Microsoft.Xna.Framework.Input.Keys.E?isShiftDown?69:101:key===Microsoft.Xna.Framework.Input.Keys.F?isShiftDown?70:102:key===Microsoft.Xna.Framework.Input.Keys.G?isShiftDown?71:103:key===Microsoft.Xna.Framework.Input.Keys.H?isShiftDown?72:104:key===Microsoft.Xna.Framework.Input.Keys.I?isShiftDown?73:105:key===Microsoft.Xna.Framework.Input.Keys.J?isShiftDown?74:106:key===Microsoft.Xna.Framework.Input.Keys.K?isShiftDown?75:107:key===Microsoft.Xna.Framework.Input.Keys.L?isShiftDown?76:108:key===Microsoft.Xna.Framework.Input.Keys.M?isShiftDown?77:109:key===Microsoft.Xna.Framework.Input.Keys.N?isShiftDown?78:110:key===Microsoft.Xna.Framework.Input.Keys.O?isShiftDown?79:111:key===Microsoft.Xna.Framework.Input.Keys.P?isShiftDown?80:112:key===Microsoft.Xna.Framework.Input.Keys.Q?isShiftDown?81:113:key===Microsoft.Xna.Framework.Input.Keys.R?isShiftDown?82:114:key===Microsoft.Xna.Framework.Input.Keys.S?isShiftDown?83:115:key===Microsoft.Xna.Framework.Input.Keys.T?isShiftDown?84:116:key===Microsoft.Xna.Framework.Input.Keys.U?isShiftDown?85:117:key===Microsoft.Xna.Framework.Input.Keys.V?isShiftDown?86:118:key===Microsoft.Xna.Framework.Input.Keys.W?isShiftDown?87:119:key===Microsoft.Xna.Framework.Input.Keys.X?isShiftDown?88:120:key===Microsoft.Xna.Framework.Input.Keys.Y?isShiftDown?89:121:key===Microsoft.Xna.Framework.Input.Keys.Z?isShiftDown?90:122:key===Microsoft.Xna.Framework.Input.Keys.D0&&!isShiftDown||key===Microsoft.Xna.Framework.Input.Keys.NumPad0?48:key===Microsoft.Xna.Framework.Input.Keys.D1&&!isShiftDown||key===Microsoft.Xna.Framework.Input.Keys.NumPad1?49:key===Microsoft.Xna.Framework.Input.Keys.D2&&!isShiftDown||key===Microsoft.Xna.Framework.Input.Keys.NumPad2?50:key===Microsoft.Xna.Framework.Input.Keys.D3&&!isShiftDown||key===Microsoft.Xna.Framework.Input.Keys.NumPad3?51:key===Microsoft.Xna.Framework.Input.Keys.D4&&!isShiftDown||key===Microsoft.Xna.Framework.Input.Keys.NumPad4?52:key===Microsoft.Xna.Framework.Input.Keys.D5&&!isShiftDown||key===Microsoft.Xna.Framework.Input.Keys.NumPad5?53:key===Microsoft.Xna.Framework.Input.Keys.D6&&!isShiftDown||key===Microsoft.Xna.Framework.Input.Keys.NumPad6?54:key===Microsoft.Xna.Framework.Input.Keys.D7&&!isShiftDown||key===Microsoft.Xna.Framework.Input.Keys.NumPad7?55:key===Microsoft.Xna.Framework.Input.Keys.D8&&!isShiftDown||key===Microsoft.Xna.Framework.Input.Keys.NumPad8?56:key===Microsoft.Xna.Framework.Input.Keys.D9&&!isShiftDown||key===Microsoft.Xna.Framework.Input.Keys.NumPad9?57:key===Microsoft.Xna.Framework.Input.Keys.D0&&isShiftDown?41:key===Microsoft.Xna.Framework.Input.Keys.D1&&isShiftDown?33:key===Microsoft.Xna.Framework.Input.Keys.D2&&isShiftDown?64:key===Microsoft.Xna.Framework.Input.Keys.D3&&isShiftDown?35:key===Microsoft.Xna.Framework.Input.Keys.D4&&isShiftDown?36:key===Microsoft.Xna.Framework.Input.Keys.D5&&isShiftDown?37:key===Microsoft.Xna.Framework.Input.Keys.D6&&isShiftDown?94:key===Microsoft.Xna.Framework.Input.Keys.D7&&isShiftDown?38:key===Microsoft.Xna.Framework.Input.Keys.D8&&isShiftDown?42:key===Microsoft.Xna.Framework.Input.Keys.D9&&isShiftDown?40:key===Microsoft.Xna.Framework.Input.Keys.Space?32:key===Microsoft.Xna.Framework.Input.Keys.Tab?9:key===Microsoft.Xna.Framework.Input.Keys.Enter?13:key===Microsoft.Xna.Framework.Input.Keys.Back?8:key===Microsoft.Xna.Framework.Input.Keys.Add?43:key===Microsoft.Xna.Framework.Input.Keys.Decimal?46:key===Microsoft.Xna.Framework.Input.Keys.Divide?47:key===Microsoft.Xna.Framework.Input.Keys.Multiply?42:key===Microsoft.Xna.Framework.Input.Keys.OemBackslash?92:key===Microsoft.Xna.Framework.Input.Keys.OemComma&&!isShiftDown?44:key===Microsoft.Xna.Framework.Input.Keys.OemComma&&isShiftDown?60:key===Microsoft.Xna.Framework.Input.Keys.OemOpenBrackets&&!isShiftDown?91:key===Microsoft.Xna.Framework.Input.Keys.OemOpenBrackets&&isShiftDown?123:key===Microsoft.Xna.Framework.Input.Keys.OemCloseBrackets&&!isShiftDown?93:key===Microsoft.Xna.Framework.Input.Keys.OemCloseBrackets&&isShiftDown?125:key===Microsoft.Xna.Framework.Input.Keys.OemPeriod&&!isShiftDown?46:key===Microsoft.Xna.Framework.Input.Keys.OemPeriod&&isShiftDown?62:key===Microsoft.Xna.Framework.Input.Keys.OemPipe&&!isShiftDown?92:key===Microsoft.Xna.Framework.Input.Keys.OemPipe&&isShiftDown?124:key===Microsoft.Xna.Framework.Input.Keys.OemPlus&&!isShiftDown?61:key===Microsoft.Xna.Framework.Input.Keys.OemPlus&&isShiftDown?43:key===Microsoft.Xna.Framework.Input.Keys.OemMinus&&!isShiftDown?45:key===Microsoft.Xna.Framework.Input.Keys.OemMinus&&isShiftDown?95:key===Microsoft.Xna.Framework.Input.Keys.OemQuestion&&!isShiftDown?47:key===Microsoft.Xna.Framework.Input.Keys.OemQuestion&&isShiftDown?63:key===Microsoft.Xna.Framework.Input.Keys.OemQuotes&&!isShiftDown?39:key===Microsoft.Xna.Framework.Input.Keys.OemQuotes&&isShiftDown?34:key===Microsoft.Xna.Framework.Input.Keys.OemSemicolon&&!isShiftDown?59:key===Microsoft.Xna.Framework.Input.Keys.OemSemicolon&&isShiftDown?58:key===Microsoft.Xna.Framework.Input.Keys.OemTilde&&!isShiftDown?96:key===Microsoft.Xna.Framework.Input.Keys.OemTilde&&isShiftDown?126:key===Microsoft.Xna.Framework.Input.Keys.Subtract?45:null}}}});Bridge.define("Myra.Utility.Mathematics",{statics:{fields:{ZeroTolerance:0},ctors:{init:function(){this.ZeroTolerance=1e-6}},methods:{EpsilonEquals:function(left,right,epsilon){return epsilon===void 0&&(epsilon=1e-6),Math.abs(left-right)<=epsilon},IsZero:function(a){return Myra.Utility.Mathematics.EpsilonEquals(a,0)}}}});Bridge.define("Myra.Utility.ProgressInfo",{$kind:"struct",statics:{methods:{getDefaultValue:function(){return new Myra.Utility.ProgressInfo}}},fields:{Finished:!1,Progress:0},ctors:{ctor:function(){this.$initialize()}},methods:{getHashCode:function(){return Bridge.addHash([5541283339,this.Finished,this.Progress])},equals:function(o){return Bridge.is(o,Myra.Utility.ProgressInfo)?Bridge.equals(this.Finished,o.Finished)&&Bridge.equals(this.Progress,o.Progress):!1},$clone:function(to){var s=to||new Myra.Utility.ProgressInfo;return s.Finished=this.Finished,s.Progress=this.Progress,s}}});Bridge.define("Myra.Utility.Reflection",{statics:{methods:{FindAttribute:function(T,property){return System.Linq.Enumerable.from(System.Attribute.getCustomAttributes(property,T,!0)).select(function(x){return Bridge.cast(x,T)}).select(function(a){return a}).firstOrDefault(null,null)},FindAttribute$1:function(T,type){return System.Linq.Enumerable.from(Bridge.Reflection.getAttributes(type,T,!0)).select(function(x){return Bridge.cast(x,T)}).select(function(a){return a}).firstOrDefault(null,null)},GetOnlyTypeName:function(type){var result=Bridge.Reflection.getTypeName(type),iBacktick;return Bridge.Reflection.isGenericType(type)&&(iBacktick=System.String.indexOf(result,String.fromCharCode(96)),iBacktick>0&&(result=System.String.remove(result,iBacktick))),result},GetFriendlyName:function(type){var friendlyName=Bridge.Reflection.getTypeName(type),iBacktick,typeParameters,i,typeParamName;if(Bridge.Reflection.getMetaValue(type,"td",null)!=null&&Bridge.Reflection.getMetaValue(type,"td",null)!=null&&(friendlyName=(Myra.Utility.Reflection.GetFriendlyName(Bridge.Reflection.getMetaValue(type,"td",null))||"")+"."+(friendlyName||"")),Bridge.Reflection.isGenericType(type)){for(iBacktick=System.String.indexOf(friendlyName,String.fromCharCode(96)),iBacktick>0&&(friendlyName=System.String.remove(friendlyName,iBacktick)),friendlyName=(friendlyName||"")+"<",typeParameters=Bridge.Reflection.getGenericArguments(type),i=0;i<typeParameters.length;i=i+1|0)typeParamName=Bridge.Reflection.getTypeName(typeParameters[i]),friendlyName=(friendlyName||"")+((i===0?typeParamName:","+(typeParamName||""))||"");friendlyName=(friendlyName||"")+">"}return friendlyName},IsSubclassOfRawGeneric:function(toCheck,generic){while(toCheck!=null&&!Bridge.referenceEquals(toCheck,System.Object)){var cur=Bridge.Reflection.isGenericType(toCheck)?Bridge.Reflection.getGenericTypeDefinition(toCheck):toCheck;if(Bridge.referenceEquals(generic,cur))return!0;toCheck=Bridge.Reflection.getBaseType(toCheck)}return!1},FindGenericType:function(givenType,genericType){var $t,interfaceTypes=Bridge.Reflection.getInterfaces(givenType),it,baseType;$t=Bridge.getEnumerator(interfaceTypes);try{while($t.moveNext())if(it=$t.Current,Bridge.Reflection.isGenericType(it)&&Bridge.referenceEquals(Bridge.Reflection.getGenericTypeDefinition(it),genericType))return it}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return Bridge.Reflection.isGenericType(givenType)&&Bridge.referenceEquals(Bridge.Reflection.getGenericTypeDefinition(givenType),genericType)?givenType:(baseType=Bridge.Reflection.getBaseType(givenType),baseType==null)?null:Myra.Utility.Reflection.FindGenericType(baseType,genericType)}}}});Bridge.define("Myra.Utility.ResourceAssetResolver",{fields:{_assembly:null,Prefix:null},props:{Assembly:{get:function(){return this._assembly},set:function(value){if(value==null)throw new System.ArgumentNullException.$ctor1("value");this._assembly=value}}},ctors:{ctor:function(assembly,prefix){this.$initialize();this.Assembly=assembly;this.Prefix=prefix}},methods:{Open:function(assetName){return new System.IO.MemoryStream.$ctor1(this.Assembly.getManifestResourceData((this.Prefix||"")+(assetName||"")))},ReadAsString:function(assetName){var result,input=this.Open(assetName),textReader;try{textReader=new System.IO.StreamReader.$ctor1(input);try{result=textReader.ReadToEnd()}finally{Bridge.hasValue(textReader)&&textReader.System$IDisposable$Dispose()}}finally{Bridge.hasValue(input)&&input.System$IDisposable$Dispose()}return result}}});Bridge.define("Myra.Utility.Serialization",{statics:{methods:{GetStyle$4:function(styles,name,result){result.v=null;var obj={};return styles.tryGetValue(name,obj)?(result.v=Bridge.toString(obj.v),!0):!1},GetStyle$1:function(styles,name,result){result.v=null;var obj={};return styles.tryGetValue(name,obj)?(result.v=Bridge.cast(obj.v,System.Collections.Generic.Dictionary$2(System.String,System.Object)),!0):!1},GetStyle$2:function(styles,name,result){var s,i;return(result.v=0,s={},!Myra.Utility.Serialization.GetStyle$4(styles,name,s))?!1:(i={},!System.Int32.tryParse(s.v,i))?!1:(result.v=i.v,!0)},GetStyle:function(styles,name,result){var s,i;return(result.v=!1,s={},!Myra.Utility.Serialization.GetStyle$4(styles,name,s))?!1:(i={},!System.Boolean.tryParse(s.v,i))?!1:(result.v=i.v,!0)},GetStyle$3:function(styles,name,result){var s,f;return(result.v=0,s={},!Myra.Utility.Serialization.GetStyle$4(styles,name,s))?!1:(f={},!System.Single.tryParse(s.v,null,f))?!1:(result.v=f.v,!0)},HasDefaultValue:function(property,value){var defaultAttribute=Myra.Utility.Reflection.FindAttribute(System.ComponentModel.DefaultValueAttribute,property),defaultAttributeValue=null;return(defaultAttribute!=null&&(defaultAttributeValue=defaultAttribute.Value,Bridge.referenceEquals(property.rt,Microsoft.Xna.Framework.Color)&&(defaultAttributeValue=System.Nullable.getValue(Myra.Utility.GraphicsExtension.FromName(Bridge.toString(defaultAttributeValue))).$clone())),defaultAttribute!=null&&Bridge.equals(value,defaultAttributeValue))?!0:!1}}}});Bridge.define("Myra.Utility.ValueChangedEventArgs$1",function(T){return{fields:{OldValue:Bridge.getDefaultValue(T),NewValue:Bridge.getDefaultValue(T)},ctors:{ctor:function(oldValue,newValue){this.$initialize();System.Object.call(this);this.OldValue=oldValue;this.NewValue=newValue}}}});Bridge.define("MyraWebDemo.App",{main:function(){var canvas=document.createElement("canvas"),button;canvas.width=1200;canvas.height=800;canvas.id="monogamecanvas";button=document.createElement("button");button.innerHTML="Run Game";document.body.appendChild(canvas);document.body.appendChild(button);button.onclick=function(ev){try{MyraWebDemo.App._game=new Myra.Samples.AllWidgets.AllWidgetsGame;MyraWebDemo.App._game.Run()}catch(ex){ex=System.Exception.create(ex);System.Console.WriteLine(System.String.concat("ERROR: ",ex))}}},statics:{fields:{_game:null}}});Bridge.define("MyraWebDemo.EmbeddedResourceContentManager",{inherits:[Microsoft.Xna.Framework.Content.ContentManager],ctors:{ctor:function(serviceProvider){this.$initialize();Microsoft.Xna.Framework.Content.ContentManager.ctor.call(this,serviceProvider)}},methods:{OpenStream:function(assetName){return assetName="MyraWebDemo.Myra.Resources."+(assetName||"")+".xnb",new System.IO.MemoryStream.$ctor1($asm.getManifestResourceData(assetName))}}});Bridge.define("System.Collections.ObjectModel.EventArgsCache",{statics:{fields:{CountPropertyChanged:null,IndexerPropertyChanged:null,ResetCollectionChanged:null},ctors:{init:function(){this.CountPropertyChanged=new System.ComponentModel.PropertyChangedEventArgs("Count");this.IndexerPropertyChanged=new System.ComponentModel.PropertyChangedEventArgs("Item[]");this.ResetCollectionChanged=new System.Collections.Specialized.NotifyCollectionChangedEventArgs.ctor(System.Collections.Specialized.NotifyCollectionChangedAction.Reset)}}}});Bridge.define("System.Collections.Specialized.INotifyCollectionChanged",{$kind:"interface"});Bridge.define("System.Collections.ObjectModel.ObservableCollection$1.SimpleMonitor",function(T){return{inherits:[System.IDisposable],$kind:"nested class",fields:{_busyCount:0,_collection:null},alias:["Dispose","System$IDisposable$Dispose"],ctors:{ctor:function(collection){this.$initialize();this._collection=collection}},methods:{Dispose:function(){this._collection._blockReentrancyCount=this._collection._blockReentrancyCount-1|0}}}});Bridge.define("System.Collections.Specialized.NotifyCollectionChangedAction",{$kind:"enum",statics:{fields:{Add:0,Remove:1,Replace:2,Move:3,Reset:4}}});Bridge.define("System.Collections.Specialized.NotifyCollectionChangedEventArgs",{fields:{_action:0,_newItems:null,_oldItems:null,_newStartingIndex:0,_oldStartingIndex:0},props:{Action:{get:function(){return this._action}},NewItems:{get:function(){return this._newItems}},OldItems:{get:function(){return this._oldItems}},NewStartingIndex:{get:function(){return this._newStartingIndex}},OldStartingIndex:{get:function(){return this._oldStartingIndex}}},ctors:{init:function(){this._newStartingIndex=-1;this._oldStartingIndex=-1},ctor:function(action){this.$initialize();System.Object.call(this);this.InitializeAdd(action,null,-1)},$ctor7:function(action,changedItem){this.$initialize();System.Object.call(this);action===System.Collections.Specialized.NotifyCollectionChangedAction.Reset?this.InitializeAdd(action,null,-1):this.InitializeAddOrRemove(action,System.Array.init([changedItem],System.Object),-1)},$ctor8:function(action,changedItem,index){this.$initialize();System.Object.call(this);action===System.Collections.Specialized.NotifyCollectionChangedAction.Reset?this.InitializeAdd(action,null,-1):this.InitializeAddOrRemove(action,System.Array.init([changedItem],System.Object),index)},$ctor1:function(action,changedItems){if(this.$initialize(),System.Object.call(this),action===System.Collections.Specialized.NotifyCollectionChangedAction.Reset)this.InitializeAdd(action,null,-1);else{if(changedItems==null)throw new System.ArgumentNullException.$ctor1("changedItems");this.InitializeAddOrRemove(action,changedItems,-1)}},$ctor5:function(action,changedItems,startingIndex){if(this.$initialize(),System.Object.call(this),action===System.Collections.Specialized.NotifyCollectionChangedAction.Reset)this.InitializeAdd(action,null,-1);else{if(changedItems==null)throw new System.ArgumentNullException.$ctor1("changedItems");this.InitializeAddOrRemove(action,changedItems,startingIndex)}},$ctor10:function(action,newItem,oldItem){this.$initialize();System.Object.call(this);this.InitializeMoveOrReplace(action,System.Array.init([newItem],System.Object),System.Array.init([oldItem],System.Object),-1,-1)},$ctor11:function(action,newItem,oldItem,index){this.$initialize();System.Object.call(this);var oldStartingIndex=index;this.InitializeMoveOrReplace(action,System.Array.init([newItem],System.Object),System.Array.init([oldItem],System.Object),index,oldStartingIndex)},$ctor2:function(action,newItems,oldItems){if(this.$initialize(),System.Object.call(this),newItems==null)throw new System.ArgumentNullException.$ctor1("newItems");if(oldItems==null)throw new System.ArgumentNullException.$ctor1("oldItems");this.InitializeMoveOrReplace(action,newItems,oldItems,-1,-1)},$ctor3:function(action,newItems,oldItems,startingIndex){if(this.$initialize(),System.Object.call(this),newItems==null)throw new System.ArgumentNullException.$ctor1("newItems");if(oldItems==null)throw new System.ArgumentNullException.$ctor1("oldItems");this.InitializeMoveOrReplace(action,newItems,oldItems,startingIndex,startingIndex)},$ctor9:function(action,changedItem,index,oldIndex){this.$initialize();System.Object.call(this);var changedItems=System.Array.init([changedItem],System.Object);this.InitializeMoveOrReplace(action,changedItems,changedItems,index,oldIndex)},$ctor6:function(action,changedItems,index,oldIndex){this.$initialize();System.Object.call(this);this.InitializeMoveOrReplace(action,changedItems,changedItems,index,oldIndex)},$ctor4:function(action,newItems,oldItems,newIndex,oldIndex){this.$initialize();System.Object.call(this);this._action=action;this._newItems=newItems;this._oldItems=oldItems;this._newStartingIndex=newIndex;this._oldStartingIndex=oldIndex}},methods:{InitializeAddOrRemove:function(action,changedItems,startingIndex){action===System.Collections.Specialized.NotifyCollectionChangedAction.Add?this.InitializeAdd(action,changedItems,startingIndex):action===System.Collections.Specialized.NotifyCollectionChangedAction.Remove&&this.InitializeRemove(action,changedItems,startingIndex)},InitializeAdd:function(action,newItems,newStartingIndex){this._action=action;this._newItems=newItems;this._newStartingIndex=newStartingIndex},InitializeRemove:function(action,oldItems,oldStartingIndex){this._action=action;this._oldItems=oldItems;this._oldStartingIndex=oldStartingIndex},InitializeMoveOrReplace:function(action,newItems,oldItems,startingIndex,oldStartingIndex){this.InitializeAdd(action,newItems,startingIndex);this.InitializeRemove(action,oldItems,oldStartingIndex)}}});Bridge.define("Cyotek.Drawing.BitmapFont.BitmapFont",{inherits:[System.Collections.Generic.IEnumerable$1(Cyotek.Drawing.BitmapFont.Character)],statics:{fields:{NoMaxWidth:0},ctors:{init:function(){this.NoMaxWidth=-1}}},fields:{AlphaChannel:0,BaseHeight:0,BlueChannel:0,Bold:!1,Characters:null,Charset:null,FamilyName:null,FontSize:0,GreenChannel:0,Italic:!1,Kernings:null,LineHeight:0,OutlineSize:0,Packed:!1,Padding:null,Pages:null,RedChannel:0,Smoothed:!1,Spacing:null,StretchedHeight:0,SuperSampling:0,TextureSize:null,Unicode:!1},alias:["GetEnumerator",["System$Collections$Generic$IEnumerable$1$Cyotek$Drawing$BitmapFont$Character$GetEnumerator","System$Collections$Generic$IEnumerable$1$GetEnumerator"]],ctors:{init:function(){this.Padding=new Cyotek.Drawing.BitmapFont.Padding;this.Spacing=new Microsoft.Xna.Framework.Point;this.TextureSize=new Microsoft.Xna.Framework.Point}},methods:{getItem:function(character){return this.Characters.System$Collections$Generic$IDictionary$2$System$Char$Cyotek$Drawing$BitmapFont$Character$getItem(character).$clone()},GetKerning:function(previous,current){var key=new Cyotek.Drawing.BitmapFont.Kerning,result={};return key=new Cyotek.Drawing.BitmapFont.Kerning.$ctor1(previous,current,0),this.Kernings.System$Collections$Generic$IDictionary$2$Cyotek$Drawing$BitmapFont$Kerning$System$Int32$tryGetValue(key.$clone(),result)||(result.v=0),result.v},Load:function(stream){var buffer,header;if(stream==null)throw new System.ArgumentNullException.$ctor1("stream");if(!stream.CanSeek)throw new System.ArgumentException.$ctor3("Stream must be seekable in order to determine file format.","stream");buffer=System.Array.init(new Uint8Array(5),System.Byte);stream.Read(buffer,0,5);stream.Seek(System.Int64(0),0);header=System.Text.Encoding.UTF8.GetString$1(buffer,0,buffer.length);switch(header){case"info ":this.LoadText(stream);break;default:throw new System.Exception("Unknown file format.");}},LoadText$2:function(text){var reader=new System.IO.StringReader(text);try{this.LoadText$1(reader)}finally{Bridge.hasValue(reader)&&reader.System$IDisposable$Dispose()}},LoadText:function(stream){if(stream==null)throw new System.ArgumentNullException.$ctor1("stream");var reader=new System.IO.StreamReader.$ctor1(stream);try{this.LoadText$1(reader)}finally{Bridge.hasValue(reader)&&reader.System$IDisposable$Dispose()}},LoadText$1:function(reader){var $t,pageData,kerningDictionary,charDictionary,line,parts,id,name,charData,key;if(reader==null)throw new System.ArgumentNullException.$ctor1("reader");pageData=new(System.Collections.Generic.Dictionary$2(System.Int32,Cyotek.Drawing.BitmapFont.Page));kerningDictionary=new(System.Collections.Generic.Dictionary$2(Cyotek.Drawing.BitmapFont.Kerning,System.Int32));charDictionary=new(System.Collections.Generic.Dictionary$2(System.Char,Cyotek.Drawing.BitmapFont.Character));do if(line=reader.ReadLine(),line!=null&&(parts=Cyotek.Drawing.BitmapFont.BitmapFontLoader.Split(line,32),parts.length!==0))switch(parts[0]){case"info":this.FamilyName=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedString(parts,"face");this.FontSize=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"size");this.Bold=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedBool(parts,"bold");this.Italic=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedBool(parts,"italic");this.Charset=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedString(parts,"charset");this.Unicode=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedBool(parts,"unicode");this.StretchedHeight=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"stretchH");this.Smoothed=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedBool(parts,"smooth");this.SuperSampling=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"aa");this.Padding=Cyotek.Drawing.BitmapFont.BitmapFontLoader.ParsePadding(Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedString(parts,"padding"));this.Spacing=Cyotek.Drawing.BitmapFont.BitmapFontLoader.ParsePoint(Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedString(parts,"spacing"));this.OutlineSize=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"outline");break;case"common":this.LineHeight=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"lineHeight");this.BaseHeight=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"base");this.TextureSize=new Microsoft.Xna.Framework.Point.$ctor2(Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"scaleW"),Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"scaleH"));this.Packed=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedBool(parts,"packed");this.AlphaChannel=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"alphaChnl");this.RedChannel=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"redChnl");this.GreenChannel=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"greenChnl");this.BlueChannel=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"blueChnl");break;case"page":id=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"id");name=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedString(parts,"file");pageData.System$Collections$Generic$IDictionary$2$System$Int32$Cyotek$Drawing$BitmapFont$Page$add(id,new Cyotek.Drawing.BitmapFont.Page.$ctor1(id,name));break;case"char":charData=new Cyotek.Drawing.BitmapFont.Character;charData=($t=new Cyotek.Drawing.BitmapFont.Character,$t.Char=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"id")&65535,$t.Bounds=new Microsoft.Xna.Framework.Rectangle.$ctor2(Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"x"),Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"y"),Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"width"),Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"height")),$t.Offset=new Microsoft.Xna.Framework.Point.$ctor2(Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"xoffset"),Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"yoffset")),$t.XAdvance=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"xadvance"),$t.TexturePage=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"page"),$t.Channel=Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"chnl"),$t);charDictionary.System$Collections$Generic$IDictionary$2$System$Char$Cyotek$Drawing$BitmapFont$Character$add(charData.Char,charData.$clone());break;case"kerning":key=new Cyotek.Drawing.BitmapFont.Kerning;key=new Cyotek.Drawing.BitmapFont.Kerning.$ctor1(Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"first")&65535,Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"second")&65535,Cyotek.Drawing.BitmapFont.BitmapFontLoader.GetNamedInt(parts,"amount"));kerningDictionary.System$Collections$Generic$IDictionary$2$Cyotek$Drawing$BitmapFont$Kerning$System$Int32$containsKey(key.$clone())||kerningDictionary.System$Collections$Generic$IDictionary$2$Cyotek$Drawing$BitmapFont$Kerning$System$Int32$add(key.$clone(),key.Amount);break}while(line!=null);this.Pages=Cyotek.Drawing.BitmapFont.BitmapFontLoader.ToArray(Bridge.global.Cyotek.Drawing.BitmapFont.Page,pageData.System$Collections$Generic$IDictionary$2$System$Int32$Cyotek$Drawing$BitmapFont$Page$Values);this.Characters=charDictionary;this.Kernings=kerningDictionary},MeasureFont:function(text){return this.MeasureFont$1(text,Cyotek.Drawing.BitmapFont.BitmapFont.NoMaxWidth)},MeasureFont$1:function(text,maxWidth){var $t,result=new Microsoft.Xna.Framework.Point,previousCharacter,currentLineWidth,currentLineHeight,blockWidth,blockHeight,length,lineHeights,i,character,data,width,i1,lineHeight;if(System.String.isNullOrEmpty(text))result=Microsoft.Xna.Framework.Point.Zero.$clone();else{for(length=text.length,previousCharacter=32,currentLineWidth=0,currentLineHeight=this.LineHeight,blockWidth=0,blockHeight=0,lineHeights=new(System.Collections.Generic.List$1(System.Int32).ctor),i=0;i<length;i=i+1|0)character=text.charCodeAt(i),character===10||character===13?(character===10||(i+1|0)===length||text.charCodeAt(i+1|0)!==10)&&(lineHeights.add(currentLineHeight),blockWidth=Math.max(blockWidth,currentLineWidth),currentLineWidth=0,currentLineHeight=this.LineHeight):(data=new Cyotek.Drawing.BitmapFont.Character,data=this.getItem(character).$clone(),width=data.XAdvance+this.GetKerning(previousCharacter,character)|0,maxWidth!==Cyotek.Drawing.BitmapFont.BitmapFont.NoMaxWidth&&(currentLineWidth+width|0)>=maxWidth&&(lineHeights.add(currentLineHeight),blockWidth=Math.max(blockWidth,currentLineWidth),currentLineWidth=0,currentLineHeight=this.LineHeight),currentLineWidth=currentLineWidth+width|0,currentLineHeight=Math.max(currentLineHeight,data.Bounds.Height+data.Offset.Y|0),previousCharacter=character);for(currentLineHeight!==0&&lineHeights.add(currentLineHeight),i1=0;i1<(lineHeights.Count-1|0);i1=i1+1|0)lineHeights.setItem(i1,this.LineHeight);$t=Bridge.getEnumerator(lineHeights);try{while($t.moveNext())lineHeight=$t.Current,blockHeight=blockHeight+lineHeight|0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}result=new Microsoft.Xna.Framework.Point.$ctor2(Math.max(currentLineWidth,blockWidth),blockHeight)}return result.$clone()},GetEnumerator:function(){var $step=0,$jumpFromFinally,$returnValue,$t,pair,$async_e,$enumerator=new(Bridge.GeneratorEnumerator$1(Cyotek.Drawing.BitmapFont.Character))(Bridge.fn.bind(this,function(){try{for(;;)switch($step){case 0:$t=Bridge.getEnumerator(this.Characters,System.Collections.Generic.KeyValuePair$2(System.Char,Cyotek.Drawing.BitmapFont.Character));$step=1;continue;case 1:if($t.moveNext()){pair=$t.Current;$step=2;continue}$step=4;continue;case 2:return $enumerator.current=pair.value,$step=3,!0;case 3:$step=1;continue;case 4:default:return!1}}catch($async_e1){$async_e=System.Exception.create($async_e1);throw $async_e;}}));return $enumerator},System$Collections$IEnumerable$GetEnumerator:function(){return this.GetEnumerator()}}});Bridge.define("Myra.Graphics2D.TextureAtlases.ColoredRegion",{inherits:[Myra.Graphics2D.IRenderable],fields:{_color:null,TextureRegion:null},props:{Size:{get:function(){return new Microsoft.Xna.Framework.Point.$ctor2(this.TextureRegion.Bounds.Width,this.TextureRegion.Bounds.Height)}},Color:{get:function(){return this._color.$clone()},set:function(value){this._color=value.$clone()}}},alias:["Size","Myra$Graphics2D$IRenderable$Size","Draw","Myra$Graphics2D$IRenderable$Draw"],ctors:{init:function(){this._color=new Microsoft.Xna.Framework.Color;this._color=Microsoft.Xna.Framework.Color.White.$clone()},ctor:function(textureRegion,color){if(this.$initialize(),textureRegion==null)throw new System.ArgumentNullException.$ctor1("textureRegion");this.TextureRegion=textureRegion;this.Color=color.$clone()}},methods:{Draw:function(batch,dest,color){if(Microsoft.Xna.Framework.Color.op_Equality(color.$clone(),Microsoft.Xna.Framework.Color.White.$clone()))this.TextureRegion.Draw(batch,dest.$clone(),this.Color.$clone());else{var c=new Microsoft.Xna.Framework.Color.$ctor7(Bridge.Int.clip32(Bridge.Int.mul(this.Color.R,color.R)/255),Bridge.Int.clip32(Bridge.Int.mul(this.Color.G,color.G)/255),Bridge.Int.clip32(Bridge.Int.mul(this.Color.B,color.B)/255),Bridge.Int.clip32(Bridge.Int.mul(this.Color.A,color.A)/255));this.TextureRegion.Draw(batch,dest.$clone(),c.$clone())}}}});Bridge.define("Myra.Graphics2D.TextureAtlases.TextureRegion",{inherits:[Myra.Graphics2D.IRenderable],fields:{_texture:null,_bounds:null},props:{Texture:{get:function(){return this._texture}},Bounds:{get:function(){return this._bounds.$clone()}},Size:{get:function(){return new Microsoft.Xna.Framework.Point.$ctor2(this.Bounds.Width,this.Bounds.Height)}}},alias:["Size","Myra$Graphics2D$IRenderable$Size","Draw","Myra$Graphics2D$IRenderable$Draw"],ctors:{init:function(){this._bounds=new Microsoft.Xna.Framework.Rectangle},ctor:function(texture){Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1.call(this,texture,new Microsoft.Xna.Framework.Rectangle.$ctor2(0,0,texture.Width,texture.Height))},$ctor1:function(texture,bounds){if(this.$initialize(),texture==null)throw new System.ArgumentNullException.$ctor1("texture");this._texture=texture;this._bounds=bounds.$clone()},$ctor2:function(region,bounds){if(this.$initialize(),region==null)throw new System.ArgumentNullException.$ctor1("region");this._texture=region.Texture;bounds.Offset(region.Bounds.Location.$clone());this._bounds=bounds.$clone()}},methods:{Draw:function(batch,dest,color){batch.Draw$1(this.Texture,dest.$clone(),this.Bounds.$clone(),color.$clone())}}});Bridge.define("Myra.Graphics2D.UI.Widget",{inherits:[Myra.Graphics2D.UI.IItemWithId],statics:{fields:{DefaultStyleName:null},ctors:{init:function(){this.DefaultStyleName="default"}}},fields:{_left:0,_top:0,_width:null,_height:null,_gridPositionX:0,_gridPositionY:0,_gridSpanX:0,_gridSpanY:0,_horizontalAlignment:0,_verticalAlignment:0,_layoutState:0,_measureDirty:!1,_lastMeasureSize:null,_lastMeasureAvailableSize:null,_lastLocationHint:null,_containerBounds:null,_bounds:null,_actualBounds:null,_desktop:null,_visible:!1,_paddingLeft:0,_paddingRight:0,_paddingTop:0,_paddingBottom:0,_opacity:0,_enabled:!1,_canFocus:!1,_styleName:null,Id:null,Background:null,OverBackground:null,DisabledBackground:null,FocusedBackground:null,DisabledOverBackground:null,OverrideBackground:null,Border:null,OverBorder:null,DisabledBorder:null,FocusedBorder:null,ClipToBounds:!1,Parent:null,Tag:null,IsFocused:!1},events:{VisibleChanged:null,MeasureChanged:null,EnabledChanged:null,MouseLeft:null,MouseEntered:null,MouseMoved:null,MouseDown:null,MouseUp:null,MouseDoubleClick:null,TouchDown:null,TouchUp:null,MouseWheelChanged:null,KeyUp:null,KeyDown:null,Char:null},props:{StyleName:{get:function(){return this._styleName},set:function(value){Bridge.referenceEquals(value,this._styleName)||(this._styleName=value,this.SetStyleByName(Myra.Graphics2D.UI.Styles.Stylesheet.Current,value))}},Left:{get:function(){return this._left},set:function(value){value!==this._left&&(this._left=value,this._layoutState===Myra.Graphics2D.UI.Widget.LayoutState.Normal&&(this._layoutState=Myra.Graphics2D.UI.Widget.LayoutState.LocationInvalid))}},XHint:{get:function(){return this.Left},set:function(value){this.Left=value}},Top:{get:function(){return this._top},set:function(value){value!==this._top&&(this._top=value,this._layoutState===Myra.Graphics2D.UI.Widget.LayoutState.Normal&&(this._layoutState=Myra.Graphics2D.UI.Widget.LayoutState.LocationInvalid))}},YHint:{get:function(){return this.Top},set:function(value){this.Top=value}},Width:{get:function(){return this._width},set:function(value){System.Nullable.eq(value,this._width)||(this._width=value,this.InvalidateMeasure())}},WidthHint:{get:function(){return this.Width},set:function(value){this.Width=value}},Height:{get:function(){return this._height},set:function(value){System.Nullable.eq(value,this._height)||(this._height=value,this.InvalidateMeasure())}},HeightHint:{get:function(){return this.Height},set:function(value){this.Height=value}},PaddingLeft:{get:function(){return this._paddingLeft},set:function(value){value!==this._paddingLeft&&(this._paddingLeft=value,this.InvalidateMeasure())}},PaddingRight:{get:function(){return this._paddingRight},set:function(value){value!==this._paddingRight&&(this._paddingRight=value,this.InvalidateMeasure())}},PaddingTop:{get:function(){return this._paddingTop},set:function(value){value!==this._paddingTop&&(this._paddingTop=value,this.InvalidateMeasure())}},PaddingBottom:{get:function(){return this._paddingBottom},set:function(value){value!==this._paddingBottom&&(this._paddingBottom=value,this.InvalidateMeasure())}},HorizontalAlignment:{get:function(){return this._horizontalAlignment},set:function(value){value!==this._horizontalAlignment&&(this._horizontalAlignment=value,this.InvalidateMeasure())}},VerticalAlignment:{get:function(){return this._verticalAlignment},set:function(value){value!==this._verticalAlignment&&(this._verticalAlignment=value,this.InvalidateMeasure())}},GridPositionX:{get:function(){return this._gridPositionX},set:function(value){if(value!==this._gridPositionX){if(value<0)throw new System.ArgumentOutOfRangeException.$ctor1("value");this._gridPositionX=value;this.InvalidateMeasure()}}},GridPositionY:{get:function(){return this._gridPositionY},set:function(value){if(value!==this._gridPositionY){if(value<0)throw new System.ArgumentOutOfRangeException.$ctor1("value");this._gridPositionY=value;this.InvalidateMeasure()}}},GridSpanX:{get:function(){return this._gridSpanX},set:function(value){if(value!==this._gridSpanX){if(value<0)throw new System.ArgumentOutOfRangeException.$ctor1("value");this._gridSpanX=value;this.InvalidateMeasure()}}},GridSpanY:{get:function(){return this._gridSpanY},set:function(value){if(value!==this._gridSpanY){if(value<0)throw new System.ArgumentOutOfRangeException.$ctor1("value");this._gridSpanY=value;this.InvalidateMeasure()}}},Enabled:{get:function(){return this._enabled},set:function(value){if(value!==this._enabled){this._enabled=value;var ev=this.EnabledChanged;Bridge.staticEquals(ev,null)||ev(this,{})}}},Visible:{get:function(){return this._visible},set:function(value){if(this._visible!==value){this._visible=value;var ev=this.VisibleChanged;Bridge.staticEquals(ev,null)||ev(this,{})}}},Opacity:{get:function(){return this._opacity},set:function(value){if(value<0||value>1)throw new System.ArgumentOutOfRangeException.$ctor1("value");this._opacity=value}},WasMouseOver:{get:function(){return this.Desktop==null?!1:this.Bounds.Contains(this.Desktop.OldMousePosition.$clone())}},IsMouseOver:{get:function(){return this.Desktop==null?!1:this.Bounds.Contains(this.Desktop.MousePosition.$clone())}},MousePosition:{get:function(){return this.Desktop.MousePosition.$clone()}},Desktop:{get:function(){return this._desktop},set:function(value){this.CanFocus&&this._desktop!=null&&this._desktop.RemoveFocusableWidget(this);this._desktop=value;this.CanFocus&&this._desktop!=null&&this._desktop.AddFocusableWidget(this)}},Bounds:{get:function(){return this._bounds.$clone()}},ActualBounds:{get:function(){return this._actualBounds.$clone()}},ContainerBounds:{get:function(){return this._containerBounds.$clone()}},PaddingWidth:{get:function(){return this._paddingLeft+this._paddingRight|0}},PaddingHeight:{get:function(){return this._paddingTop+this._paddingBottom|0}},CanFocus:{get:function(){return this._canFocus},set:function(value){this._canFocus!==value&&(this._canFocus&&this.Desktop!=null&&this.Desktop.RemoveFocusableWidget(this),this._canFocus=value,this._canFocus&&this.Desktop!=null&&this.Desktop.AddFocusableWidget(this))}}},alias:["Id","Myra$Graphics2D$UI$IItemWithId$Id"],ctors:{init:function(){this._lastMeasureSize=new Microsoft.Xna.Framework.Point;this._lastMeasureAvailableSize=new Microsoft.Xna.Framework.Point;this._lastLocationHint=new Microsoft.Xna.Framework.Point;this._containerBounds=new Microsoft.Xna.Framework.Rectangle;this._bounds=new Microsoft.Xna.Framework.Rectangle;this._actualBounds=new Microsoft.Xna.Framework.Rectangle;this._gridSpanX=1;this._gridSpanY=1;this._horizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Left;this._verticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Top;this._layoutState=Myra.Graphics2D.UI.Widget.LayoutState.Invalid;this._measureDirty=!0;this._opacity=1},ctor:function(){this.$initialize();this.Visible=!0;this.Enabled=!0}},methods:{GetCurrentBackground:function(){var result=this.Background;return this.Enabled||this.DisabledBackground==null?this.Enabled&&this.IsFocused&&this.FocusedBackground!=null?result=this.FocusedBackground:this.IsMouseOver&&this.OverBackground!=null&&(this.Enabled||this.DisabledOverBackground==null?this.Enabled&&this.OverBackground!=null&&(result=this.OverBackground):result=this.DisabledOverBackground):result=this.DisabledBackground,result},GetCurrentBorder:function(){var result=this.Border;return this.Enabled||this.DisabledBorder==null?this.Enabled&&this.IsFocused&&this.FocusedBorder!=null?result=this.FocusedBorder:this.IsMouseOver&&this.OverBorder!=null&&(result=this.OverBorder):result=this.DisabledBorder,result},Render:function(context){var view,batch,oldScissorRectangle,newScissorRectangle,oldOpacity,background,oldView,border;if(this.Visible&&(this.UpdateLayout(),view=Microsoft.Xna.Framework.Rectangle.Intersect(context.View.$clone(),this.Bounds.$clone()),view.Width!==0&&view.Height!==0)){if(batch=context.Batch,oldScissorRectangle=batch.GraphicsDevice.ScissorRectangle.$clone(),this.ClipToBounds&&!Myra.MyraEnvironment.DisableClipping){if(oldScissorRectangle=batch.GraphicsDevice.ScissorRectangle.$clone(),newScissorRectangle=Microsoft.Xna.Framework.Rectangle.Intersect(oldScissorRectangle.$clone(),view.$clone()),newScissorRectangle.IsEmpty)return;context.Flush();batch.GraphicsDevice.ScissorRectangle=newScissorRectangle.$clone()}oldOpacity=context.Opacity;context.Opacity*=this.Opacity;background=this.GetCurrentBackground();background!=null&&context.Draw$1(background,this.Bounds.$clone());oldView=context.View.$clone();context.View=view.$clone();this.InternalRender(context);context.View=oldView.$clone();border=this.GetCurrentBorder();border!=null&&context.Draw$1(border,this.Bounds.$clone());Myra.MyraEnvironment.DrawWidgetsFrames&&Myra.ShapeExtensions.DrawRectangle(batch,this.Bounds.$clone(),Microsoft.Xna.Framework.Color.LightGreen.$clone());Myra.MyraEnvironment.DrawFocusedWidgetFrame&&this.IsFocused&&Myra.ShapeExtensions.DrawRectangle(batch,this.Bounds.$clone(),Microsoft.Xna.Framework.Color.Red.$clone());this.ClipToBounds&&!Myra.MyraEnvironment.DisableClipping&&(context.Flush(),batch.GraphicsDevice.ScissorRectangle=oldScissorRectangle.$clone());context.Opacity=oldOpacity}},InternalRender:function(context){},Measure:function(availableSize){if(!this._measureDirty&&Microsoft.Xna.Framework.Point.op_Equality(this._lastMeasureAvailableSize.$clone(),availableSize.$clone()))return this._lastMeasureSize.$clone();var result=new Microsoft.Xna.Framework.Point;return System.Nullable.hasValue(this.Width)&&System.Nullable.hasValue(this.Height)?result=new Microsoft.Xna.Framework.Point.$ctor2(System.Nullable.getValue(this.Width),System.Nullable.getValue(this.Height)):(result=this.InternalMeasure(availableSize.$clone()),System.Nullable.hasValue(this.Width)&&(result.X=System.Nullable.getValue(this.Width)),System.Nullable.hasValue(this.Height)&&(result.Y=System.Nullable.getValue(this.Height))),result.X=result.X+this.PaddingWidth|0,result.Y=result.Y+this.PaddingHeight|0,this._lastMeasureSize=result.$clone(),this._lastMeasureAvailableSize=availableSize.$clone(),this._measureDirty=!1,result.$clone()},InternalMeasure:function(availableSize){return Microsoft.Xna.Framework.Point.Zero.$clone()},Arrange:function(){},Layout:function(containerBounds){Microsoft.Xna.Framework.Rectangle.op_Inequality(this._containerBounds.$clone(),containerBounds.$clone())&&(this.InvalidateLayout(),this._containerBounds=containerBounds.$clone());this.UpdateLayout()},InvalidateLayout:function(){this._layoutState=Myra.Graphics2D.UI.Widget.LayoutState.Invalid},MoveChildren:function(delta){this._bounds.Location=Microsoft.Xna.Framework.Point.op_Addition(this._bounds.Location.$clone(),delta.$clone());this._actualBounds.Location=Microsoft.Xna.Framework.Point.op_Addition(this._actualBounds.Location.$clone(),delta.$clone());this._containerBounds.Location=Microsoft.Xna.Framework.Point.op_Addition(this._containerBounds.Location.$clone(),delta.$clone())},UpdateLayout:function(){var size,controlBounds;this._layoutState!==Myra.Graphics2D.UI.Widget.LayoutState.Normal&&(this._layoutState===Myra.Graphics2D.UI.Widget.LayoutState.Invalid?(size=new Microsoft.Xna.Framework.Point,size=this.HorizontalAlignment!==Myra.Graphics2D.UI.HorizontalAlignment.Stretch||this.VerticalAlignment!==Myra.Graphics2D.UI.VerticalAlignment.Stretch?this.Measure(Myra.Utility.GraphicsExtension.Size(this._containerBounds)):Myra.Utility.GraphicsExtension.Size(this._containerBounds),size.X>this._containerBounds.Width&&(size.X=this._containerBounds.Width),size.Y>this._containerBounds.Height&&(size.Y=this._containerBounds.Height),controlBounds=Myra.Graphics2D.UI.LayoutUtils.Align(Myra.Utility.GraphicsExtension.Size(this._containerBounds),size.$clone(),this.HorizontalAlignment,this.VerticalAlignment),controlBounds.Offset(this._containerBounds.Location.$clone()),controlBounds.Offset$2(this.Left,this.Top),this._bounds=controlBounds.$clone(),this._actualBounds=this.CalculateClientBounds(controlBounds.$clone()),this.Arrange()):this.MoveChildren(new Microsoft.Xna.Framework.Point.$ctor2(this.Left-this._lastLocationHint.X|0,this.Top-this._lastLocationHint.Y|0)),this._lastLocationHint=new Microsoft.Xna.Framework.Point.$ctor2(this.Left,this.Top),this._layoutState=Myra.Graphics2D.UI.Widget.LayoutState.Normal)},FindWidgetBy:function(finder){var $t,asContainer,widget,result;if(finder(this))return this;if(asContainer=Bridge.as(this,Myra.Graphics2D.UI.Container),asContainer!=null){$t=Bridge.getEnumerator(asContainer.ChildrenCopy);try{while($t.moveNext())if(widget=$t.Current,result=widget.FindWidgetBy(finder),result!=null)return result}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}return null},FindWidgetById:function(id){return this.FindWidgetBy(function(w){return Bridge.referenceEquals(w.Id,id)})},EnsureWidgetById:function(id){var result=this.FindWidgetById(id);if(result==null)throw new System.Exception(System.String.format("Could not find widget with id {0}",[id]));return result},InvalidateMeasure:function(){this._measureDirty=!0;this.InvalidateLayout();var ev=this.MeasureChanged;Bridge.staticEquals(ev,null)||ev(this,{})},ApplyWidgetStyle:function(style){this.Width=style.WidthHint;this.Height=style.HeightHint;this.Background=style.Background;this.OverBackground=style.OverBackground;this.DisabledBackground=style.DisabledBackground;this.FocusedBackground=style.FocusedBackground;this.Border=style.Border;this.OverBorder=style.OverBorder;this.DisabledBorder=style.DisabledBorder;this.FocusedBorder=style.FocusedBorder;style.PaddingLeft!=null&&(this.PaddingLeft=System.Nullable.getValue(style.PaddingLeft));style.PaddingRight!=null&&(this.PaddingRight=System.Nullable.getValue(style.PaddingRight));style.PaddingTop!=null&&(this.PaddingTop=System.Nullable.getValue(style.PaddingTop));style.PaddingBottom!=null&&(this.PaddingBottom=System.Nullable.getValue(style.PaddingBottom))},SetStyleByName:function(stylesheet,name){},GetStyleNames:function(stylesheet){return null},ApplyStylesheet:function(stylesheet){var styleName=System.String.isNullOrEmpty(this.StyleName)?Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName:this.StyleName;this.SetStyleByName(stylesheet,styleName)},OnMouseLeft:function(){var ev=this.MouseLeft;Bridge.staticEquals(ev,null)||ev(this,{})},OnMouseEntered:function(){var ev=this.MouseEntered;Bridge.staticEquals(ev,null)||ev(this,{})},OnMouseMoved:function(){var ev=this.MouseMoved;Bridge.staticEquals(ev,null)||ev(this,{})},OnMouseDown:function(mb){var ev=this.MouseDown;Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.GenericEventArgs$1(Myra.Graphics2D.UI.MouseButtons))(mb))},OnMouseDoubleClick:function(mb){var ev=this.MouseDoubleClick;Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.GenericEventArgs$1(Myra.Graphics2D.UI.MouseButtons))(mb))},OnMouseUp:function(mb){var ev=this.MouseUp;Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.GenericEventArgs$1(Myra.Graphics2D.UI.MouseButtons))(mb))},OnMouseWheel:function(delta){var ev=this.MouseWheelChanged;Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.GenericEventArgs$1(System.Single))(delta))},OnTouchDown:function(){var ev=this.TouchDown;Bridge.staticEquals(ev,null)||ev(this,{})},OnTouchUp:function(){var ev=this.TouchUp;Bridge.staticEquals(ev,null)||ev(this,{})},OnKeyDown:function(k){var ev=this.KeyDown;Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.GenericEventArgs$1(Microsoft.Xna.Framework.Input.Keys))(k))},OnKeyUp:function(k){var ev=this.KeyUp;Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.GenericEventArgs$1(Microsoft.Xna.Framework.Input.Keys))(k))},OnChar:function(c){var ev=this.Char;Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.GenericEventArgs$1(System.Char))(c))},CalculateClientBounds:function(clientBounds){return clientBounds.X=clientBounds.X+this._paddingLeft|0,clientBounds.Y=clientBounds.Y+this._paddingTop|0,clientBounds.Width=clientBounds.Width-this.PaddingWidth|0,clientBounds.Width<0&&(clientBounds.Width=0),clientBounds.Height=clientBounds.Height-this.PaddingHeight|0,clientBounds.Height<0&&(clientBounds.Height=0),clientBounds.$clone()},IterateFocusable:function(action){for(var w=this;w!=null;)w.CanFocus&&action(w),w=w.Parent},RemoveFromParent:function(){this.Parent!=null&&this.Parent.RemoveChild(this)},RemoveFromDesktop:function(){this.Desktop!=null&&this.Desktop.Widgets.remove(this)}}});Bridge.define("Myra.Graphics2D.UI.IMenuItem",{inherits:[Myra.Graphics2D.UI.IItemWithId],$kind:"interface"});Bridge.define("Myra.Graphics2D.UI.ListItem",{inherits:[Myra.Graphics2D.UI.IItemWithId],fields:{_id:null,_text:null,_color:null,IsSeparator:!1,Tag:null,Image:null,ImageTextSpacing:0,Widget:null},events:{Changed:null,Selected:null},props:{Id:{get:function(){return this._id},set:function(value){Bridge.referenceEquals(value,this._id)||(this._id=value,this.FireChanged())}},Text:{get:function(){return this._text},set:function(value){Bridge.referenceEquals(value,this._text)||(this._text=value,this.FireChanged())}},Color:{get:function(){return System.Nullable.lift1("$clone",this._color)},set:function(value){System.Nullable.lifteq(Microsoft.Xna.Framework.Color.op_Equality,System.Nullable.lift1("$clone",value),System.Nullable.lift1("$clone",this._color))||(this._color=System.Nullable.lift1("$clone",value),this.FireChanged())}}},alias:["Id","Myra$Graphics2D$UI$IItemWithId$Id"],ctors:{ctor:function(){this.$initialize()},$ctor3:function(text,color,tag){this.$initialize();this.Text=text;this.Color=System.Nullable.lift1("$clone",color);this.Tag=tag},$ctor2:function(text,color){Myra.Graphics2D.UI.ListItem.$ctor3.call(this,text,color,null)},$ctor1:function(text){Myra.Graphics2D.UI.ListItem.$ctor2.call(this,text,null)}},methods:{toString:function(){var sb=new System.Text.StringBuilder;return System.String.isNullOrEmpty(this.Text)||(sb.append(this.Text),sb.append(" ")),System.String.isNullOrEmpty(this.Id)||(sb.append("(#"),sb.append(this.Id),sb.append(")")),sb.toString()},FireChanged:function(){var ev=this.Changed;Bridge.staticEquals(ev,null)||ev(this,{})},FireSelected:function(){var ev=this.Selected;Bridge.staticEquals(ev,null)||ev(this,{})}}});Bridge.define("Myra.Graphics2D.UI.Styles.ButtonBaseStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{PressedBackground:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this)},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.PressedBackground=style.PressedBackground}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.ButtonBaseStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.WindowStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{TitleStyle:null,CloseButtonStyle:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this);this.TitleStyle=new Myra.Graphics2D.UI.Styles.TextBlockStyle.ctor;this.CloseButtonStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.ctor},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.TitleStyle=new Myra.Graphics2D.UI.Styles.TextBlockStyle.$ctor1(style.TitleStyle);this.CloseButtonStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.$ctor1(style.CloseButtonStyle)}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.WindowStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.ImageStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{Image:null,OverImage:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this)},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.Image=style.Image;this.OverImage=style.OverImage}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.ImageStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.ListBoxStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{ListItemStyle:null,SeparatorStyle:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this);this.ListItemStyle=new Myra.Graphics2D.UI.Styles.ButtonStyle.ctor;this.SeparatorStyle=new Myra.Graphics2D.UI.Styles.SeparatorStyle.ctor},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.ListItemStyle=new Myra.Graphics2D.UI.Styles.ButtonStyle.$ctor1(style.ListItemStyle);this.SeparatorStyle=new Myra.Graphics2D.UI.Styles.SeparatorStyle.$ctor1(style.SeparatorStyle)}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.ListBoxStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.MenuStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{MenuItemStyle:null,SeparatorStyle:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this);this.MenuItemStyle=new Myra.Graphics2D.UI.Styles.MenuItemStyle.ctor;this.SeparatorStyle=new Myra.Graphics2D.UI.Styles.SeparatorStyle.ctor},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.MenuItemStyle=new Myra.Graphics2D.UI.Styles.MenuItemStyle.$ctor1(style.MenuItemStyle);this.SeparatorStyle=new Myra.Graphics2D.UI.Styles.SeparatorStyle.$ctor1(style.SeparatorStyle)}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.MenuStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.ProgressBarStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{Filled:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this)},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.Filled=style.Filled}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.ProgressBarStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.ScrollPaneStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{HorizontalScrollBackground:null,HorizontalScrollKnob:null,VerticalScrollBackground:null,VerticalScrollKnob:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this)},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.HorizontalScrollBackground=style.HorizontalScrollBackground;this.HorizontalScrollKnob=style.HorizontalScrollKnob;this.VerticalScrollBackground=style.VerticalScrollBackground;this.VerticalScrollKnob=style.VerticalScrollKnob}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.ScrollPaneStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.SeparatorStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{Image:null,Thickness:0},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this)},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.Image=style.Image;this.Thickness=style.Thickness}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.SeparatorStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.SliderStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{KnobStyle:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this);this.KnobStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.ctor},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.KnobStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.$ctor1(style.KnobStyle)}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.SliderStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.SpinButtonStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{UpButtonStyle:null,DownButtonStyle:null,TextFieldStyle:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this);this.UpButtonStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.ctor;this.DownButtonStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.ctor;this.TextFieldStyle=new Myra.Graphics2D.UI.Styles.TextFieldStyle.ctor},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.UpButtonStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.$ctor1(style.UpButtonStyle);this.DownButtonStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.$ctor1(style.DownButtonStyle);this.TextFieldStyle=new Myra.Graphics2D.UI.Styles.TextFieldStyle.$ctor1(style.TextFieldStyle)}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.SpinButtonStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.SplitPaneStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{HandleStyle:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this);this.HandleStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.ctor},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.HandleStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.$ctor1(style.HandleStyle)}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.SplitPaneStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.StyleNamesProvider",{inherits:[Myra.Attributes.IItemsProvider],fields:{Items:null},alias:["Items","Myra$Attributes$IItemsProvider$Items"],ctors:{ctor:function(widget){if(this.$initialize(),widget==null)throw new System.ArgumentNullException.$ctor1("widget");var styleNames=widget.GetStyleNames(Myra.Graphics2D.UI.Styles.Stylesheet.Current);styleNames==null&&(styleNames=System.Array.init([Myra.Graphics2D.UI.Styles.Stylesheet.DefaultStyleName],System.String));this.Items=System.Linq.Enumerable.from(styleNames).select(function(s){return s}).ToArray(System.Object)}}});Bridge.define("Myra.Graphics2D.UI.Styles.TextBlockStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{TextColor:null,DisabledTextColor:null,OverTextColor:null,PressedTextColor:null,Font:null},ctors:{init:function(){this.TextColor=new Microsoft.Xna.Framework.Color},ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this)},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.TextColor=style.TextColor.$clone();this.DisabledTextColor=System.Nullable.lift1("$clone",style.DisabledTextColor);this.OverTextColor=System.Nullable.lift1("$clone",style.OverTextColor);this.PressedTextColor=System.Nullable.lift1("$clone",style.PressedTextColor);this.Font=style.Font}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.TextBlockStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.TextFieldStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{TextColor:null,DisabledTextColor:null,FocusedTextColor:null,Font:null,MessageFont:null,Cursor:null,Selection:null},ctors:{init:function(){this.TextColor=new Microsoft.Xna.Framework.Color},ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this)},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.TextColor=style.TextColor.$clone();this.DisabledTextColor=System.Nullable.lift1("$clone",style.DisabledTextColor);this.FocusedTextColor=System.Nullable.lift1("$clone",style.FocusedTextColor);this.Font=style.Font;this.MessageFont=style.MessageFont;this.Cursor=style.Cursor;this.Selection=style.Selection}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.TextFieldStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.TreeStyle",{inherits:[Myra.Graphics2D.UI.Styles.WidgetStyle],fields:{MarkStyle:null,LabelStyle:null,SelectionBackground:null,SelectionHoverBackground:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.ctor.call(this);this.MarkStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.ctor;this.LabelStyle=new Myra.Graphics2D.UI.Styles.TextBlockStyle.ctor},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1.call(this,style);this.MarkStyle=new Myra.Graphics2D.UI.Styles.ImageButtonStyle.$ctor1(style.MarkStyle);this.LabelStyle=new Myra.Graphics2D.UI.Styles.TextBlockStyle.$ctor1(style.LabelStyle);this.SelectionBackground=style.SelectionBackground;this.SelectionHoverBackground=style.SelectionHoverBackground}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.TreeStyle.$ctor1(this)}}});Bridge.define("System.Collections.ObjectModel.ObservableCollection$1",function(T){return{inherits:[System.Collections.ObjectModel.Collection$1(T),System.Collections.Specialized.INotifyCollectionChanged,System.ComponentModel.INotifyPropertyChanged],statics:{methods:{CreateCopy:function(collection,paramName){if(collection==null)throw new System.ArgumentNullException.$ctor1(paramName);return new(System.Collections.Generic.List$1(T).$ctor1)(collection)}}},fields:{_monitor:null,_blockReentrancyCount:0},events:{CollectionChanged:null,PropertyChanged:null},alias:["addCollectionChanged","System$Collections$Specialized$INotifyCollectionChanged$addCollectionChanged","removeCollectionChanged","System$Collections$Specialized$INotifyCollectionChanged$removeCollectionChanged"],ctors:{ctor:function(){this.$initialize();System.Collections.ObjectModel.Collection$1(T).ctor.call(this)},$ctor1:function(collection){this.$initialize();System.Collections.ObjectModel.Collection$1(T).$ctor1.call(this,System.Collections.ObjectModel.ObservableCollection$1(T).CreateCopy(collection,"collection"))},$ctor2:function(list){this.$initialize();System.Collections.ObjectModel.Collection$1(T).$ctor1.call(this,System.Collections.ObjectModel.ObservableCollection$1(T).CreateCopy(list,"list"))}},methods:{System$ComponentModel$INotifyPropertyChanged$addPropertyChanged:function(value){this.addPropertyChanged(value)},System$ComponentModel$INotifyPropertyChanged$removePropertyChanged:function(value){this.removePropertyChanged(value)},Move:function(oldIndex,newIndex){this.MoveItem(oldIndex,newIndex)},ClearItems:function(){this.CheckReentrancy();System.Collections.ObjectModel.Collection$1(T).prototype.ClearItems.call(this);this.OnCountPropertyChanged();this.OnIndexerPropertyChanged();this.OnCollectionReset()},RemoveItem:function(index){this.CheckReentrancy();var removedItem=this.getItem(index);System.Collections.ObjectModel.Collection$1(T).prototype.RemoveItem.call(this,index);this.OnCountPropertyChanged();this.OnIndexerPropertyChanged();this.OnCollectionChanged$1(System.Collections.Specialized.NotifyCollectionChangedAction.Remove,removedItem,index)},InsertItem:function(index,item){this.CheckReentrancy();System.Collections.ObjectModel.Collection$1(T).prototype.InsertItem.call(this,index,item);this.OnCountPropertyChanged();this.OnIndexerPropertyChanged();this.OnCollectionChanged$1(System.Collections.Specialized.NotifyCollectionChangedAction.Add,item,index)},SetItem:function(index,item){this.CheckReentrancy();var originalItem=this.getItem(index);System.Collections.ObjectModel.Collection$1(T).prototype.SetItem.call(this,index,item);this.OnIndexerPropertyChanged();this.OnCollectionChanged$3(System.Collections.Specialized.NotifyCollectionChangedAction.Replace,originalItem,item,index)},MoveItem:function(oldIndex,newIndex){this.CheckReentrancy();var removedItem=this.getItem(oldIndex);System.Collections.ObjectModel.Collection$1(T).prototype.RemoveItem.call(this,oldIndex);System.Collections.ObjectModel.Collection$1(T).prototype.InsertItem.call(this,newIndex,removedItem);this.OnIndexerPropertyChanged();this.OnCollectionChanged$2(System.Collections.Specialized.NotifyCollectionChangedAction.Move,removedItem,newIndex,oldIndex)},OnPropertyChanged:function(e){Bridge.staticEquals(this.PropertyChanged,null)?null:this.PropertyChanged(this,e)},OnCollectionChanged:function(e){var handler=this.CollectionChanged;if(!Bridge.staticEquals(handler,null)){this._blockReentrancyCount=this._blockReentrancyCount+1|0;try{handler(this,e)}finally{this._blockReentrancyCount=this._blockReentrancyCount-1|0}}},OnCollectionChanged$1:function(action,item,index){this.OnCollectionChanged(new System.Collections.Specialized.NotifyCollectionChangedEventArgs.$ctor8(action,item,index))},OnCollectionChanged$2:function(action,item,index,oldIndex){this.OnCollectionChanged(new System.Collections.Specialized.NotifyCollectionChangedEventArgs.$ctor9(action,item,index,oldIndex))},OnCollectionChanged$3:function(action,oldItem,newItem,index){this.OnCollectionChanged(new System.Collections.Specialized.NotifyCollectionChangedEventArgs.$ctor11(action,newItem,oldItem,index))},BlockReentrancy:function(){return this._blockReentrancyCount=this._blockReentrancyCount+1|0,this.EnsureMonitorInitialized()},CheckReentrancy:function(){this._blockReentrancyCount>0},OnCountPropertyChanged:function(){this.OnPropertyChanged(System.Collections.ObjectModel.EventArgsCache.CountPropertyChanged)},OnIndexerPropertyChanged:function(){this.OnPropertyChanged(System.Collections.ObjectModel.EventArgsCache.IndexerPropertyChanged)},OnCollectionReset:function(){this.OnCollectionChanged(System.Collections.ObjectModel.EventArgsCache.ResetCollectionChanged)},EnsureMonitorInitialized:function(){return this._monitor||(this._monitor=new(System.Collections.ObjectModel.ObservableCollection$1.SimpleMonitor(T))(this))},OnSerializing:function(context){this.EnsureMonitorInitialized();this._monitor._busyCount=this._blockReentrancyCount},OnDeserialized:function(context){this._monitor!=null&&(this._blockReentrancyCount=this._monitor._busyCount,this._monitor._collection=this)}}}});Bridge.define("Myra.Graphics2D.TextureAtlases.NinePatchRegion",{inherits:[Myra.Graphics2D.TextureAtlases.TextureRegion],fields:{_info:null,_topLeft:null,_topCenter:null,_topRight:null,_centerLeft:null,_center:null,_centerRight:null,_bottomLeft:null,_bottomCenter:null,_bottomRight:null},props:{Info:{get:function(){return this._info.$clone()}}},alias:["Draw","Myra$Graphics2D$IRenderable$Draw"],ctors:{init:function(){this._info=new Myra.Graphics2D.PaddingInfo},ctor:function(texture,bounds,info){this.$initialize();Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1.call(this,texture,bounds);this._info=info.$clone();var centerWidth=(bounds.Width-info.Left|0)-info.Right|0,centerHeight=(bounds.Height-info.Top|0)-info.Bottom|0,y=bounds.Y;info.Top>0&&(info.Left>0&&(this._topLeft=new Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1(texture,new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.X,y,info.Left,info.Top))),centerWidth>0&&(this._topCenter=new Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1(texture,new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.X+info.Left|0,y,centerWidth,info.Top))),info.Right>0&&(this._topRight=new Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1(texture,new Microsoft.Xna.Framework.Rectangle.$ctor2((bounds.X+info.Left|0)+centerWidth|0,y,info.Right,info.Top))));y=y+info.Top|0;centerHeight>0&&(info.Left>0&&(this._centerLeft=new Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1(texture,new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.X,y,info.Left,centerHeight))),centerWidth>0&&(this._center=new Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1(texture,new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.X+info.Left|0,y,centerWidth,centerHeight))),info.Right>0&&(this._centerRight=new Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1(texture,new Microsoft.Xna.Framework.Rectangle.$ctor2((bounds.X+info.Left|0)+centerWidth|0,y,info.Right,centerHeight))));y=y+centerHeight|0;info.Bottom>0&&(info.Left>0&&(this._bottomLeft=new Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1(texture,new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.X,y,info.Left,info.Bottom))),centerWidth>0&&(this._bottomCenter=new Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1(texture,new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.X+info.Left|0,y,centerWidth,info.Bottom))),info.Right>0&&(this._bottomRight=new Myra.Graphics2D.TextureAtlases.TextureRegion.$ctor1(texture,new Microsoft.Xna.Framework.Rectangle.$ctor2((bounds.X+info.Left|0)+centerWidth|0,y,info.Right,info.Bottom))))}},methods:{Draw:function(batch,dest,color){var y=dest.Y,centerWidth=(dest.Width-this._info.$clone().Left|0)-this._info.$clone().Right|0,centerHeight=(dest.Height-this._info.$clone().Top|0)-this._info.$clone().Bottom|0;this._topLeft!=null&&this._topLeft.Draw(batch,new Microsoft.Xna.Framework.Rectangle.$ctor2(dest.X,y,this._info.$clone().Left,this._info.$clone().Top),color.$clone());this._topCenter!=null&&this._topCenter.Draw(batch,new Microsoft.Xna.Framework.Rectangle.$ctor2(dest.X+this._info.$clone().Left|0,y,centerWidth,this._info.$clone().Top),color.$clone());this._topRight!=null&&this._topRight.Draw(batch,new Microsoft.Xna.Framework.Rectangle.$ctor2((dest.X+this.Info.Left|0)+centerWidth|0,y,this._info.$clone().Right,this._info.$clone().Top),color.$clone());y=y+this._info.$clone().Top|0;this._centerLeft!=null&&this._centerLeft.Draw(batch,new Microsoft.Xna.Framework.Rectangle.$ctor2(dest.X,y,this._info.$clone().Left,centerHeight),color.$clone());this._center!=null&&this._center.Draw(batch,new Microsoft.Xna.Framework.Rectangle.$ctor2(dest.X+this._info.$clone().Left|0,y,centerWidth,centerHeight),color.$clone());this._centerRight!=null&&this._centerRight.Draw(batch,new Microsoft.Xna.Framework.Rectangle.$ctor2((dest.X+this.Info.Left|0)+centerWidth|0,y,this._info.$clone().Right,centerHeight),color.$clone());y=y+centerHeight|0;this._bottomLeft!=null&&this._bottomLeft.Draw(batch,new Microsoft.Xna.Framework.Rectangle.$ctor2(dest.X,y,this._info.$clone().Left,this._info.$clone().Bottom),color.$clone());this._bottomCenter!=null&&this._bottomCenter.Draw(batch,new Microsoft.Xna.Framework.Rectangle.$ctor2(dest.X+this._info.$clone().Left|0,y,centerWidth,this._info.$clone().Bottom),color.$clone());this._bottomRight!=null&&this._bottomRight.Draw(batch,new Microsoft.Xna.Framework.Rectangle.$ctor2((dest.X+this.Info.Left|0)+centerWidth|0,y,this._info.$clone().Right,this._info.$clone().Bottom),color.$clone())}}});Bridge.define("Myra.Graphics2D.UI.Container",{inherits:[Myra.Graphics2D.UI.Widget],fields:{_childrenDirty:!1,_childrenCopy:null,_reverseChildrenCopy:null},props:{ChildrenCopy:{get:function(){return this.UpdateWidgets(),this._childrenCopy}},ReverseChildrenCopy:{get:function(){return this.UpdateWidgets(),this._reverseChildrenCopy}},Enabled:{get:function(){return Bridge.ensureBaseProperty(this,"Enabled").$Myra$Graphics2D$UI$Widget$Enabled},set:function(value){var $t,item;if(Bridge.ensureBaseProperty(this,"Enabled").$Myra$Graphics2D$UI$Widget$Enabled!==value){Bridge.ensureBaseProperty(this,"Enabled").$Myra$Graphics2D$UI$Widget$Enabled=value;$t=Bridge.getEnumerator(this.Children,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())item=$t.Current,item.Enabled=value}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}}},Desktop:{get:function(){return Bridge.ensureBaseProperty(this,"Desktop").$Myra$Graphics2D$UI$Widget$Desktop},set:function(value){var $t,child;Bridge.ensureBaseProperty(this,"Desktop").$Myra$Graphics2D$UI$Widget$Desktop=value;$t=Bridge.getEnumerator(this.Children,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())child=$t.Current,child.Desktop=this.Desktop}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}}},ctors:{init:function(){this._childrenDirty=!0;this._childrenCopy=new(System.Collections.Generic.List$1(Myra.Graphics2D.UI.Widget).ctor);this._reverseChildrenCopy=new(System.Collections.Generic.List$1(Myra.Graphics2D.UI.Widget).ctor)}},methods:{UpdateWidgets:function(){this._childrenDirty&&(this._childrenCopy.clear(),this._childrenCopy.AddRange(this.Children),this._reverseChildrenCopy.clear(),this._reverseChildrenCopy.AddRange(this.Children),this._reverseChildrenCopy.Reverse(),this._childrenDirty=!1)},InvalidateChildren:function(){this._childrenDirty=!0},OnMouseEntered:function(){Myra.Graphics2D.UI.Widget.prototype.OnMouseEntered.call(this);Myra.Graphics2D.UI.InputUtils.HandleMouseMovement(this.Children)},OnMouseLeft:function(){var $t,w;Myra.Graphics2D.UI.Widget.prototype.OnMouseLeft.call(this);$t=Bridge.getEnumerator(this.Children,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())(w=$t.Current,w.Visible)&&w.WasMouseOver&&w.OnMouseLeft()}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},OnMouseMoved:function(){Myra.Graphics2D.UI.Widget.prototype.OnMouseMoved.call(this);Myra.Graphics2D.UI.InputUtils.HandleMouseMovement(this.ReverseChildrenCopy)},OnMouseDown:function(mb){Myra.Graphics2D.UI.Widget.prototype.OnMouseDown.call(this,mb);Myra.Graphics2D.UI.InputUtils.HandleMouseDown(this.ReverseChildrenCopy,mb)},OnMouseUp:function(mb){Myra.Graphics2D.UI.Widget.prototype.OnMouseUp.call(this,mb);Myra.Graphics2D.UI.InputUtils.HandleMouseUp(this.ReverseChildrenCopy,mb)},OnMouseDoubleClick:function(mb){Myra.Graphics2D.UI.Widget.prototype.OnMouseDoubleClick.call(this,mb);Myra.Graphics2D.UI.InputUtils.HandleMouseDoubleClick(this.ReverseChildrenCopy,mb)},OnTouchDown:function(){Myra.Graphics2D.UI.Widget.prototype.OnTouchDown.call(this);Myra.Graphics2D.UI.InputUtils.HandleTouchDown(this.ReverseChildrenCopy)},OnTouchUp:function(){Myra.Graphics2D.UI.Widget.prototype.OnTouchUp.call(this);Myra.Graphics2D.UI.InputUtils.HandleTouchUp(this.ReverseChildrenCopy)},MoveChildren:function(delta){var $t,child;Myra.Graphics2D.UI.Widget.prototype.MoveChildren.call(this,delta.$clone());$t=Bridge.getEnumerator(this.Children,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())(child=$t.Current,child.Visible)&&child.MoveChildren(delta.$clone())}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},InternalRender:function(batch){var $t,child;$t=Bridge.getEnumerator(this.Children,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())(child=$t.Current,child.Visible)&&child.Render(batch)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},CalculateTotalChildCount:function(visibleOnly){var $t,result=this.ChildrenCopy.Count,child,asCont;$t=Bridge.getEnumerator(this.Children,Myra.Graphics2D.UI.Widget);try{while($t.moveNext())(child=$t.Current,!visibleOnly||child.Visible)&&(asCont=Bridge.as(child,Myra.Graphics2D.UI.Container),asCont!=null&&(result=result+asCont.CalculateTotalChildCount(visibleOnly)|0))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return result}}});Bridge.define("Myra.Graphics2D.UI.MenuItem",{inherits:[Myra.Graphics2D.UI.ListItem,Myra.Graphics2D.UI.IMenuItemsContainer,Myra.Graphics2D.UI.IMenuItem],fields:{_items:null,Menu:null},props:{Items:{get:function(){return this._items}},Enabled:{get:function(){return this.Widget!=null&&this.Widget.Enabled},set:function(value){this.Widget.Enabled=value}},UnderscoreChar:{get:function(){var button=Bridge.cast(this.Widget,Myra.Graphics2D.UI.MenuItemButton);return button.UnderscoreChar}}},alias:["Menu","Myra$Graphics2D$UI$IMenuItem$Menu","Items","Myra$Graphics2D$UI$IMenuItemsContainer$Items","UnderscoreChar","Myra$Graphics2D$UI$IMenuItem$UnderscoreChar","Widget","Myra$Graphics2D$UI$IMenuItem$Widget"],ctors:{init:function(){this._items=new(System.Collections.ObjectModel.ObservableCollection$1(Myra.Graphics2D.UI.IMenuItem).ctor)},$ctor4:function(id,text,color,tag){this.$initialize();Myra.Graphics2D.UI.ListItem.$ctor3.call(this,text,color,tag);this.Id=id},$ctor3:function(id,text,color){Myra.Graphics2D.UI.MenuItem.$ctor4.call(this,id,text,color,null)},$ctor2:function(id,text){Myra.Graphics2D.UI.MenuItem.$ctor3.call(this,id,text,null)},$ctor1:function(id){Myra.Graphics2D.UI.MenuItem.$ctor2.call(this,id,"")},ctor:function(){Myra.Graphics2D.UI.MenuItem.$ctor1.call(this,"")}},methods:{FindMenuItemById:function(id){var $t,item,asMenuItem,result;if(Bridge.referenceEquals(this.Id,id))return this;$t=Bridge.getEnumerator(this._items);try{while($t.moveNext())if((item=$t.Current,asMenuItem=Bridge.as(item,Myra.Graphics2D.UI.MenuItem),asMenuItem!=null)&&(result=asMenuItem.FindMenuItemById(id),result!=null))return result}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return null}}});Bridge.define("Myra.Graphics2D.UI.MenuSeparator",{inherits:[Myra.Graphics2D.UI.IMenuItem],fields:{Id:null,Menu:null,Widget:null},props:{UnderscoreChar:{get:function(){return null}}},alias:["Id","Myra$Graphics2D$UI$IItemWithId$Id","Menu","Myra$Graphics2D$UI$IMenuItem$Menu","Widget","Myra$Graphics2D$UI$IMenuItem$Widget","UnderscoreChar","Myra$Graphics2D$UI$IMenuItem$UnderscoreChar"]});Bridge.define("Myra.Graphics2D.UI.Styles.ButtonStyle",{inherits:[Myra.Graphics2D.UI.Styles.ButtonBaseStyle],fields:{LabelStyle:null,ImageStyle:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.ButtonBaseStyle.ctor.call(this);this.LabelStyle=new Myra.Graphics2D.UI.Styles.TextBlockStyle.ctor;this.ImageStyle=new Myra.Graphics2D.UI.Styles.PressableImageStyle.ctor},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.ButtonBaseStyle.$ctor1.call(this,style);this.LabelStyle=new Myra.Graphics2D.UI.Styles.TextBlockStyle.$ctor1(style.LabelStyle);this.ImageStyle=new Myra.Graphics2D.UI.Styles.PressableImageStyle.$ctor1(style.ImageStyle)}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.ButtonStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.DialogStyle",{inherits:[Myra.Graphics2D.UI.Styles.WindowStyle],ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.WindowStyle.ctor.call(this)},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.WindowStyle.$ctor1.call(this,style)}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.DialogStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.ImageButtonStyle",{inherits:[Myra.Graphics2D.UI.Styles.ButtonBaseStyle],fields:{ImageStyle:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.ButtonBaseStyle.ctor.call(this);this.ImageStyle=new Myra.Graphics2D.UI.Styles.PressableImageStyle.ctor},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.ButtonBaseStyle.$ctor1.call(this,style);this.ImageStyle=new Myra.Graphics2D.UI.Styles.PressableImageStyle.$ctor1(style.ImageStyle)}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.ImageButtonStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.PressableImageStyle",{inherits:[Myra.Graphics2D.UI.Styles.ImageStyle],fields:{PressedImage:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.ImageStyle.ctor.call(this)},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.ImageStyle.$ctor1.call(this,style);this.PressedImage=style.PressedImage}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.PressableImageStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.TextButtonStyle",{inherits:[Myra.Graphics2D.UI.Styles.ButtonBaseStyle],fields:{LabelStyle:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.ButtonBaseStyle.ctor.call(this);this.LabelStyle=new Myra.Graphics2D.UI.Styles.TextBlockStyle.ctor},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.ButtonBaseStyle.$ctor1.call(this,style);this.LabelStyle=new Myra.Graphics2D.UI.Styles.TextBlockStyle.$ctor1(style.LabelStyle)}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.TextButtonStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.TextBlock",{inherits:[Myra.Graphics2D.UI.Widget],fields:{_formattedText:null,_wrap:!1,TextColor:null,DisabledTextColor:null,OverTextColor:null,PressedTextColor:null,IsPressed:!1},props:{VerticalSpacing:{get:function(){return this._formattedText.VerticalSpacing},set:function(value){this._formattedText.VerticalSpacing=value;this.InvalidateMeasure()}},Text:{get:function(){return this._formattedText.Text},set:function(value){this._formattedText.Text=value;this.InvalidateMeasure()}},Font:{get:function(){return this._formattedText.Font},set:function(value){this._formattedText.Font=value;this.InvalidateMeasure()}},Wrap:{get:function(){return this._wrap},set:function(value){value!==this._wrap&&(this._wrap=value,this.InvalidateMeasure())}},IsMenuText:{get:function(){return this._formattedText.IsMenuText},set:function(value){this._formattedText.IsMenuText=value}},UnderscoreChar:{get:function(){return this._formattedText.UnderscoreChar}}},ctors:{init:function(){this.TextColor=new Microsoft.Xna.Framework.Color;this._formattedText=new Myra.Graphics2D.Text.FormattedText;this._wrap=!1},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Widget.ctor.call(this);style!=null&&this.ApplyTextBlockStyle(style)},$ctor2:function(style){Myra.Graphics2D.UI.TextBlock.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.TextBlockStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.TextBlock.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.TextBlockStyle)}},methods:{InternalRender:function(context){if(this._formattedText.Font!=null){var bounds=this.ActualBounds.$clone(),color=this.TextColor.$clone();!this.Enabled&&System.Nullable.liftne(Microsoft.Xna.Framework.Color.op_Inequality,System.Nullable.lift1("$clone",this.DisabledTextColor),null)?color=System.Nullable.getValue(this.DisabledTextColor).$clone():this.IsPressed&&System.Nullable.liftne(Microsoft.Xna.Framework.Color.op_Inequality,System.Nullable.lift1("$clone",this.PressedTextColor),null)?color=System.Nullable.getValue(this.PressedTextColor).$clone():this.IsMouseOver&&System.Nullable.liftne(Microsoft.Xna.Framework.Color.op_Inequality,System.Nullable.lift1("$clone",this.OverTextColor),null)&&(color=System.Nullable.getValue(this.OverTextColor).$clone());this._formattedText.Draw$1(context.Batch,bounds.$clone(),color.$clone(),context.Opacity)}},InternalMeasure:function(availableSize){var width,result,formattedText;return this.Font==null?Microsoft.Xna.Framework.Point.Zero.$clone():(width=availableSize.X,this.Width!=null&&System.Nullable.getValue(this.Width)<width&&(width=System.Nullable.getValue(this.Width)),result=Microsoft.Xna.Framework.Point.Zero.$clone(),this.Font!=null&&(formattedText=this._formattedText.Clone(),formattedText.Width=this._wrap?width:null,result=formattedText.Size.$clone()),result.Y<this.Font.LineSpacing&&(result.Y=this.Font.LineSpacing),result.$clone())},Arrange:function(){Myra.Graphics2D.UI.Widget.prototype.Arrange.call(this);this._formattedText.Width=this._wrap?this.Bounds.Width:null},ApplyTextBlockStyle:function(style){this.ApplyWidgetStyle(style);this.TextColor=style.TextColor.$clone();this.DisabledTextColor=System.Nullable.lift1("$clone",style.DisabledTextColor);this.OverTextColor=System.Nullable.lift1("$clone",style.OverTextColor);this.PressedTextColor=System.Nullable.lift1("$clone",style.PressedTextColor);this.Font=style.Font},SetStyleByName:function(stylesheet,name){this.ApplyTextBlockStyle(stylesheet.TextBlockStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.TextBlockStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.TextField",{inherits:[Myra.Graphics2D.UI.Widget],fields:{_lastBlinkStamp:null,_cursorOn:!1,_formattedText:null,_cursorIndex:0,_wrap:!1,MessageFont:null,TextColor:null,DisabledTextColor:null,FocusedTextColor:null,MessageTextColor:null,Cursor:null,Selection:null,BlinkIntervalInMs:0,Multiline:!1,Readonly:!1,TextVerticalAlignment:0,InputFilter:null},events:{TextChanged:null,TextChangedByUser:null},props:{VerticalSpacing:{get:function(){return this._formattedText.VerticalSpacing},set:function(value){this._formattedText.VerticalSpacing=value;this.InvalidateMeasure()}},Text:{get:function(){return this._formattedText.Text},set:function(value){this.SetText(value,!1)}},Font:{get:function(){return this._formattedText.Font},set:function(value){this._formattedText.Font=value;this.InvalidateMeasure()}},Wrap:{get:function(){return this._wrap},set:function(value){value!==this._wrap&&(this._wrap=value,this.InvalidateMeasure())}},AcceptsInput:{get:function(){return this.Enabled&&!this.Readonly}},IsFocused:{get:function(){return Bridge.ensureBaseProperty(this,"IsFocused").$Myra$Graphics2D$UI$Widget$IsFocused},set:function(value){Bridge.ensureBaseProperty(this,"IsFocused").$Myra$Graphics2D$UI$Widget$IsFocused=value;Bridge.ensureBaseProperty(this,"IsFocused").$Myra$Graphics2D$UI$Widget$IsFocused&&(this._cursorIndex=System.String.isNullOrEmpty(this.Text)?0:this.Text.length)}},ClipToBounds:{get:function(){return Bridge.ensureBaseProperty(this,"ClipToBounds").$Myra$Graphics2D$UI$Widget$ClipToBounds},set:function(value){Bridge.ensureBaseProperty(this,"ClipToBounds").$Myra$Graphics2D$UI$Widget$ClipToBounds=value}},CanFocus:{get:function(){return Bridge.ensureBaseProperty(this,"CanFocus").$Myra$Graphics2D$UI$Widget$CanFocus},set:function(value){Bridge.ensureBaseProperty(this,"CanFocus").$Myra$Graphics2D$UI$Widget$CanFocus=value}},HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}}},ctors:{init:function(){this._lastBlinkStamp=System.DateTime.getDefaultValue();this.TextColor=new Microsoft.Xna.Framework.Color;this._lastBlinkStamp=System.DateTime.getNow();this._cursorOn=!0;this._formattedText=new Myra.Graphics2D.Text.FormattedText;this._wrap=!1},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Widget.ctor.call(this);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Top;this.CanFocus=!0;this.ClipToBounds=!0;this._formattedText.IsColored=!1;style!=null&&this.ApplyTextFieldStyle(style);this.BlinkIntervalInMs=450},$ctor2:function(style){Myra.Graphics2D.UI.TextField.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.TextFieldStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.TextField.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.TextFieldStyle)}},methods:{SetText:function(value,byUser){var f,oldValue,ev;return Bridge.referenceEquals(value,this._formattedText.Text)?!1:(f=this.InputFilter,!Bridge.staticEquals(f,null)&&(value=f(value),value==null))?!1:(oldValue=this._formattedText.Text,this._formattedText.Text=value,this.InvalidateMeasure(),ev=this.TextChanged,Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.ValueChangedEventArgs$1(System.String))(oldValue,value)),byUser&&(ev=this.TextChangedByUser,Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.ValueChangedEventArgs$1(System.String))(oldValue,value))),!0)},ProcessChar:function(ch){var $t,sb,text,nextText;this.AcceptsInput&&(this.EnsureIndexInRange(),sb=new System.Text.StringBuilder,text=($t=this.Text,$t!=null?$t:""),sb.append(text.substr(0,this._cursorIndex)),sb.append(String.fromCharCode(ch)),sb.append(text.substr(this._cursorIndex)),nextText=sb.toString(),this.SetText(nextText,!0)&&(this._cursorIndex=this._cursorIndex+1|0))},OnKeyDown:function(k){var sb,sb1,sb2;if(Myra.Graphics2D.UI.Widget.prototype.OnKeyDown.call(this,k),this.AcceptsInput)switch(k){case Microsoft.Xna.Framework.Input.Keys.Back:this.EnsureIndexInRange();sb=new System.Text.StringBuilder;this._cursorIndex>0&&sb.append(this.Text.substr(0,this._cursorIndex-1|0));sb.append(this.Text.substr(this._cursorIndex));this.SetText(sb.toString(),!0)&&this._cursorIndex>0&&(this._cursorIndex=this._cursorIndex-1|0);break;case Microsoft.Xna.Framework.Input.Keys.Delete:this.EnsureIndexInRange();sb1=new System.Text.StringBuilder;sb1.append(this.Text.substr(0,this._cursorIndex));(this._cursorIndex+1|0)<this.Text.length&&sb1.append(this.Text.substr(this._cursorIndex+1|0));this.Text=sb1.toString();break;case Microsoft.Xna.Framework.Input.Keys.Left:this._cursorIndex>0&&(this._cursorIndex=this._cursorIndex-1|0);break;case Microsoft.Xna.Framework.Input.Keys.Right:this._cursorIndex<this.Text.length&&(this._cursorIndex=this._cursorIndex+1|0);break;case Microsoft.Xna.Framework.Input.Keys.Home:this._cursorIndex=0;break;case Microsoft.Xna.Framework.Input.Keys.End:System.String.isNullOrEmpty(this.Text)||(this._cursorIndex=this.Text.length);break;case Microsoft.Xna.Framework.Input.Keys.Enter:if(!this.Multiline)break;sb2=new System.Text.StringBuilder;sb2.append(this.Text.substr(0,this._cursorIndex));sb2.append(String.fromCharCode(10));sb2.append(this.Text.substr(this._cursorIndex));this.SetText(sb2.toString(),!0)&&(this._cursorIndex=this._cursorIndex+1|0);break}},OnChar:function(c){Myra.Graphics2D.UI.Widget.prototype.OnChar.call(this,c);System.Char.isControl(c)||this.ProcessChar(c)},OnMouseDown:function(mb){Myra.Graphics2D.UI.Widget.prototype.OnMouseDown.call(this,mb);var mousePos=this.Desktop.MousePosition.$clone(),glyphRender=this._formattedText.Hit(mousePos.$clone());glyphRender!=null&&(this._cursorIndex=glyphRender.Index,System.Nullable.liftne(Microsoft.Xna.Framework.Point.op_Inequality,System.Nullable.lift1("$clone",glyphRender.TextRun.RenderedPosition),null)&&mousePos.X>=((System.Nullable.getValue(glyphRender.TextRun.RenderedPosition).X+glyphRender.Bounds.X|0)+(Bridge.Int.div(glyphRender.Bounds.Width,2)|0)|0)&&(this._cursorIndex=this._cursorIndex+1|0))},InternalRender:function(context){var bounds,textColor,centeredBounds,now;if(this._formattedText.Font!=null&&(bounds=this.ActualBounds.$clone(),textColor=this.TextColor.$clone(),!this.Enabled&&System.Nullable.liftne(Microsoft.Xna.Framework.Color.op_Inequality,System.Nullable.lift1("$clone",this.DisabledTextColor),null)?textColor=System.Nullable.getValue(this.DisabledTextColor).$clone():this.IsFocused&&System.Nullable.liftne(Microsoft.Xna.Framework.Color.op_Inequality,System.Nullable.lift1("$clone",this.FocusedTextColor),null)&&(textColor=System.Nullable.getValue(this.FocusedTextColor).$clone()),centeredBounds=Myra.Graphics2D.UI.LayoutUtils.Align(new Microsoft.Xna.Framework.Point.$ctor2(bounds.Width,bounds.Height),this._formattedText.Size.$clone(),Myra.Graphics2D.UI.HorizontalAlignment.Left,this.TextVerticalAlignment),centeredBounds.Offset(bounds.Location.$clone()),this._formattedText.Draw$1(context.Batch,centeredBounds.$clone(),textColor.$clone(),context.Opacity),this.IsFocused)&&(now=System.DateTime.getNow(),System.DateTime.subdd(now,this._lastBlinkStamp).getTotalMilliseconds()>=this.BlinkIntervalInMs&&(this._cursorOn=!this._cursorOn,this._lastBlinkStamp=now),this._cursorOn&&this.Cursor!=null)){var x=bounds.X,y=bounds.Y,glyphRender=this._formattedText.GetGlyphInfoByIndex(this._cursorIndex-1|0);glyphRender!=null&&System.Nullable.liftne(Microsoft.Xna.Framework.Point.op_Inequality,System.Nullable.lift1("$clone",glyphRender.TextRun.RenderedPosition),null)&&(x=System.Nullable.getValue(glyphRender.TextRun.RenderedPosition).X+glyphRender.Bounds.Right|0,y=System.Nullable.getValue(glyphRender.TextRun.RenderedPosition).Y);context.Draw$1(this.Cursor,new Microsoft.Xna.Framework.Rectangle.$ctor2(x,y,this.Cursor.Myra$Graphics2D$IRenderable$Size.X,this._formattedText.Font.LineSpacing))}},InternalMeasure:function(availableSize){var width,result,formattedText;return this.Font==null?Microsoft.Xna.Framework.Point.Zero.$clone():(width=availableSize.X,this.Width!=null&&System.Nullable.getValue(this.Width)<width&&(width=System.Nullable.getValue(this.Width)),result=Microsoft.Xna.Framework.Point.Zero.$clone(),this.Font!=null&&(formattedText=this._formattedText.Clone(),formattedText.Width=this._wrap?width:null,result=formattedText.Size.$clone()),result.Y<this.Font.LineSpacing&&(result.Y=this.Font.LineSpacing),result.$clone())},Arrange:function(){Myra.Graphics2D.UI.Widget.prototype.Arrange.call(this);this._formattedText.Width=this._wrap?this.Bounds.Width:null},ApplyTextFieldStyle:function(style){this.ApplyWidgetStyle(style);this.TextColor=style.TextColor.$clone();this.DisabledTextColor=System.Nullable.lift1("$clone",style.DisabledTextColor);this.FocusedTextColor=System.Nullable.lift1("$clone",style.FocusedTextColor);this.Cursor=style.Cursor;this.Selection=style.Selection;this.Font=style.Font;this.MessageFont=style.MessageFont},EnsureIndexInRange:function(){this._cursorIndex<0&&(this._cursorIndex=0);this.Text!=null?this._cursorIndex>this.Text.length&&(this._cursorIndex=this.Text.length):this._cursorIndex=0},SetStyleByName:function(stylesheet,name){this.ApplyTextFieldStyle(stylesheet.TextFieldStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.TextFieldStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.MultipleItemsContainer",{inherits:[Myra.Graphics2D.UI.Container],fields:{_widgets:null},props:{Children:{get:function(){return this._widgets}},Widgets:{get:function(){return this._widgets}},HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}},VerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment=value}}},ctors:{init:function(){this._widgets=new(System.Collections.ObjectModel.ObservableCollection$1(Myra.Graphics2D.UI.Widget).ctor)},ctor:function(){this.$initialize();Myra.Graphics2D.UI.Container.ctor.call(this);this._widgets.addCollectionChanged(Bridge.fn.cacheBind(this,this.WidgetsOnCollectionChanged));this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch}},methods:{WidgetsOnCollectionChanged:function(sender,args){var $t,$t1,w,w1;if(args.Action===System.Collections.Specialized.NotifyCollectionChangedAction.Add){$t=Bridge.getEnumerator(args.NewItems);try{while($t.moveNext())w=Bridge.cast($t.Current,Myra.Graphics2D.UI.Widget),w.Desktop=this.Desktop,w.Parent=this,w.addMeasureChanged(Bridge.fn.cacheBind(this,this.ChildOnMeasureChanged)),w.addVisibleChanged(Bridge.fn.cacheBind(this,this.ChildOnVisibleChanged))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}else if(args.Action===System.Collections.Specialized.NotifyCollectionChangedAction.Remove){$t1=Bridge.getEnumerator(args.OldItems);try{while($t1.moveNext())w1=Bridge.cast($t1.Current,Myra.Graphics2D.UI.Widget),w1.Desktop=null,w1.Parent=null,w1.removeVisibleChanged(Bridge.fn.cacheBind(this,this.ChildOnVisibleChanged)),w1.removeMeasureChanged(Bridge.fn.cacheBind(this,this.ChildOnMeasureChanged))}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}this.InvalidateMeasure();this.InvalidateChildren()},ChildOnMeasureChanged:function(sender,eventArgs){var widget=Bridge.cast(sender,Myra.Graphics2D.UI.Widget);widget.Visible&&this.InvalidateMeasure()},ChildOnVisibleChanged:function(sender,eventArgs){this.InvalidateMeasure()},RemoveChild:function(widget){this._widgets.remove(widget)}}});Bridge.define("Myra.Graphics2D.UI.SingleItemContainer$1",function(T){return{inherits:[Myra.Graphics2D.UI.Container],fields:{_internalChild:Bridge.getDefaultValue(T)},props:{InternalChild:{get:function(){return this._internalChild},set:function(value){this._internalChild!=null&&(this._internalChild.Parent=null,this._internalChild.Desktop=null,this._internalChild.removeVisibleChanged(Bridge.fn.cacheBind(this,this.ChildOnVisibleChanged)),this._internalChild.removeMeasureChanged(Bridge.fn.cacheBind(this,this.ChildOnMeasureChanged)),this._internalChild=null);this._internalChild=value;this._internalChild!=null&&(this._internalChild.Parent=this,this._internalChild.Desktop=this.Desktop,this._internalChild.addVisibleChanged(Bridge.fn.cacheBind(this,this.ChildOnVisibleChanged)),this._internalChild.addMeasureChanged(Bridge.fn.cacheBind(this,this.ChildOnMeasureChanged)))}},Children:{get:function(){return new(Bridge.GeneratorEnumerable$1(Myra.Graphics2D.UI.Widget))(Bridge.fn.bind(this,function(){var $step=0,$jumpFromFinally,$returnValue,$async_e,$enumerator=new(Bridge.GeneratorEnumerator$1(Myra.Graphics2D.UI.Widget))(Bridge.fn.bind(this,function(){try{for(;;)switch($step){case 0:if(this.InternalChild==null){$step=1;continue}$step=2;continue;case 1:return!1;case 2:return $enumerator.current=this.InternalChild,$step=3,!0;case 3:default:return!1}}catch($async_e1){$async_e=System.Exception.create($async_e1);throw $async_e;}}));return $enumerator}))}}},methods:{ChildOnVisibleChanged:function(sender,eventArgs){this.InvalidateMeasure()},ChildOnMeasureChanged:function(sender,eventArgs){this.InvalidateMeasure()},Arrange:function(){(Myra.Graphics2D.UI.Container.prototype.Arrange.call(this),this.InternalChild!=null)&&this.InternalChild.Layout(this.ActualBounds.$clone())},InternalMeasure:function(availableSize){var result=Microsoft.Xna.Framework.Point.Zero.$clone();return this.InternalChild!=null&&(result=this.InternalChild.Measure(availableSize.$clone())),result.$clone()},RemoveChild:function(widget){Bridge.referenceEquals(widget,this.InternalChild)&&(this.InternalChild=null)}}}});Bridge.define("Myra.Graphics2D.UI.Styles.ComboBoxStyle",{inherits:[Myra.Graphics2D.UI.Styles.ButtonStyle],fields:{ItemsContainerStyle:null,ListItemStyle:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.ButtonStyle.ctor.call(this);this.ItemsContainerStyle=new Myra.Graphics2D.UI.Styles.WidgetStyle.ctor;this.ListItemStyle=new Myra.Graphics2D.UI.Styles.ButtonStyle.ctor},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.ButtonStyle.$ctor1.call(this,style);this.ItemsContainerStyle=new Myra.Graphics2D.UI.Styles.WidgetStyle.$ctor1(style.ItemsContainerStyle);this.ListItemStyle=new Myra.Graphics2D.UI.Styles.ButtonStyle.$ctor1(style.ListItemStyle)}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.ComboBoxStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.Styles.MenuItemStyle",{inherits:[Myra.Graphics2D.UI.Styles.ButtonStyle],fields:{IconWidth:null,ShortcutWidth:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Styles.ButtonStyle.ctor.call(this)},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Styles.ButtonStyle.$ctor1.call(this,style);this.IconWidth=style.IconWidth;this.ShortcutWidth=style.ShortcutWidth}},methods:{Clone:function(){return new Myra.Graphics2D.UI.Styles.MenuItemStyle.$ctor1(this)}}});Bridge.define("Myra.Graphics2D.UI.ButtonBase$1",function(T){return{inherits:[Myra.Graphics2D.UI.SingleItemContainer$1(T)],fields:{_isPressed:!1,_isToggled:!1,PressedBackground:null,Toggleable:!1,IgnoreMouseButton:!1,ReleaseOnMouseLeft:!1},events:{Click:null,PressedChanged:null,ToggledChanged:null},props:{ContentHorizontalAlignment:{get:function(){return this.InternalChild.HorizontalAlignment},set:function(value){this.InternalChild.HorizontalAlignment=value}},ContentVerticalAlignment:{get:function(){return this.InternalChild.VerticalAlignment},set:function(value){this.InternalChild.VerticalAlignment=value}},IsToggled:{get:function(){return this._isToggled},set:function(value){value!==this._isToggled&&(this._isToggled=value,this.OnToggledChanged())}},IsPressed:{get:function(){return this._isPressed},set:function(value){value!==this._isPressed&&(this._isPressed=value,this.OnPressedChanged())}},ShowAsPressed:{get:function(){return this.IsToggled||this.IsPressed}},Desktop:{get:function(){return Bridge.ensureBaseProperty(this,"Desktop").$Myra$Graphics2D$UI$Container$Desktop},set:function(value){this.ReleaseOnMouseLeft||this.Desktop==null||this.Desktop.removeTouchUp(Bridge.fn.cacheBind(this,this.DesktopTouchUp));Bridge.ensureBaseProperty(this,"Desktop").$Myra$Graphics2D$UI$Container$Desktop=value;this.ReleaseOnMouseLeft||this.Desktop==null||this.Desktop.addTouchUp(Bridge.fn.cacheBind(this,this.DesktopTouchUp))}}},ctors:{init:function(){this._isPressed=!1;this._isToggled=!1},ctor:function(){this.$initialize();Myra.Graphics2D.UI.SingleItemContainer$1(T).ctor.call(this);this.Toggleable=!1;this.ReleaseOnMouseLeft=!0}},methods:{DoClick:function(){this.OnTouchDown();this.OnTouchUp()},OnToggledChanged:function(){var ev=this.ToggledChanged;Bridge.staticEquals(ev,null)||ev(this,{})},OnPressedChanged:function(){var ev=this.PressedChanged;Bridge.staticEquals(ev,null)||ev(this,{})},OnMouseLeft:function(){Myra.Graphics2D.UI.SingleItemContainer$1(T).prototype.OnMouseLeft.call(this);this.ReleaseOnMouseLeft&&(this.IsPressed=!1)},OnTouchUp:function(){var OldPressed,ev;(Myra.Graphics2D.UI.SingleItemContainer$1(T).prototype.OnTouchUp.call(this),this.Enabled&&!this.IgnoreMouseButton)&&(OldPressed=this.IsPressed,this.IsPressed=!1,OldPressed!==!0||this.IsPressed||(this.Toggleable&&(this.IsToggled=!this.IsToggled),ev=this.Click,Bridge.staticEquals(ev,null)||ev(this,{})))},OnTouchDown:function(){(Myra.Graphics2D.UI.SingleItemContainer$1(T).prototype.OnTouchDown.call(this),this.Enabled&&!this.IgnoreMouseButton)&&(this.IsPressed=!0)},OnKeyDown:function(k){Myra.Graphics2D.UI.SingleItemContainer$1(T).prototype.OnKeyDown.call(this,k);k===Microsoft.Xna.Framework.Input.Keys.Space&&(this.Toggleable?this.IsToggled=!this.IsToggled:this.DoClick())},GetCurrentBackground:function(){var result=this.Background;return this.Enabled?this.ShowAsPressed&&this.PressedBackground!=null?result=this.PressedBackground:this.IsMouseOver&&this.OverBackground!=null&&(result=this.OverBackground):this.DisabledBackground!=null&&(result=this.DisabledBackground),result},ApplyButtonBaseStyle:function(style){this.ApplyWidgetStyle(style);this.PressedBackground=style.PressedBackground},DesktopTouchUp:function(sender,args){this.IsPressed=!1}}}});Bridge.define("Myra.Graphics2D.UI.Grid",{inherits:[Myra.Graphics2D.UI.MultipleItemsContainer],fields:{_columnSpacing:0,_rowSpacing:0,_columnsProportions:null,_rowsProportions:null,_totalColumnsPart:null,_totalRowsPart:null,_cellLocationsX:null,_cellLocationsY:null,_gridLinesX:null,_gridLinesY:null,_actualSize:null,_measureColWidths:null,_measureRowHeights:null,_visibleWidgets:null,_colWidths:null,_rowHeights:null,_selectedRowIndex:null,_selectedColumnIndex:null,DrawLines:!1,DrawLinesColor:null,SelectionBackground:null,SelectionHoverBackground:null,GridSelectionMode:0,HoverRowIndex:null,HoverColumnIndex:null},events:{SelectedIndexChanged:null},props:{ColumnSpacing:{get:function(){return this._columnSpacing},set:function(value){value!==this._columnSpacing&&(this._columnSpacing=value,this.InvalidateMeasure())}},RowSpacing:{get:function(){return this._rowSpacing},set:function(value){value!==this._rowSpacing&&(this._rowSpacing=value,this.InvalidateMeasure())}},ColumnsProportions:{get:function(){return this._columnsProportions}},RowsProportions:{get:function(){return this._rowsProportions}},TotalRowsPart:{get:function(){return this._totalRowsPart},set:function(value){System.Nullable.eq(value,this._totalRowsPart)||(this._totalRowsPart=value,this.InvalidateLayout())}},TotalColumnsPart:{get:function(){return this._totalColumnsPart},set:function(value){System.Nullable.eq(value,this._totalColumnsPart)||(this._totalColumnsPart=value,this.InvalidateLayout())}},GridLinesX:{get:function(){return this._gridLinesX}},GridLinesY:{get:function(){return this._gridLinesY}},SelectedRowIndex:{get:function(){return this._selectedRowIndex},set:function(value){if(!System.Nullable.eq(value,this._selectedRowIndex)){this._selectedRowIndex=value;var ev=this.SelectedIndexChanged;Bridge.staticEquals(ev,null)||ev(this,{})}}},SelectedColumnIndex:{get:function(){return this._selectedColumnIndex},set:function(value){if(!System.Nullable.eq(value,this._selectedColumnIndex)){this._selectedColumnIndex=value;var ev=this.SelectedIndexChanged;Bridge.staticEquals(ev,null)||ev(this,{})}}}},ctors:{init:function(){this._actualSize=new Microsoft.Xna.Framework.Point;this.DrawLinesColor=new Microsoft.Xna.Framework.Color;this._columnsProportions=new(System.Collections.ObjectModel.ObservableCollection$1(Myra.Graphics2D.UI.Grid.Proportion).ctor);this._rowsProportions=new(System.Collections.ObjectModel.ObservableCollection$1(Myra.Graphics2D.UI.Grid.Proportion).ctor);this._cellLocationsX=new(System.Collections.Generic.List$1(System.Int32).ctor);this._cellLocationsY=new(System.Collections.Generic.List$1(System.Int32).ctor);this._gridLinesX=new(System.Collections.Generic.List$1(System.Int32).ctor);this._gridLinesY=new(System.Collections.Generic.List$1(System.Int32).ctor);this._measureColWidths=new(System.Collections.Generic.List$1(System.Int32).ctor);this._measureRowHeights=new(System.Collections.Generic.List$1(System.Int32).ctor);this._visibleWidgets=new(System.Collections.Generic.List$1(Myra.Graphics2D.UI.Widget).ctor);this._colWidths=new(System.Collections.Generic.List$1(System.Int32).ctor);this._rowHeights=new(System.Collections.Generic.List$1(System.Int32).ctor)},ctor:function(){this.$initialize();Myra.Graphics2D.UI.MultipleItemsContainer.ctor.call(this);this._columnsProportions.addCollectionChanged(Bridge.fn.cacheBind(this,this.OnProportionsChanged));this._rowsProportions.addCollectionChanged(Bridge.fn.cacheBind(this,this.OnProportionsChanged));this.DrawLines=!1;this.DrawLinesColor=Microsoft.Xna.Framework.Color.White.$clone()}},methods:{GetColumnWidth:function(index){return this._colWidths==null||index<0||index>=this._colWidths.Count?0:this._colWidths.getItem(index)},GetRowHeight:function(index){return this._rowHeights==null||index<0||index>=this._rowHeights.Count?0:this._rowHeights.getItem(index)},GetCellLocationX:function(col){return col<0||col>=this._cellLocationsX.Count?0:this._cellLocationsX.getItem(col)},GetCellLocationY:function(row){return row<0||row>=this._cellLocationsY.Count?0:this._cellLocationsY.getItem(row)},GetCellRectangle:function(col,row){return col<0||col>=this._cellLocationsX.Count||row<0||row>=this._cellLocationsY.Count?Microsoft.Xna.Framework.Rectangle.Empty.$clone():new Microsoft.Xna.Framework.Rectangle.$ctor2(this._cellLocationsX.getItem(col),this._cellLocationsY.getItem(row),this._colWidths.getItem(col),this._rowHeights.getItem(row))},OnProportionsChanged:function(sender,args){var $t,$t1,i,i1;if(args.Action===System.Collections.Specialized.NotifyCollectionChangedAction.Add){$t=Bridge.getEnumerator(args.NewItems);try{while($t.moveNext())i=$t.Current,Bridge.cast(i,Myra.Graphics2D.UI.Grid.Proportion).addChanged(Bridge.fn.cacheBind(this,this.OnProportionsChanged$1))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}else if(args.Action===System.Collections.Specialized.NotifyCollectionChangedAction.Remove){$t1=Bridge.getEnumerator(args.OldItems);try{while($t1.moveNext())i1=$t1.Current,Bridge.cast(i1,Myra.Graphics2D.UI.Grid.Proportion).removeChanged(Bridge.fn.cacheBind(this,this.OnProportionsChanged$1))}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}this.HoverRowIndex=null;this.SelectedRowIndex=null;this.InvalidateMeasure()},OnProportionsChanged$1:function(sender,args){this.InvalidateMeasure()},GetColumnProportion:function(col){return col<0||col>=this.ColumnsProportions.Count?Myra.Graphics2D.UI.Grid.Proportion.Default:this.ColumnsProportions.getItem(col)},GetRowProportion:function(row){return row<0||row>=this.RowsProportions.Count?Myra.Graphics2D.UI.Grid.Proportion.Default:this.RowsProportions.getItem(row)},GetActualGridPosition:function(child){var result=new Microsoft.Xna.Framework.Point.$ctor2(child.GridPositionX,child.GridPositionY);return result.X>this.ColumnsProportions.Count&&(result.X=this.ColumnsProportions.Count),result.Y>this.RowsProportions.Count&&(result.Y=this.RowsProportions.Count),result.$clone()},LayoutProcessFixed:function(availableSize){var $t,$t1,rows=0,columns=0,child,gridPosition,i,row,col,rowProportion,colProportion,widget,gridPosition1,measuredSize,result,w,h;this._visibleWidgets.clear();$t=Bridge.getEnumerator(this.Widgets);try{while($t.moveNext())child=$t.Current,child.Visible&&(this._visibleWidgets.add(child),gridPosition=this.GetActualGridPosition(child),(gridPosition.X+child.GridSpanX|0)>columns&&(columns=gridPosition.X+child.GridSpanX|0),(gridPosition.Y+child.GridSpanY|0)>rows&&(rows=gridPosition.Y+child.GridSpanY|0))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}for(this.ColumnsProportions.Count>columns&&(columns=this.ColumnsProportions.Count),this.RowsProportions.Count>rows&&(rows=this.RowsProportions.Count),this._measureColWidths.clear(),i=0;i<columns;i=i+1|0)this._measureColWidths.add(0);for(this._measureRowHeights.clear(),i=0;i<rows;i=i+1|0)this._measureRowHeights.add(0);for(availableSize.X=availableSize.X-Bridge.Int.mul(this._measureColWidths.Count-1|0,this._columnSpacing)|0,availableSize.Y=availableSize.Y-Bridge.Int.mul(this._measureRowHeights.Count-1|0,this._rowSpacing)|0,row=0;row<rows;row=row+1|0)for(col=0;col<columns;col=col+1|0){rowProportion=this.GetRowProportion(row);colProportion=this.GetColumnProportion(col);colProportion.Type===Myra.Graphics2D.UI.Grid.ProportionType.Pixels&&this._measureColWidths.setItem(col,Bridge.Int.clip32(colProportion.Value));rowProportion.Type===Myra.Graphics2D.UI.Grid.ProportionType.Pixels&&this._measureRowHeights.setItem(row,Bridge.Int.clip32(rowProportion.Value));$t1=Bridge.getEnumerator(this._visibleWidgets);try{while($t1.moveNext())(widget=$t1.Current,gridPosition1=this.GetActualGridPosition(widget),gridPosition1.X===col&&gridPosition1.Y===row)&&(measuredSize=Microsoft.Xna.Framework.Point.Zero.$clone(),(rowProportion.Type!==Myra.Graphics2D.UI.Grid.ProportionType.Pixels||colProportion.Type!==Myra.Graphics2D.UI.Grid.ProportionType.Pixels)&&(measuredSize=widget.Measure(availableSize.$clone())),widget.GridSpanX!==1&&(measuredSize.X=0),widget.GridSpanY!==1&&(measuredSize.Y=0),measuredSize.X>this._measureColWidths.getItem(col)&&this._measureColWidths.setItem(col,measuredSize.X),measuredSize.Y>this._measureRowHeights.getItem(row)&&this._measureRowHeights.setItem(row,measuredSize.Y))}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}for(result=Microsoft.Xna.Framework.Point.Zero.$clone(),i=0;i<this._measureColWidths.Count;i=i+1|0)w=this._measureColWidths.getItem(i),result.X=result.X+w|0,i<(this._measureColWidths.Count-1|0)&&(result.X=result.X+this._columnSpacing|0);for(i=0;i<this._measureRowHeights.Count;i=i+1|0)h=this._measureRowHeights.getItem(i),result.Y=result.Y+h|0,i<(this._measureRowHeights.Count-1|0)&&(result.Y=result.Y+this._rowSpacing|0);return result.$clone()},Arrange:function(){var $t,bounds=this.ActualBounds.$clone(),i,i1,row,col,availableWidth,totalPart,colWidth,prop,tookSpace,prop1,prop2,availableHeight,colHeight,prop3,tookSpace1,prop4,prop5,p,i2,w,i3,h,control;for(this.LayoutProcessFixed(Myra.Utility.GraphicsExtension.Size(bounds)),this._colWidths.clear(),i=0;i<this._measureColWidths.Count;i=i+1|0)this._colWidths.add(this._measureColWidths.getItem(i));for(this._rowHeights.clear(),i1=0;i1<this._measureRowHeights.Count;i1=i1+1|0)this._rowHeights.add(this._measureRowHeights.getItem(i1));for(availableWidth=bounds.Width,availableWidth-=Bridge.Int.mul(this._colWidths.Count-1|0,this._columnSpacing),totalPart=0,col=0;col<this._colWidths.Count;col=col+1|0)colWidth=this._colWidths.getItem(col),prop=this.GetColumnProportion(col),prop.Type===Myra.Graphics2D.UI.Grid.ProportionType.Auto||prop.Type===Myra.Graphics2D.UI.Grid.ProportionType.Pixels?availableWidth-=colWidth:totalPart+=prop.Value;if(System.Nullable.hasValue(this.TotalColumnsPart)&&(totalPart=System.Nullable.getValue(this.TotalColumnsPart)),!Myra.Utility.Mathematics.IsZero(totalPart)){for(tookSpace=0,col=0;col<this._colWidths.Count;col=col+1|0)prop1=this.GetColumnProportion(col),prop1.Type===Myra.Graphics2D.UI.Grid.ProportionType.Part&&(this._colWidths.setItem(col,Bridge.Int.clip32(prop1.Value*availableWidth/totalPart)),tookSpace+=this._colWidths.getItem(col));availableWidth-=tookSpace}for(col=0;col<this._colWidths.Count;col=col+1|0)if(prop2=this.GetColumnProportion(col),prop2.Type===Myra.Graphics2D.UI.Grid.ProportionType.Fill){this._colWidths.setItem(col,Bridge.Int.clip32(availableWidth));break}for(availableHeight=bounds.Height,availableHeight-=Bridge.Int.mul(this._rowHeights.Count-1|0,this._rowSpacing),totalPart=0,col=0;col<this._rowHeights.Count;col=col+1|0)colHeight=this._rowHeights.getItem(col),prop3=this.GetRowProportion(col),prop3.Type===Myra.Graphics2D.UI.Grid.ProportionType.Auto||prop3.Type===Myra.Graphics2D.UI.Grid.ProportionType.Pixels?availableHeight-=colHeight:totalPart+=prop3.Value;if(System.Nullable.hasValue(this.TotalRowsPart)&&(totalPart=System.Nullable.getValue(this.TotalRowsPart)),!Myra.Utility.Mathematics.IsZero(totalPart)){for(tookSpace1=0,row=0;row<this._rowHeights.Count;row=row+1|0)(prop4=this.GetRowProportion(row),prop4.Type===Myra.Graphics2D.UI.Grid.ProportionType.Part)&&(this._rowHeights.setItem(row,Bridge.Int.clip32(prop4.Value*availableHeight/totalPart)),tookSpace1+=this._rowHeights.getItem(row));availableHeight-=tookSpace1}for(row=0;row<this._rowHeights.Count;row=row+1|0)if(prop5=this.GetRowProportion(row),prop5.Type===Myra.Graphics2D.UI.Grid.ProportionType.Fill){this._rowHeights.setItem(row,Bridge.Int.clip32(availableHeight));break}for(this._actualSize=Microsoft.Xna.Framework.Point.Zero.$clone(),this._gridLinesX.clear(),this._cellLocationsX.clear(),p=Microsoft.Xna.Framework.Point.Zero.$clone(),this._gridLinesX.add(p.X),i2=0;i2<this._colWidths.Count;i2=i2+1|0)this._cellLocationsX.add(p.X),w=this._colWidths.getItem(i2),p.X=p.X+w|0,i2<(this._colWidths.Count-1|0)&&this._gridLinesX.add(p.X+(Bridge.Int.div(this._columnSpacing,2)|0)|0),p.X=p.X+this._columnSpacing|0,this._actualSize.X=this._actualSize.X+this._colWidths.getItem(i2)|0;for(this._gridLinesX.add(bounds.Width-1|0),this._gridLinesY.clear(),this._cellLocationsY.clear(),this._gridLinesY.add(p.Y),i3=0;i3<this._rowHeights.Count;i3=i3+1|0)this._cellLocationsY.add(p.Y),h=this._rowHeights.getItem(i3),p.Y=p.Y+h|0,i3<(this._rowHeights.Count-1|0)&&this._gridLinesY.add(p.Y+(Bridge.Int.div(this._rowSpacing,2)|0)|0),p.Y=p.Y+this._rowSpacing|0,this._actualSize.Y=this._actualSize.Y+this._rowHeights.getItem(i3)|0;this._gridLinesY.add(bounds.Height-1|0);$t=Bridge.getEnumerator(this._visibleWidgets);try{while($t.moveNext())control=$t.Current,this.LayoutControl(control)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},LayoutControl:function(control){for(var i1,bounds,gridPosition=this.GetActualGridPosition(control),col=gridPosition.X,row=gridPosition.Y,cellSize=Microsoft.Xna.Framework.Point.Zero.$clone(),i=col;i<(col+control.GridSpanX|0);i=i+1|0)cellSize.X=cellSize.X+this._colWidths.getItem(i)|0,i<((col+control.GridSpanX|0)-1|0)&&(cellSize.X=cellSize.X+this._columnSpacing|0);for(i1=row;i1<(row+control.GridSpanY|0);i1=i1+1|0)cellSize.Y=cellSize.Y+this._rowHeights.getItem(i1)|0,i1<((row+control.GridSpanY|0)-1|0)&&(cellSize.Y=cellSize.Y+this._rowSpacing|0);bounds=this.ActualBounds.$clone();control.Layout(new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.Left+this._cellLocationsX.getItem(col)|0,bounds.Top+this._cellLocationsY.getItem(row)|0,cellSize.X,cellSize.Y))},RenderSelection:function(context){var bounds=this.ActualBounds.$clone(),rect,rect1,rect2,rect3,rect4,rect5;switch(this.GridSelectionMode){case Myra.Graphics2D.UI.GridSelectionMode.None:break;case Myra.Graphics2D.UI.GridSelectionMode.Row:this.HoverRowIndex!=null&&System.Nullable.neq(this.HoverRowIndex,this.SelectedRowIndex)&&this.SelectionHoverBackground!=null&&(rect=new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.Left,this._cellLocationsY.getItem(System.Nullable.getValue(this.HoverRowIndex))+bounds.Top|0,bounds.Width,this._rowHeights.getItem(System.Nullable.getValue(this.HoverRowIndex))),context.Draw$1(this.SelectionHoverBackground,rect.$clone()));this.SelectedRowIndex!=null&&this.SelectionBackground!=null&&(rect1=new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.Left,this._cellLocationsY.getItem(System.Nullable.getValue(this.SelectedRowIndex))+bounds.Top|0,bounds.Width,this._rowHeights.getItem(System.Nullable.getValue(this.SelectedRowIndex))),context.Draw$1(this.SelectionBackground,rect1.$clone()));break;case Myra.Graphics2D.UI.GridSelectionMode.Column:this.HoverColumnIndex!=null&&System.Nullable.neq(this.HoverColumnIndex,this.SelectedColumnIndex)&&this.SelectionHoverBackground!=null&&(rect2=new Microsoft.Xna.Framework.Rectangle.$ctor2(this._cellLocationsX.getItem(System.Nullable.getValue(this.HoverColumnIndex))+bounds.Left|0,bounds.Top,this._colWidths.getItem(System.Nullable.getValue(this.HoverColumnIndex)),bounds.Height),context.Draw$1(this.SelectionHoverBackground,rect2.$clone()));this.SelectedColumnIndex!=null&&this.SelectionBackground!=null&&(rect3=new Microsoft.Xna.Framework.Rectangle.$ctor2(this._cellLocationsX.getItem(System.Nullable.getValue(this.SelectedColumnIndex))+bounds.Left|0,bounds.Top,this._colWidths.getItem(System.Nullable.getValue(this.SelectedColumnIndex)),bounds.Height),context.Draw$1(this.SelectionBackground,rect3.$clone()));break;case Myra.Graphics2D.UI.GridSelectionMode.Cell:this.HoverRowIndex!=null&&this.HoverColumnIndex!=null&&(System.Nullable.neq(this.HoverRowIndex,this.SelectedRowIndex)||System.Nullable.neq(this.HoverColumnIndex,this.SelectedColumnIndex))&&this.SelectionHoverBackground!=null&&(rect4=new Microsoft.Xna.Framework.Rectangle.$ctor2(this._cellLocationsX.getItem(System.Nullable.getValue(this.HoverColumnIndex))+bounds.Left|0,this._cellLocationsY.getItem(System.Nullable.getValue(this.HoverRowIndex))+bounds.Top|0,this._colWidths.getItem(System.Nullable.getValue(this.HoverColumnIndex)),this._rowHeights.getItem(System.Nullable.getValue(this.HoverRowIndex))),context.Draw$1(this.SelectionHoverBackground,rect4.$clone()));this.SelectedRowIndex!=null&&this.SelectedColumnIndex!=null&&this.SelectionBackground!=null&&(rect5=new Microsoft.Xna.Framework.Rectangle.$ctor2(this._cellLocationsX.getItem(System.Nullable.getValue(this.SelectedColumnIndex))+bounds.Left|0,this._cellLocationsY.getItem(System.Nullable.getValue(this.SelectedRowIndex))+bounds.Top|0,this._colWidths.getItem(System.Nullable.getValue(this.SelectedColumnIndex)),this._rowHeights.getItem(System.Nullable.getValue(this.SelectedRowIndex))),context.Draw$1(this.SelectionBackground,rect5.$clone()));break}},InternalRender:function(context){var bounds=this.ActualBounds.$clone(),i,x,y;if(this.RenderSelection(context),Myra.Graphics2D.UI.MultipleItemsContainer.prototype.InternalRender.call(this,context),this.DrawLines){for(i=0;i<this._gridLinesX.Count;i=i+1|0)x=this._gridLinesX.getItem(i)+bounds.Left|0,context.FillRectangle(new Microsoft.Xna.Framework.Rectangle.$ctor2(x,bounds.Top,1,bounds.Height),this.DrawLinesColor.$clone());for(i=0;i<this._gridLinesY.Count;i=i+1|0)y=this._gridLinesY.getItem(i)+bounds.Top|0,context.FillRectangle(new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.Left,y,bounds.Width,1),this.DrawLinesColor.$clone())}},InternalMeasure:function(availableSize){return this.LayoutProcessFixed(availableSize.$clone())},UpdateHoverPosition:function(position){var bounds,x,i,cx,y,i1,cy;if(this.GridSelectionMode!==Myra.Graphics2D.UI.GridSelectionMode.None){if(System.Nullable.lifteq(Microsoft.Xna.Framework.Point.op_Equality,System.Nullable.lift1("$clone",position),null)){this.HoverRowIndex=null;this.HoverColumnIndex=null;return}if(bounds=this.ActualBounds.$clone(),this.GridSelectionMode===Myra.Graphics2D.UI.GridSelectionMode.Column||this.GridSelectionMode===Myra.Graphics2D.UI.GridSelectionMode.Cell)for(x=System.Nullable.getValue(position).X,i=0;i<this._cellLocationsX.Count;i=i+1|0)if(cx=this._cellLocationsX.getItem(i)+bounds.Left|0,x>=cx&&x<(cx+this._colWidths.getItem(i)|0)){this.HoverColumnIndex=i;break}if(this.GridSelectionMode===Myra.Graphics2D.UI.GridSelectionMode.Row||this.GridSelectionMode===Myra.Graphics2D.UI.GridSelectionMode.Cell)for(y=System.Nullable.getValue(position).Y,i1=0;i1<this._cellLocationsY.Count;i1=i1+1|0)if(cy=this._cellLocationsY.getItem(i1)+bounds.Top|0,y>=cy&&y<(cy+this._rowHeights.getItem(i1)|0)){this.HoverRowIndex=i1;break}}},OnMouseLeft:function(){Myra.Graphics2D.UI.MultipleItemsContainer.prototype.OnMouseLeft.call(this);this.UpdateHoverPosition(null)},OnMouseEntered:function(){Myra.Graphics2D.UI.MultipleItemsContainer.prototype.OnMouseEntered.call(this);this.UpdateHoverPosition(this.MousePosition.$clone())},OnMouseMoved:function(){Myra.Graphics2D.UI.MultipleItemsContainer.prototype.OnMouseMoved.call(this);this.UpdateHoverPosition(this.MousePosition.$clone())},OnTouchDown:function(){Myra.Graphics2D.UI.MultipleItemsContainer.prototype.OnTouchDown.call(this);this.HoverRowIndex!=null&&(this.SelectedRowIndex=this.HoverRowIndex);this.HoverColumnIndex!=null&&(this.SelectedColumnIndex=this.HoverColumnIndex)}}});Bridge.define("Myra.Graphics2D.UI.Image",{inherits:[Myra.Graphics2D.UI.Widget],fields:{_image:null,_color:null},props:{Renderable:{get:function(){return this._image},set:function(value){Bridge.referenceEquals(value,this._image)||(this._image=value,this.InvalidateMeasure())}},TextureRegion:{get:function(){return this.Renderable},set:function(value){this.Renderable=value}},Color:{get:function(){return this._color.$clone()},set:function(value){this._color=value.$clone()}}},ctors:{init:function(){this._color=new Microsoft.Xna.Framework.Color;this._color=Microsoft.Xna.Framework.Color.White.$clone()}},methods:{InternalMeasure:function(availableSize){return this.Renderable==null?Microsoft.Xna.Framework.Point.Zero.$clone():this.Renderable.Myra$Graphics2D$IRenderable$Size.$clone()},InternalRender:function(context){if(Myra.Graphics2D.UI.Widget.prototype.InternalRender.call(this,context),this.Renderable!=null){var bounds=this.ActualBounds.$clone();context.Draw$1(this.Renderable,bounds.$clone(),this.Color.$clone())}},UpdateImageSize:function(image){image!=null&&((this.Width==null||image.Myra$Graphics2D$IRenderable$Size.X>System.Nullable.getValue(this.Width))&&(this.Width=image.Myra$Graphics2D$IRenderable$Size.X),(this.Height==null||image.Myra$Graphics2D$IRenderable$Size.Y>System.Nullable.getValue(this.Height))&&(this.Height=image.Myra$Graphics2D$IRenderable$Size.Y))}}});Bridge.define("Myra.Graphics2D.UI.Panel",{inherits:[Myra.Graphics2D.UI.MultipleItemsContainer],methods:{Arrange:function(){var $t,control;$t=Bridge.getEnumerator(this._widgets);try{while($t.moveNext())(control=$t.Current,control.Visible)&&this.LayoutControl(control)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},LayoutControl:function(control){control.Layout(this.ActualBounds.$clone())},InternalMeasure:function(availableSize){var $t,result=Microsoft.Xna.Framework.Point.Zero.$clone(),control,measure;$t=Bridge.getEnumerator(this._widgets);try{while($t.moveNext())(control=$t.Current,control.Visible)&&(measure=control.Measure(availableSize.$clone()),measure.X>result.X&&(result.X=measure.X),measure.Y>result.Y&&(result.Y=measure.Y))}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return result.$clone()}}});Bridge.define("Myra.Graphics2D.UI.ScrollPane",{inherits:[Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Widget)],fields:{_scrollbarOrientation:0,_horizontalScrollbarVisible:!1,_verticalScrollbarVisible:!1,_horizontalScrollbarFrame:null,_horizontalScrollbarThumb:null,_verticalScrollbarFrame:null,_verticalScrollbarThumb:null,_scrollPosition:null,_startBoundsPos:null,_horizontalMaximum:0,_verticalMaximum:0,HorizontalScrollBackground:null,HorizontalScrollKnob:null,VerticalScrollBackground:null,VerticalScrollKnob:null,AllowHorizontalScrolling:!1,AllowVerticalScrolling:!1},props:{ScrollPosition:{get:function(){return this._scrollPosition.$clone()},set:function(value){this._scrollPosition=value.$clone();this.UpdateWidgetLocation()}},ScrollMaximum:{get:function(){return new Microsoft.Xna.Framework.Point.$ctor2(this._horizontalMaximum,this._verticalMaximum)}},Widget:{get:function(){return Bridge.ensureBaseProperty(this,"InternalChild").$Myra$Graphics2D$UI$SingleItemContainer$1$Myra$Graphics2D$UI$Widget$InternalChild},set:function(value){Bridge.ensureBaseProperty(this,"InternalChild").$Myra$Graphics2D$UI$SingleItemContainer$1$Myra$Graphics2D$UI$Widget$InternalChild=value;this.ResetScroll()}},HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}},VerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment=value}},ClipToBounds:{get:function(){return Bridge.ensureBaseProperty(this,"ClipToBounds").$Myra$Graphics2D$UI$Widget$ClipToBounds},set:function(value){Bridge.ensureBaseProperty(this,"ClipToBounds").$Myra$Graphics2D$UI$Widget$ClipToBounds=value}},CanFocus:{get:function(){return Bridge.ensureBaseProperty(this,"CanFocus").$Myra$Graphics2D$UI$Widget$CanFocus},set:function(value){Bridge.ensureBaseProperty(this,"CanFocus").$Myra$Graphics2D$UI$Widget$CanFocus=value}},Child:{get:function(){return this.InternalChild},set:function(value){this.InternalChild=value}},Desktop:{get:function(){return Bridge.ensureBaseProperty(this,"Desktop").$Myra$Graphics2D$UI$Container$Desktop},set:function(value){this.Desktop!=null&&(this.Desktop.removeMouseMoved(Bridge.fn.cacheBind(this,this.DesktopMouseMoved)),this.Desktop.removeTouchUp(Bridge.fn.cacheBind(this,this.DesktopTouchUp)));Bridge.ensureBaseProperty(this,"Desktop").$Myra$Graphics2D$UI$Container$Desktop=value;this.Desktop!=null&&(this.Desktop.addMouseMoved(Bridge.fn.cacheBind(this,this.DesktopMouseMoved)),this.Desktop.addTouchUp(Bridge.fn.cacheBind(this,this.DesktopTouchUp)))}}},ctors:{init:function(){this._horizontalScrollbarFrame=new Microsoft.Xna.Framework.Rectangle;this._horizontalScrollbarThumb=new Microsoft.Xna.Framework.Rectangle;this._verticalScrollbarFrame=new Microsoft.Xna.Framework.Rectangle;this._verticalScrollbarThumb=new Microsoft.Xna.Framework.Rectangle;this._scrollPosition=new Microsoft.Xna.Framework.Point},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Widget).ctor.call(this);this.ClipToBounds=!0;this.CanFocus=!0;this._horizontalScrollbarVisible=this._verticalScrollbarVisible=!1;this.AllowVerticalScrolling=(this.AllowHorizontalScrolling=!0,!0);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch;style!=null&&this.ApplyScrollPaneStyle(style)},$ctor2:function(style){Myra.Graphics2D.UI.ScrollPane.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.ScrollPaneStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.ScrollPane.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.ScrollPaneStyle)}},methods:{UpdateWidgetLocation:function(){var prop,bounds,origin;this.InternalChild!=null&&(prop=Microsoft.Xna.Framework.Vector2.Zero.$clone(),this._horizontalMaximum>0&&(prop.X=this._scrollPosition.X/this._horizontalMaximum),this._verticalMaximum!==0&&(prop.Y=this._scrollPosition.Y/this._verticalMaximum),bounds=this.ActualBounds.$clone(),origin=new Microsoft.Xna.Framework.Point.$ctor2(Bridge.Int.clip32(prop.X*((this.InternalChild.Bounds.Width-bounds.Width|0)+(this._verticalScrollbarVisible?this._verticalScrollbarThumb.Width:0)|0)),Bridge.Int.clip32(prop.Y*((this.InternalChild.Bounds.Height-bounds.Height|0)+(this._horizontalScrollbarVisible?this._horizontalScrollbarThumb.Height:0)|0))),this.InternalChild.Left=-origin.X|0,this.InternalChild.Top=-origin.Y|0)},MoveThumb:function(delta){var newPos,newPos1;this._scrollbarOrientation===Myra.Graphics2D.UI.Orientation.Horizontal?(newPos=delta+this._scrollPosition.X|0,newPos<0&&(newPos=0),newPos>this._horizontalMaximum&&(newPos=this._horizontalMaximum),this._scrollPosition.X=newPos):(newPos1=delta+this._scrollPosition.Y|0,newPos1<0&&(newPos1=0),newPos1>this._verticalMaximum&&(newPos1=this._verticalMaximum),this._scrollPosition.Y=newPos1);this.UpdateWidgetLocation()},MoveChildren:function(delta){Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Widget).prototype.MoveChildren.call(this,delta.$clone());this._horizontalScrollbarVisible&&(this._horizontalScrollbarFrame.Offset$2(delta.X,delta.Y),this._horizontalScrollbarThumb.Offset$2(delta.X,delta.Y));this._verticalScrollbarVisible&&(this._verticalScrollbarFrame.Offset$2(delta.X,delta.Y),this._verticalScrollbarThumb.Offset$2(delta.X,delta.Y))},OnTouchUp:function(){Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Widget).prototype.OnTouchUp.call(this);this._startBoundsPos=null},OnTouchDown:function(){Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Widget).prototype.OnTouchDown.call(this);var mousePosition=this.Desktop.MousePosition.$clone(),r=this._verticalScrollbarThumb.$clone();r.Y=r.Y+this._scrollPosition.Y|0;this._verticalScrollbarVisible&&r.Contains(mousePosition.$clone())&&(this._startBoundsPos=mousePosition.Y,this._scrollbarOrientation=Myra.Graphics2D.UI.Orientation.Vertical);r=this._horizontalScrollbarThumb.$clone();r.X=r.X+this._scrollPosition.X|0;this._horizontalScrollbarVisible&&r.Contains(mousePosition.$clone())&&(this._startBoundsPos=mousePosition.X,this._scrollbarOrientation=Myra.Graphics2D.UI.Orientation.Horizontal)},OnMouseWheel:function(delta){(Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Widget).prototype.OnMouseWheel.call(this,delta),this._verticalScrollbarVisible)&&(delta<0?(this._scrollbarOrientation=Myra.Graphics2D.UI.Orientation.Vertical,this.MoveThumb(10)):delta>0&&(this._scrollbarOrientation=Myra.Graphics2D.UI.Orientation.Vertical,this.MoveThumb(-10)))},InternalRender:function(context){var r,r1;this.InternalChild!=null&&this.InternalChild.Visible&&(Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Widget).prototype.InternalRender.call(this,context),this._horizontalScrollbarVisible&&(this.HorizontalScrollBackground!=null&&context.Draw$1(this.HorizontalScrollBackground,this._horizontalScrollbarFrame.$clone()),r=this._horizontalScrollbarThumb.$clone(),r.X=r.X+this._scrollPosition.X|0,context.Draw$1(this.HorizontalScrollKnob,r.$clone())),this._verticalScrollbarVisible&&(this.VerticalScrollBackground!=null&&context.Draw$1(this.VerticalScrollBackground,this._verticalScrollbarFrame.$clone()),r1=this._verticalScrollbarThumb.$clone(),r1.Y=r1.Y+this._scrollPosition.Y|0,context.Draw$1(this.VerticalScrollKnob,r1.$clone())))},ApplyScrollPaneStyle:function(style){this.HorizontalScrollBackground=style.HorizontalScrollBackground;this.HorizontalScrollKnob=style.HorizontalScrollKnob;this.VerticalScrollBackground=style.VerticalScrollBackground;this.VerticalScrollKnob=style.VerticalScrollKnob;this.ApplyWidgetStyle(style)},InternalMeasure:function(availableSize){if(this.InternalChild==null)return Microsoft.Xna.Framework.Point.Zero.$clone();var measureSize=this.InternalChild.Measure(availableSize.$clone()),horizontalScrollbarVisible=this.AllowHorizontalScrolling&&measureSize.X>availableSize.X,verticalScrollbarVisible=this.AllowVerticalScrolling&&measureSize.Y>availableSize.Y;return(horizontalScrollbarVisible||verticalScrollbarVisible)&&(horizontalScrollbarVisible&&(measureSize.Y=measureSize.Y+this.HorizontalScrollKnob.Myra$Graphics2D$IRenderable$Size.X|0),verticalScrollbarVisible&&(measureSize.X=measureSize.X+this.VerticalScrollKnob.Myra$Graphics2D$IRenderable$Size.Y|0)),measureSize.$clone()},Arrange:function(){var mw,bh,mh;if(this.InternalChild!=null){var bounds=this.ActualBounds.$clone(),availableSize=Myra.Utility.GraphicsExtension.Size(bounds),measureSize=this.InternalChild.Measure(availableSize.$clone());if(this._horizontalScrollbarVisible=this.AllowHorizontalScrolling&&measureSize.X>bounds.Width,this._verticalScrollbarVisible=this.AllowVerticalScrolling&&measureSize.Y>bounds.Height,this._horizontalScrollbarVisible||this._verticalScrollbarVisible){this._horizontalScrollbarVisible&&(availableSize.Y=availableSize.Y-this.HorizontalScrollKnob.Myra$Graphics2D$IRenderable$Size.Y|0,availableSize.Y<0&&(availableSize.Y=0));this._verticalScrollbarVisible&&(availableSize.X=availableSize.X-this.VerticalScrollKnob.Myra$Graphics2D$IRenderable$Size.X|0,availableSize.X<0&&(availableSize.X=0));measureSize=this.InternalChild.Measure(availableSize.$clone());var vsWidth=this.VerticalScrollBackground!=null?this.VerticalScrollBackground.Myra$Graphics2D$IRenderable$Size.X:this.VerticalScrollKnob.Myra$Graphics2D$IRenderable$Size.X,hsHeight=this.HorizontalScrollBackground!=null?this.HorizontalScrollBackground.Myra$Graphics2D$IRenderable$Size.Y:this.HorizontalScrollKnob.Myra$Graphics2D$IRenderable$Size.Y,bw=bounds.Width-(this._verticalScrollbarVisible?vsWidth:0)|0;this._horizontalScrollbarFrame=new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.Left,bounds.Bottom-hsHeight|0,bw,hsHeight);mw=measureSize.X;mw===0&&(mw=1);this._horizontalScrollbarThumb=new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.Left,bounds.Bottom-hsHeight|0,Math.max(this.HorizontalScrollKnob.Myra$Graphics2D$IRenderable$Size.X,Bridge.Int.div(Bridge.Int.mul(bw,bw),mw)|0),this.HorizontalScrollKnob.Myra$Graphics2D$IRenderable$Size.Y);bh=bounds.Height-(this._horizontalScrollbarVisible?hsHeight:0)|0;this._verticalScrollbarFrame=new Microsoft.Xna.Framework.Rectangle.$ctor2((bounds.Left+bounds.Width|0)-vsWidth|0,bounds.Top,vsWidth,bh);mh=measureSize.Y;mh===0&&(mh=1);this._verticalScrollbarThumb=new Microsoft.Xna.Framework.Rectangle.$ctor2((bounds.Left+bounds.Width|0)-vsWidth|0,bounds.Top,this.VerticalScrollKnob.Myra$Graphics2D$IRenderable$Size.X,Math.max(this.VerticalScrollKnob.Myra$Graphics2D$IRenderable$Size.Y,Bridge.Int.div(Bridge.Int.mul(bh,bh),mh)|0));this._horizontalMaximum=bw-this._horizontalScrollbarThumb.Width|0;this._verticalMaximum=bh-this._verticalScrollbarThumb.Height|0;this._horizontalMaximum===0&&(this._horizontalMaximum=1);this._verticalMaximum===0&&(this._verticalMaximum=1);bounds.Width=this._horizontalScrollbarVisible?measureSize.X:availableSize.X;bounds.Height=this._verticalScrollbarVisible?measureSize.Y:availableSize.Y;this._scrollPosition.X<0&&(this._scrollPosition.X=0);this._scrollPosition.X>this._horizontalMaximum&&(this._scrollPosition.X=this._horizontalMaximum);this._scrollPosition.Y<0&&(this._scrollPosition.Y=0);this._scrollPosition.Y>this._verticalMaximum&&(this._scrollPosition.Y=this._verticalMaximum)}this.InternalChild.Layout(bounds.$clone());this.UpdateWidgetLocation()}},ResetScroll:function(){this._scrollPosition=Microsoft.Xna.Framework.Point.Zero.$clone();this.UpdateWidgetLocation()},DesktopMouseMoved:function(sender,args){if(System.Nullable.hasValue(this._startBoundsPos)){var position=this.Desktop.MousePosition.$clone(),delta;this._scrollbarOrientation===Myra.Graphics2D.UI.Orientation.Horizontal?(delta=position.X-System.Nullable.getValue(this._startBoundsPos)|0,this._startBoundsPos=position.X):(delta=position.Y-System.Nullable.getValue(this._startBoundsPos)|0,this._startBoundsPos=position.Y);this.MoveThumb(delta)}},DesktopTouchUp:function(sender,args){this._startBoundsPos=null},SetStyleByName:function(stylesheet,name){this.ApplyScrollPaneStyle(stylesheet.ScrollPaneStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.ScrollPaneStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.Button",{inherits:[Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Grid)],fields:{_textureRegion:null,_overTextureRegion:null,_pressedTextureRegion:null,_image:null,_textBlock:null},props:{Text:{get:function(){return this._textBlock.Text},set:function(value){this._textBlock.Text=value}},TextColor:{get:function(){return this._textBlock.TextColor.$clone()},set:function(value){this._textBlock.TextColor=value.$clone()}},Font:{get:function(){return this._textBlock.Font},set:function(value){this._textBlock.Font=value}},Image:{get:function(){return this._textureRegion},set:function(value){Bridge.referenceEquals(value,this._textureRegion)||(this._textureRegion=value,this.UpdateRenderable())}},OverImage:{get:function(){return this._overTextureRegion},set:function(value){Bridge.referenceEquals(value,this._textureRegion)||(this._overTextureRegion=value,this.UpdateRenderable())}},PressedImage:{get:function(){return this._pressedTextureRegion},set:function(value){Bridge.referenceEquals(value,this._pressedTextureRegion)||(this._pressedTextureRegion=value,this.UpdateRenderable())}},ImageWidth:{get:function(){return this._image.Width},set:function(value){this._image.Width=value}},ImageWidthHint:{get:function(){return this.ImageWidth},set:function(value){this.ImageWidth=value}},ImageHeight:{get:function(){return this._image.Height},set:function(value){this._image.Height=value}},ImageHeightHint:{get:function(){return this.ImageHeight},set:function(value){this.ImageHeight=value}},ImageVisible:{get:function(){return this._image.Visible},set:function(value){this._image.Visible=value}},ImageTextSpacing:{get:function(){return this.InternalChild.ColumnSpacing},set:function(value){this.InternalChild.ColumnSpacing=value}},ContentHorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"ContentHorizontalAlignment").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$ContentHorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"ContentHorizontalAlignment").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$ContentHorizontalAlignment=value}},ContentVerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"ContentVerticalAlignment").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$ContentVerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"ContentVerticalAlignment").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$ContentVerticalAlignment=value}}},ctors:{$ctor1:function(style){var $t;this.$initialize();Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Grid).ctor.call(this);this.InternalChild=new Myra.Graphics2D.UI.Grid;this.InternalChild.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this.InternalChild.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._image=($t=new Myra.Graphics2D.UI.Image,$t.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Center,$t.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center,$t);this.InternalChild.Widgets.add(this._image);this._textBlock=($t=new Myra.Graphics2D.UI.TextBlock.ctor,$t.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch,$t.GridPositionX=1,$t.Wrap=!0,$t);this.InternalChild.Widgets.add(this._textBlock);style!=null&&this.ApplyButtonStyle(style)},$ctor2:function(style){Myra.Graphics2D.UI.Button.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.ButtonStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.Button.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.ButtonStyle)}},methods:{ApplyButtonStyle:function(style){if(this.ApplyButtonBaseStyle(style),style.LabelStyle!=null&&this._textBlock.ApplyTextBlockStyle(style.LabelStyle),style.ImageStyle!=null){var imageStyle=style.ImageStyle;this._image.ApplyWidgetStyle(imageStyle);this.Image=imageStyle.Image;this.OverImage=imageStyle.OverImage;this.PressedImage=imageStyle.PressedImage;this._image.UpdateImageSize(imageStyle.Image);this._image.UpdateImageSize(imageStyle.OverImage);this._image.UpdateImageSize(imageStyle.PressedImage)}this.UpdateRenderable()},UpdateRenderable:function(){var image=this.Image;this.IsToggled&&this.PressedImage!=null?image=this.PressedImage:this.IsMouseOver&&this.OverImage!=null&&(image=this.OverImage);this._image.Renderable=image},OnMouseEntered:function(){Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Grid).prototype.OnMouseEntered.call(this);this.UpdateRenderable()},OnMouseLeft:function(){Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Grid).prototype.OnMouseLeft.call(this);this.UpdateRenderable()},OnPressedChanged:function(){Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Grid).prototype.OnPressedChanged.call(this);this.UpdateRenderable();this._textBlock.IsPressed=this.IsPressed},OnToggledChanged:function(){Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Grid).prototype.OnToggledChanged.call(this);this.UpdateRenderable()},SetStyleByName:function(stylesheet,name){this.ApplyButtonStyle(stylesheet.ButtonStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.ButtonStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.Window",{inherits:[Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid)],fields:{_startPos:null,_titleGrid:null,_titleLabel:null,_closeButton:null,_content:null,ModalResult:0,Result:!1,IsWindowPlaced:!1},events:{Closed:null},props:{Title:{get:function(){return this._titleLabel.Text},set:function(value){this._titleLabel.Text=value}},TitleTextColor:{get:function(){return this._titleLabel.TextColor.$clone()},set:function(value){this._titleLabel.TextColor=value.$clone()}},TitleFont:{get:function(){return this._titleLabel.Font},set:function(value){this._titleLabel.Font=value}},TitleGrid:{get:function(){return this._titleGrid}},CloseButton:{get:function(){return this._closeButton}},Content:{get:function(){return this._content},set:function(value){Bridge.referenceEquals(value,this.Content)||(this._content!=null&&this.InternalChild.Widgets.remove(this._content),value!=null&&(value.GridPositionY=1,this.InternalChild.Widgets.add(value)),this._content=value)}},HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}},VerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment=value}},CanFocus:{get:function(){return Bridge.ensureBaseProperty(this,"CanFocus").$Myra$Graphics2D$UI$Widget$CanFocus},set:function(value){Bridge.ensureBaseProperty(this,"CanFocus").$Myra$Graphics2D$UI$Widget$CanFocus=value}},Desktop:{get:function(){return Bridge.ensureBaseProperty(this,"Desktop").$Myra$Graphics2D$UI$Container$Desktop},set:function(value){this.Desktop!=null&&(this.Desktop.removeMouseMoved(Bridge.fn.cacheBind(this,this.DesktopOnMouseMoved)),this.Desktop.removeTouchUp(Bridge.fn.cacheBind(this,this.DesktopTouchUp)));Bridge.ensureBaseProperty(this,"Desktop").$Myra$Graphics2D$UI$Container$Desktop=value;this.Desktop!=null&&(this.Desktop.addMouseMoved(Bridge.fn.cacheBind(this,this.DesktopOnMouseMoved)),this.Desktop.addTouchUp(Bridge.fn.cacheBind(this,this.DesktopTouchUp)));this.IsWindowPlaced=!1}}},ctors:{$ctor1:function(style){var $t;this.$initialize();Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid).ctor.call(this);this.InternalChild=new Myra.Graphics2D.UI.Grid;this.ModalResult=Myra.Graphics2D.UI.Window.DefaultModalResult.Cancel;this.Result=!1;this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Left;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Top;this.CanFocus=!0;this.InternalChild.RowSpacing=8;this.InternalChild.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Auto));this.InternalChild.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Fill));this._titleGrid=($t=new Myra.Graphics2D.UI.Grid,$t.ColumnSpacing=8,$t);this._titleGrid.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Fill));this._titleGrid.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Auto));this._titleLabel=new Myra.Graphics2D.UI.TextBlock.ctor;this._titleGrid.Widgets.add(this._titleLabel);this._closeButton=($t=new Myra.Graphics2D.UI.ImageButton.ctor,$t.GridPositionX=1,$t);this._closeButton.addClick(Bridge.fn.bind(this,function(sender,args){this.Close()}));this._titleGrid.Widgets.add(this._closeButton);this.InternalChild.Widgets.add(this._titleGrid);style!=null&&this.ApplyWindowStyle(style)},$ctor2:function(style){Myra.Graphics2D.UI.Window.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.WindowStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.Window.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.WindowStyle)}},methods:{UpdateLayout:function(){Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid).prototype.UpdateLayout.call(this);this.IsWindowPlaced||(this.CenterOnDesktop(),this.IsWindowPlaced=!0)},CenterOnDesktop:function(){if(this.Desktop!=null){var size=Myra.Utility.GraphicsExtension.Size(this.Bounds);this.Left=Bridge.Int.div(this.ContainerBounds.Width-size.X|0,2)|0;this.Top=Bridge.Int.div(this.ContainerBounds.Height-size.Y|0,2)|0}},DesktopOnMouseMoved:function(sender,args){var bottom;if(!System.Nullable.lifteq(Microsoft.Xna.Framework.Point.op_Equality,System.Nullable.lift1("$clone",this._startPos),null)){var position=this.Desktop.MousePosition.$clone(),delta=new Microsoft.Xna.Framework.Point.$ctor2(position.X-System.Nullable.getValue(this._startPos).X|0,position.Y-System.Nullable.getValue(this._startPos).Y|0),right=delta.X+this.Bounds.Width|0;this.Parent!=null?right>this.Parent.Bounds.Right&&(delta.X=this.Parent.Bounds.Right-this.Bounds.Width|0):this.Desktop!=null&&right>this.Desktop.Bounds.Right&&(delta.X=this.Desktop.Bounds.Right-this.Bounds.Width|0);bottom=delta.Y+this.Bounds.Height|0;this.Parent!=null?bottom>this.Parent.Bounds.Bottom&&(delta.Y=this.Parent.Bounds.Bottom-this.Bounds.Height|0):this.Desktop!=null&&bottom>this.Desktop.Bounds.Bottom&&(delta.Y=this.Desktop.Bounds.Bottom-this.Bounds.Height|0);this.Left=this.Left+delta.X|0;this.Left<0&&(this.Left=0);this.Desktop!=null&&(this.Left+this.Bounds.Width|0)>this.Desktop.Bounds.Right&&(this.Left=this.Desktop.Bounds.Right-this.Bounds.Width|0);this.Top=this.Top+delta.Y|0;this.Top<0&&(this.Top=0);this.Desktop!=null&&(this.Top+this.Bounds.Height|0)>this.Desktop.Bounds.Bottom&&(this.Top=this.Desktop.Bounds.Bottom-this.Bounds.Height|0);this._startPos=position.$clone()}},DesktopTouchUp:function(sender,args){this._startPos=null},OnTouchUp:function(){Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid).prototype.OnTouchUp.call(this);this._startPos=null},OnTouchDown:function(){Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid).prototype.OnTouchDown.call(this);var x=this.Bounds.X,y=this.Bounds.Y,bounds=new Microsoft.Xna.Framework.Rectangle.$ctor2(x,y,this._titleGrid.Bounds.Right-x|0,this._titleGrid.Bounds.Bottom-y|0),mousePos=this.Desktop.MousePosition.$clone();bounds.Contains(mousePos.$clone())&&(this._startPos=mousePos.$clone())},ApplyWindowStyle:function(style){this.ApplyWidgetStyle(style);style.TitleStyle!=null&&this._titleLabel.ApplyTextBlockStyle(style.TitleStyle);style.CloseButtonStyle!=null&&this._closeButton.ApplyImageButtonStyle(style.CloseButtonStyle)},ShowModal:function(desktop){desktop.Widgets.add(this);desktop.FocusedWidget=this},Close:function(){if(this.Desktop!=null&&this.Desktop.Widgets.contains(this)){Bridge.referenceEquals(this.Desktop.FocusedWidget,this)&&(this.Desktop.FocusedWidget=null);this.Desktop.Widgets.remove(this);var ev=this.Closed;Bridge.staticEquals(ev,null)||ev(this,{})}},SetStyleByName:function(stylesheet,name){this.ApplyWindowStyle(stylesheet.WindowStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.WindowStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.Menu",{inherits:[Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid),Myra.Graphics2D.UI.IMenuItemsContainer],fields:{_items:null,MenuItemStyle:null,SeparatorStyle:null,OpenMenuItem:null},props:{IsOpen:{get:function(){return this.OpenMenuItem!=null}},Items:{get:function(){return this._items},set:function(value){var $t,$t1,menuItem,menuItem1;if(!Bridge.referenceEquals(this._items,value)){if(this._items!=null){this._items.removeCollectionChanged(Bridge.fn.cacheBind(this,this.ItemsOnCollectionChanged));$t=Bridge.getEnumerator(this._items);try{while($t.moveNext())menuItem=$t.Current,this.RemoveItem(menuItem)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}if(this._items=value,this._items!=null){this._items.addCollectionChanged(Bridge.fn.cacheBind(this,this.ItemsOnCollectionChanged));$t1=Bridge.getEnumerator(this._items);try{while($t1.moveNext())menuItem1=$t1.Current,this.AddItem(menuItem1)}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}}}},Desktop:{get:function(){return Bridge.ensureBaseProperty(this,"Desktop").$Myra$Graphics2D$UI$Container$Desktop},set:function(value){this.Desktop!=null&&(this.Desktop.removeContextMenuClosing(Bridge.fn.cacheBind(this,this.DesktopOnContextMenuClosing)),this.Desktop.removeContextMenuClosed(Bridge.fn.cacheBind(this,this.DesktopOnContextMenuClosed)));Bridge.ensureBaseProperty(this,"Desktop").$Myra$Graphics2D$UI$Container$Desktop=value;this.Desktop!=null&&(this.Desktop.addContextMenuClosing(Bridge.fn.cacheBind(this,this.DesktopOnContextMenuClosing)),this.Desktop.addContextMenuClosed(Bridge.fn.cacheBind(this,this.DesktopOnContextMenuClosed)))}}},alias:["Items","Myra$Graphics2D$UI$IMenuItemsContainer$Items"],ctors:{ctor:function(style){this.$initialize();Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid).ctor.call(this);this.InternalChild=new Myra.Graphics2D.UI.Grid;this.OpenMenuItem=null;this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch;style!=null&&this.ApplyMenuStyle(style);this.Items=new(System.Collections.ObjectModel.ObservableCollection$1(Myra.Graphics2D.UI.IMenuItem).ctor)}},methods:{ItemsOnCollectionChanged:function(sender,args){var $t,$t1,index,item,item1;if(args.Action===System.Collections.Specialized.NotifyCollectionChangedAction.Add){index=args.NewStartingIndex;$t=Bridge.getEnumerator(args.NewItems);try{while($t.moveNext())item=Bridge.cast($t.Current,Myra.Graphics2D.UI.IMenuItem),this.InsertItem(item,index),index=index+1|0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}else if(args.Action===System.Collections.Specialized.NotifyCollectionChangedAction.Remove){$t1=Bridge.getEnumerator(args.OldItems);try{while($t1.moveNext())item1=Bridge.cast($t1.Current,Myra.Graphics2D.UI.IMenuItem),this.RemoveItem(item1)}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}}},FindMenuItemById:function(id){var $t,item,asMenuItem,result;$t=Bridge.getEnumerator(this._items);try{while($t.moveNext())if((item=$t.Current,asMenuItem=Bridge.as(item,Myra.Graphics2D.UI.MenuItem),asMenuItem!=null)&&(result=asMenuItem.FindMenuItemById(id),result!=null))return result}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return null},UpdateGridPositions:function(){for(var widget,i=0;i<this.InternalChild.Widgets.Count;i=i+1|0)widget=this.InternalChild.Widgets.getItem(i),this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?widget.GridPositionX=i:widget.GridPositionY=i},AddItem$1:function(menuItem,index){this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.InternalChild.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Auto)):(menuItem.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch,menuItem.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch,this.InternalChild.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Auto)));this.InternalChild.Widgets.insert(index,menuItem);this.UpdateGridPositions()},AddItem:function(item){this.InsertItem(item,this.InternalChild.Widgets.Count)},MenuItemOnChanged:function(sender,eventArgs){var $t,menuItem=Bridge.cast(sender,Myra.Graphics2D.UI.MenuItem),asMenuItemButton=Bridge.as(menuItem.Widget,Myra.Graphics2D.UI.MenuItemButton);asMenuItemButton!=null&&(asMenuItemButton.Text=menuItem.Text,asMenuItemButton.TextColor=($t=menuItem.Color,$t!=null?$t:this.MenuItemStyle.LabelStyle.TextColor))},InsertItem:function(iMenuItem,index){var $t,menuItem=Bridge.as(iMenuItem,Myra.Graphics2D.UI.MenuItem),widget,menuItemButton;menuItem!=null?(menuItem.addChanged(Bridge.fn.cacheBind(this,this.MenuItemOnChanged)),menuItemButton=($t=new Myra.Graphics2D.UI.MenuItemButton(this.MenuItemStyle),$t.Text=menuItem.Text,$t.Tag=menuItem,$t),System.Nullable.hasValue(menuItem.Color)&&(menuItemButton.TextColor=System.Nullable.getValue(menuItem.Color).$clone()),menuItemButton.addMouseEntered(Bridge.fn.cacheBind(this,this.MouseOnEntered)),menuItemButton.addMouseLeft(Bridge.fn.cacheBind(this,this.MouseOnLeft)),menuItemButton.SubMenu.Items=menuItem.Items,menuItemButton.Toggleable=menuItem.Items.Count>0,menuItemButton.Toggleable?menuItemButton.addToggledChanged(Bridge.fn.cacheBind(this,this.ButtonOnToggledChanged)):menuItemButton.addClick(Bridge.fn.cacheBind(this,this.ButtonOnClick)),widget=menuItemButton):widget=this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?new Myra.Graphics2D.UI.VerticalSeparator.$ctor1(this.SeparatorStyle):new Myra.Graphics2D.UI.HorizontalSeparator.$ctor1(this.SeparatorStyle);iMenuItem.Myra$Graphics2D$UI$IMenuItem$Menu=this;iMenuItem.Myra$Graphics2D$UI$IMenuItem$Widget=widget;this.AddItem$1(widget,index);this.UpdateGridPositions()},RemoveItem:function(iMenuItem){var menuItem=Bridge.as(iMenuItem,Myra.Graphics2D.UI.MenuItem),widget,asMenuItemButton,index;(menuItem!=null&&menuItem.removeChanged(Bridge.fn.cacheBind(this,this.MenuItemOnChanged)),widget=iMenuItem.Myra$Graphics2D$UI$IMenuItem$Widget,widget!=null)&&(asMenuItemButton=Bridge.as(widget,Myra.Graphics2D.UI.MenuItemButton),asMenuItemButton!=null&&(asMenuItemButton.removeToggledChanged(Bridge.fn.cacheBind(this,this.ButtonOnToggledChanged)),asMenuItemButton.removeClick(Bridge.fn.cacheBind(this,this.ButtonOnClick)),asMenuItemButton.removeMouseEntered(Bridge.fn.cacheBind(this,this.MouseOnEntered)),asMenuItemButton.removeMouseLeft(Bridge.fn.cacheBind(this,this.MouseOnLeft))),index=this.InternalChild.Widgets.indexOf(widget),this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.InternalChild.ColumnsProportions.removeAt(index):this.InternalChild.RowsProportions.removeAt(index),this.InternalChild.Widgets.removeAt(index),this.UpdateGridPositions())},Close:function(){this.Desktop.HideContextMenu()},ShowSubMenu:function(menuItem){(this.OpenMenuItem!=null&&(this.OpenMenuItem.IsToggled=!1),menuItem!=null&&menuItem.CanOpen)&&(this.Desktop.ShowContextMenu(menuItem.SubMenu,new Microsoft.Xna.Framework.Point.$ctor2(menuItem.Bounds.X,this.Bounds.Bottom)),this.Desktop.addContextMenuClosed(Bridge.fn.cacheBind(this,this.DesktopOnContextMenuClosed)),this.OpenMenuItem=menuItem)},DesktopOnContextMenuClosing:function(sender,args){this.OpenMenuItem!=null&&this.OpenMenuItem.Bounds.Contains(this.Desktop.MousePosition.$clone())&&(args.Cancel=!0)},DesktopOnContextMenuClosed:function(sender,genericEventArgs){this.OpenMenuItem!=null&&(this.OpenMenuItem.IsToggled=!1,this.OpenMenuItem=null)},MouseOnEntered:function(sender,eventArgs){if(this.IsOpen){var menuItemButton=Bridge.cast(sender,Myra.Graphics2D.UI.MenuItemButton);menuItemButton.CanOpen&&!Bridge.referenceEquals(this.OpenMenuItem,menuItemButton)&&(menuItemButton.IsToggled=!0)}},MouseOnLeft:function(sender,eventArgs){},ButtonOnToggledChanged:function(sender,eventArgs){if(this.Desktop!=null){var menuItemButton=Bridge.cast(sender,Myra.Graphics2D.UI.MenuItemButton);menuItemButton.IsToggled?menuItemButton.CanOpen&&this.ShowSubMenu(menuItemButton):this.Close()}},ButtonOnClick:function(sender,eventArgs){if(this.Desktop!=null){this.Close();var menuItem=Bridge.cast(sender,Myra.Graphics2D.UI.MenuItemButton);menuItem.CanOpen||Bridge.cast(menuItem.Tag,Myra.Graphics2D.UI.MenuItem).FireSelected()}},Click:function(menuItemButton){if(this.Desktop!=null&&menuItemButton.Enabled){var menuItem=Bridge.cast(menuItemButton.Tag,Myra.Graphics2D.UI.MenuItem);menuItemButton.CanOpen?menuItemButton.IsToggled=!0:(this.Close(),menuItem.FireSelected())}},GetSelectedIndex:function(){var selectedIndex=-1,i;if(this.OpenMenuItem!=null)selectedIndex=this.InternalChild.Widgets.indexOf(this.OpenMenuItem);else for(i=0;i<this.InternalChild.Widgets.Count;i=i+1|0)if(this.InternalChild.Widgets.getItem(i).IsMouseOver){selectedIndex=i;break}return selectedIndex},OnKeyDown:function(k){var $t,selectedIndex,button,ch,w,button1;if(Myra.MyraEnvironment.ShowUnderscores){if((k===Microsoft.Xna.Framework.Input.Keys.Enter||k===Microsoft.Xna.Framework.Input.Keys.Space)&&(selectedIndex=this.GetSelectedIndex(),selectedIndex!==-1&&(button=Bridge.as(this.InternalChild.Widgets.getItem(selectedIndex),Myra.Graphics2D.UI.MenuItemButton),button!=null&&!button.CanOpen))){this.Click(button);return}ch=Myra.Utility.Input.ToChar(k,!1);$t=Bridge.getEnumerator(this.InternalChild.Widgets);try{while($t.moveNext())if((w=$t.Current,button1=Bridge.as(w,Myra.Graphics2D.UI.MenuItemButton),button1!=null)&&ch!=null&&System.Nullable.eq(button1.UnderscoreChar,ch)){this.Click(button1);return}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this.OpenMenuItem!=null&&this.OpenMenuItem.SubMenu.OnKeyDown(k)}},MoveSelection:function(delta){var menuItemButton;if(this.InternalChild.Widgets.Count!==0){for(var selectedIndex=this.GetSelectedIndex(),oldIndex=selectedIndex,iterations=0;;){if(iterations>this.InternalChild.Widgets.Count)return;if(selectedIndex=selectedIndex+delta|0,selectedIndex<0&&(selectedIndex=this.InternalChild.Widgets.Count-1|0),selectedIndex>=this.InternalChild.Widgets.Count&&(selectedIndex=0),Bridge.is(this.InternalChild.Widgets.getItem(selectedIndex),Myra.Graphics2D.UI.MenuItemButton))break;iterations=iterations+1|0}selectedIndex<0||selectedIndex>=this.InternalChild.Widgets.Count||selectedIndex===oldIndex||(oldIndex!==-1&&(menuItemButton=Bridge.as(this.InternalChild.Widgets.getItem(oldIndex),Myra.Graphics2D.UI.MenuItemButton),menuItemButton!=null&&(menuItemButton.IsToggled=!1)),menuItemButton=Bridge.as(this.InternalChild.Widgets.getItem(selectedIndex),Myra.Graphics2D.UI.MenuItemButton),menuItemButton!=null&&menuItemButton.CanOpen&&(menuItemButton.IsToggled=!0))}},ApplyMenuStyle:function(style){this.ApplyWidgetStyle(style);this.MenuItemStyle=style.MenuItemStyle;this.SeparatorStyle=style.SeparatorStyle}}});Bridge.define("Myra.Graphics2D.UI.ProgressBar",{inherits:[Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid)],fields:{_filledImage:null,_value:0,Minimum:0,Maximum:0},events:{ValueChanged:null},props:{Value:{get:function(){return this._value},set:function(value){var v,delta;Myra.Utility.Mathematics.EpsilonEquals(this._value,value)||(this._value=value,v=value,v<this.Minimum&&(v=this.Minimum),v>this.Maximum&&(v=this.Maximum),delta=this.Maximum-this.Minimum,Myra.Utility.Mathematics.IsZero(delta))||(this.Hint=(v-this.Minimum)/delta)}},Hint:{get:function(){return this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.InternalChild.GetColumnProportion(0).Value:this.InternalChild.GetRowProportion(1).Value},set:function(value){if(!Myra.Utility.Mathematics.EpsilonEquals(this.Hint,value)){this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.InternalChild.ColumnsProportions.getItem(0).Value=value:this.InternalChild.RowsProportions.getItem(1).Value=value;var ev=this.ValueChanged;Bridge.staticEquals(ev,null)||ev(this,{})}}}},ctors:{ctor:function(style){var $t;this.$initialize();Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid).ctor.call(this);this.InternalChild=new Myra.Graphics2D.UI.Grid;this._filledImage=($t=new Myra.Graphics2D.UI.Image,$t.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch,$t.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch,$t);this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?(this.InternalChild.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor2(Myra.Graphics2D.UI.Grid.ProportionType.Part,0)),this.InternalChild.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Fill)),this.InternalChild.TotalColumnsPart=1):(this.InternalChild.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Fill)),this.InternalChild.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor2(Myra.Graphics2D.UI.Grid.ProportionType.Part,0)),this.InternalChild.TotalRowsPart=1,this._filledImage.GridPositionY=1);this.InternalChild.Widgets.add(this._filledImage);style!=null&&this.ApplyProgressBarStyle(style);this.Maximum=100}},methods:{ApplyProgressBarStyle:function(style){(this.ApplyWidgetStyle(style),style.Filled!=null)&&(this._filledImage.Renderable=style.Filled,this._filledImage.UpdateImageSize(style.Filled))}}});Bridge.define("Myra.Graphics2D.UI.SeparatorWidget",{inherits:[Myra.Graphics2D.UI.Image],fields:{_orientation:0},ctors:{ctor:function(orientation,style){this.$initialize();Myra.Graphics2D.UI.Image.ctor.call(this);this._orientation=orientation;style!=null&&this.ApplyMenuSeparatorStyle(style)}},methods:{ApplyMenuSeparatorStyle:function(style){this.ApplyWidgetStyle(style);this.Renderable=style.Image;this._orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.Height=style.Thickness:this.Width=style.Thickness},InternalRender:function(context){Myra.Graphics2D.UI.Image.prototype.InternalRender.call(this,context)}}});Bridge.define("Myra.Graphics2D.UI.ImageButton",{inherits:[Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Image)],fields:{_image:null,_overImage:null,_pressedImage:null},props:{Image:{get:function(){return this._image},set:function(value){Bridge.referenceEquals(value,this._image)||(this._image=value,this.UpdateTextureRegion())}},OverImage:{get:function(){return this._overImage},set:function(value){Bridge.referenceEquals(value,this._image)||(this._overImage=value,this.UpdateTextureRegion())}},PressedImage:{get:function(){return this._pressedImage},set:function(value){Bridge.referenceEquals(value,this._pressedImage)||(this._pressedImage=value,this.UpdateTextureRegion())}},ImageWidthHint:{get:function(){return this.InternalChild.Width},set:function(value){this.InternalChild.Width=value}},ImageHeightHint:{get:function(){return this.InternalChild.Height},set:function(value){this.InternalChild.Height=value}}},ctors:{$ctor1:function(style){var $t;this.$initialize();Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Image).ctor.call(this);this.InternalChild=($t=new Myra.Graphics2D.UI.Image,$t.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Center,$t.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center,$t);style!=null&&this.ApplyImageButtonStyle(style)},$ctor2:function(style){Myra.Graphics2D.UI.ImageButton.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.ImageButtonStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.ImageButton.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.ImageButtonStyle)}},methods:{ApplyImageButtonStyle:function(style){this.ApplyButtonBaseStyle(style);var imageStyle=style.ImageStyle;this.InternalChild.ApplyWidgetStyle(imageStyle);this.Image=imageStyle.Image;this.OverImage=imageStyle.OverImage;this.PressedImage=imageStyle.PressedImage;this.InternalChild.Width=null;this.InternalChild.Height=null;this.InternalChild.UpdateImageSize(imageStyle.Image);this.InternalChild.UpdateImageSize(imageStyle.OverImage);this.InternalChild.UpdateImageSize(imageStyle.PressedImage);this.UpdateTextureRegion()},UpdateTextureRegion:function(){var image=this.Image;this.ShowAsPressed&&this.PressedImage!=null?image=this.PressedImage:this.IsMouseOver&&this.OverImage!=null&&(image=this.OverImage);this.InternalChild.Renderable=image},OnMouseEntered:function(){Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Image).prototype.OnMouseEntered.call(this);this.UpdateTextureRegion()},OnMouseLeft:function(){Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Image).prototype.OnMouseLeft.call(this);this.UpdateTextureRegion()},OnPressedChanged:function(){Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Image).prototype.OnPressedChanged.call(this);this.UpdateTextureRegion()},OnToggledChanged:function(){Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Image).prototype.OnToggledChanged.call(this);this.UpdateTextureRegion()},SetStyleByName:function(stylesheet,name){this.ApplyImageButtonStyle(stylesheet.ImageButtonStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.ImageButtonStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.SplitPane",{inherits:[Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid)],fields:{_widgets:null,_handles:null,_handleDown:null,_mouseCoord:null,_handlesSize:0,HandleStyle:null},events:{ProportionsChanged:null},props:{Widgets:{get:function(){return this._widgets}},HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}},VerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment=value}}},ctors:{init:function(){this._widgets=new(System.Collections.ObjectModel.ObservableCollection$1(Myra.Graphics2D.UI.Widget).ctor);this._handles=new(System.Collections.Generic.List$1(Myra.Graphics2D.UI.ImageButton).ctor)},ctor:function(style){this.$initialize();Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid).ctor.call(this);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch;this.InternalChild=new Myra.Graphics2D.UI.Grid;this._widgets.addCollectionChanged(Bridge.fn.cacheBind(this,this.WidgetsOnCollectionChanged));style!=null&&this.ApplySplitPaneStyle(style)}},methods:{GetProportion:function(widgetIndex){if(widgetIndex<0||widgetIndex>=this.Widgets.Count)return 0;return this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.InternalChild.ColumnsProportions.getItem(Bridge.Int.mul(widgetIndex,2)).Value:this.InternalChild.RowsProportions.getItem(Bridge.Int.mul(widgetIndex,2)).Value},OnMouseMoved:function(){var bounds,handleIndex,firstProportion,secondProportion,fp,position,firstWidth,i,firstHeight,i1,fp2;if((Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid).prototype.OnMouseMoved.call(this),this._mouseCoord!=null)&&(bounds=this.Bounds.$clone(),bounds.Width!==0)){if(handleIndex=this.InternalChild.Widgets.indexOf(this._handleDown),position=this.Desktop.MousePosition.$clone(),this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal){for(firstWidth=(position.X-bounds.X|0)-System.Nullable.getValue(this._mouseCoord)|0,i=0;i<(handleIndex-1|0);i=i+1|0)firstWidth=firstWidth-this.InternalChild.GetColumnWidth(i)|0;fp=this.Widgets.Count*firstWidth/(bounds.Width-this._handlesSize|0);firstProportion=this.InternalChild.ColumnsProportions.getItem(handleIndex-1|0);secondProportion=this.InternalChild.ColumnsProportions.getItem(handleIndex+1|0)}else{for(firstHeight=(position.Y-bounds.Y|0)-System.Nullable.getValue(this._mouseCoord)|0,i1=0;i1<(handleIndex-1|0);i1=i1+1|0)firstHeight=firstHeight-this.InternalChild.GetRowHeight(i1)|0;fp=this.Widgets.Count*firstHeight/(bounds.Height-this._handlesSize|0);firstProportion=this.InternalChild.RowsProportions.getItem(handleIndex-1|0);secondProportion=this.InternalChild.RowsProportions.getItem(handleIndex+1|0)}fp>=0&&fp<=2&&(fp2=firstProportion.Value+secondProportion.Value-fp,firstProportion.Value=fp,secondProportion.Value=fp2,this.FireProportionsChanged())}},FireProportionsChanged:function(){var ev=this.ProportionsChanged;Bridge.staticEquals(ev,null)||ev(this,{})},HandleOnPressedChanged:function(sender,args){var handle=Bridge.cast(sender,Myra.Graphics2D.UI.ImageButton);handle.IsPressed?(this._handleDown=Bridge.cast(sender,Myra.Graphics2D.UI.ImageButton),this._mouseCoord=this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.Desktop.MousePosition.X-this._handleDown.Bounds.X|0:this.Desktop.MousePosition.Y-this._handleDown.Bounds.Y|0):(this._handleDown=null,this._mouseCoord=null)},WidgetsOnCollectionChanged:function(sender,args){this.Reset()},GetProportions:function(leftWidgetIndex,leftProportion,rightProportion){var baseIndex=Bridge.Int.mul(leftWidgetIndex,2);leftProportion.v=this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.InternalChild.ColumnsProportions.getItem(baseIndex):this.InternalChild.RowsProportions.getItem(baseIndex);rightProportion.v=this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.InternalChild.ColumnsProportions.getItem(baseIndex+2|0):this.InternalChild.RowsProportions.getItem(baseIndex+2|0)},GetSplitterPosition:function(leftWidgetIndex){var leftProportion={},rightProportion={},total;return this.GetProportions(leftWidgetIndex,leftProportion,rightProportion),total=leftProportion.v.Value+rightProportion.v.Value,leftProportion.v.Value/total},SetSplitterPosition:function(leftWidgetIndex,proportion){var leftProportion={},rightProportion={};this.GetProportions(leftWidgetIndex,leftProportion,rightProportion);var total=leftProportion.v.Value+rightProportion.v.Value,fp=proportion*total,fp2=total-fp;leftProportion.v.Value=fp;rightProportion.v.Value=fp2},Reset:function(){var $t,$t1,i,handleSize,w,proportion,handle,h;this.InternalChild.Widgets.clear();this._handles.clear();this._handlesSize=0;this.InternalChild.ColumnsProportions.clear();this.InternalChild.RowsProportions.clear();i=0;handleSize=this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.HandleStyle.Background.Myra$Graphics2D$IRenderable$Size.X:this.HandleStyle.Background.Myra$Graphics2D$IRenderable$Size.Y;$t=Bridge.getEnumerator(this._widgets);try{while($t.moveNext())w=$t.Current,i>0&&(handle=($t1=new Myra.Graphics2D.UI.ImageButton.$ctor1(this.HandleStyle),$t1.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch,$t1.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch,$t1.CanFocus=!1,$t1.ReleaseOnMouseLeft=!1,$t1),handle.addPressedChanged(Bridge.fn.cacheBind(this,this.HandleOnPressedChanged)),proportion=new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Auto),this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?(this._handlesSize=this._handlesSize+handleSize|0,handle.GridPositionX=Bridge.Int.mul(i,2)-1|0,this.InternalChild.ColumnsProportions.add(proportion)):(this._handlesSize=this._handlesSize+handleSize|0,handle.GridPositionY=Bridge.Int.mul(i,2)-1|0,this.InternalChild.RowsProportions.add(proportion)),this.InternalChild.Widgets.add(handle),this._handles.add(handle)),proportion=i<(this._widgets.Count-1|0)?new Myra.Graphics2D.UI.Grid.Proportion.$ctor2(Myra.Graphics2D.UI.Grid.ProportionType.Part,1):new Myra.Graphics2D.UI.Grid.Proportion.$ctor2(Myra.Graphics2D.UI.Grid.ProportionType.Fill,1),this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?(w.GridPositionX=Bridge.Int.mul(i,2),this.InternalChild.ColumnsProportions.add(proportion)):(w.GridPositionY=Bridge.Int.mul(i,2),this.InternalChild.RowsProportions.add(proportion)),this.InternalChild.Widgets.add(w),i=i+1|0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}$t1=Bridge.getEnumerator(this._handles);try{while($t1.moveNext())h=$t1.Current,this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?(h.Width=handleSize,h.Height=null):(h.Width=null,h.Height=handleSize)}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}this.FireProportionsChanged()},ApplySplitPaneStyle:function(style){this.ApplyWidgetStyle(style);this.HandleStyle=style.HandleStyle;this.Reset()}}});Bridge.define("Myra.Graphics2D.UI.ListBox",{inherits:[Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid)],fields:{_selectedItem:null,_items:null,ListBoxStyle:null},events:{SelectedIndexChanged:null},props:{Items:{get:function(){return this._items}},SelectedIndex:{get:function(){return this._selectedItem==null?null:this._items.indexOf(this._selectedItem)},set:function(value){if(value==null||System.Nullable.getValue(value)<0||System.Nullable.getValue(value)>=this.Items.Count){this.SelectedItem=null;return}this.SelectedItem=this.Items.getItem(System.Nullable.getValue(value))}},SelectedItem:{get:function(){return this._selectedItem},set:function(value){if(!Bridge.referenceEquals(value,this._selectedItem)){this._selectedItem!=null&&(Bridge.cast(this._selectedItem.Widget,Myra.Graphics2D.UI.Button).IsToggled=!1);this._selectedItem=value;this._selectedItem!=null&&(Bridge.cast(this._selectedItem.Widget,Myra.Graphics2D.UI.Button).IsToggled=!0,this._selectedItem.FireSelected());var ev=this.SelectedIndexChanged;Bridge.staticEquals(ev,null)||ev(this,{})}}}},ctors:{init:function(){this._items=new(System.Collections.ObjectModel.ObservableCollection$1(Myra.Graphics2D.UI.ListItem).ctor)},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid).ctor.call(this);this.InternalChild=new Myra.Graphics2D.UI.Grid;this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Left;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Top;style!=null&&this.ApplyListBoxStyle(style);this._items.addCollectionChanged(Bridge.fn.cacheBind(this,this.ItemsOnCollectionChanged))},$ctor2:function(style){Myra.Graphics2D.UI.ListBox.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.ListBoxStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.ListBox.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.ListBoxStyle)}},methods:{ItemsOnCollectionChanged:function(sender,args){var $t,$t1,index,item,item1;switch(args.Action){case System.Collections.Specialized.NotifyCollectionChangedAction.Add:index=args.NewStartingIndex;$t=Bridge.getEnumerator(args.NewItems);try{while($t.moveNext())item=Bridge.cast($t.Current,Myra.Graphics2D.UI.ListItem),this.InsertItem(item,index),index=index+1|0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}break;case System.Collections.Specialized.NotifyCollectionChangedAction.Remove:$t1=Bridge.getEnumerator(args.OldItems);try{while($t1.moveNext())item1=Bridge.cast($t1.Current,Myra.Graphics2D.UI.ListItem),this.RemoveItem(item1)}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}break;case System.Collections.Specialized.NotifyCollectionChangedAction.Reset:while(this.InternalChild.Widgets.Count>0)this.RemoveItem(Bridge.cast(this.InternalChild.Widgets.getItem(0).Tag,Myra.Graphics2D.UI.ListItem));break}this.InvalidateMeasure()},ItemOnChanged:function(sender,eventArgs){var $t,item=Bridge.cast(sender,Myra.Graphics2D.UI.ListItem),button=Bridge.cast(item.Widget,Myra.Graphics2D.UI.Button);button.Text=item.Text;button.TextColor=($t=item.Color,$t!=null?$t:this.ListBoxStyle.ListItemStyle.LabelStyle.TextColor);this.InvalidateMeasure()},UpdateGridPositions:function(){for(var widget,i=0;i<this.Items.Count;i=i+1|0)widget=this.InternalChild.Widgets.getItem(i),widget.GridPositionY=i},InsertItem:function(item,index){var $t,$t1,widget;item.addChanged(Bridge.fn.cacheBind(this,this.ItemOnChanged));widget=null;item.IsSeparator?widget=new Myra.Graphics2D.UI.HorizontalSeparator.$ctor1(this.ListBoxStyle.SeparatorStyle):(widget=($t=new Myra.Graphics2D.UI.Button.$ctor1(this.ListBoxStyle.ListItemStyle),$t.Text=item.Text,$t.TextColor=($t1=item.Color,$t1!=null?$t1:this.ListBoxStyle.ListItemStyle.LabelStyle.TextColor),$t.Tag=item,$t.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch,$t.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch,$t.Image=item.Image,$t.ImageTextSpacing=item.ImageTextSpacing,$t.Toggleable=!0,$t),Bridge.cast(widget,Myra.Graphics2D.UI.Button).addClick(Bridge.fn.cacheBind(this,this.ButtonOnClick)));this.InternalChild.RowsProportions.insert(index,new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Auto));this.InternalChild.Widgets.insert(index,widget);item.Widget=widget;this.UpdateGridPositions()},RemoveItem:function(item){item.removeChanged(Bridge.fn.cacheBind(this,this.ItemOnChanged));var index=this.InternalChild.Widgets.indexOf(item.Widget);this.InternalChild.RowsProportions.removeAt(index);this.InternalChild.Widgets.removeAt(index);Bridge.referenceEquals(this.SelectedItem,item)&&(this.SelectedItem=null);this.UpdateGridPositions()},ButtonOnClick:function(sender,eventArgs){var item=Bridge.cast(sender,Myra.Graphics2D.UI.Button),index=this.InternalChild.Widgets.indexOf(item);this.SelectedIndex=index},ApplyListBoxStyle:function(style){var $t,item,asButton,asSeparator;this.ApplyWidgetStyle(style);this.ListBoxStyle=style;$t=Bridge.getEnumerator(this.Items);try{while($t.moveNext())item=$t.Current,asButton=Bridge.as(item.Widget,Myra.Graphics2D.UI.Button),asButton!=null&&asButton.ApplyButtonStyle(style.ListItemStyle),asSeparator=Bridge.as(item.Widget,Myra.Graphics2D.UI.SeparatorWidget),asSeparator!=null&&asSeparator.ApplyMenuSeparatorStyle(style.SeparatorStyle)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}},SetStyleByName:function(stylesheet,name){this.ApplyListBoxStyle(stylesheet.ListBoxStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.ListBoxStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.MenuItemButton",{inherits:[Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Grid)],fields:{_imageProportion:null,_shortcutProportion:null,_image:null,_textBlock:null,_subMenu:null,OpenBackground:null},props:{Text:{get:function(){return this._textBlock.Text},set:function(value){this._textBlock.Text=value}},Font:{get:function(){return this._textBlock.Font},set:function(value){this._textBlock.Font=value}},TextColor:{get:function(){return this._textBlock.TextColor.$clone()},set:function(value){this._textBlock.TextColor=value.$clone()}},UnderscoreChar:{get:function(){return this._textBlock.UnderscoreChar}},Image:{get:function(){return this._image.Renderable},set:function(value){this._image.Renderable=value}},TextureRegion:{get:function(){return this.Image},set:function(value){this.Image=value}},SubMenu:{get:function(){return this._subMenu}},CanOpen:{get:function(){return this._subMenu!=null&&this.SubMenu.Items!=null&&this.SubMenu.Items.Count>0}},ContentHorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"ContentHorizontalAlignment").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$ContentHorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"ContentHorizontalAlignment").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$ContentHorizontalAlignment=value}},ContentVerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"ContentVerticalAlignment").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$ContentVerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"ContentVerticalAlignment").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$ContentVerticalAlignment=value}},Toggleable:{get:function(){return Bridge.ensureBaseProperty(this,"Toggleable").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$Toggleable},set:function(value){Bridge.ensureBaseProperty(this,"Toggleable").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$Toggleable=value}}},ctors:{init:function(){this._subMenu=new Myra.Graphics2D.UI.VerticalMenu.ctor},ctor:function(style){var $t,textProportion;this.$initialize();Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Grid).ctor.call(this);this.InternalChild=new Myra.Graphics2D.UI.Grid;this._imageProportion=new Myra.Graphics2D.UI.Grid.Proportion.ctor;this.InternalChild.ColumnsProportions.add(this._imageProportion);textProportion=new Myra.Graphics2D.UI.Grid.Proportion.ctor;this.InternalChild.ColumnsProportions.add(textProportion);this._shortcutProportion=new Myra.Graphics2D.UI.Grid.Proportion.ctor;this.InternalChild.ColumnsProportions.add(this._shortcutProportion);this._image=new Myra.Graphics2D.UI.Image;this.InternalChild.Widgets.add(this._image);this._textBlock=($t=new Myra.Graphics2D.UI.TextBlock.ctor,$t.GridPositionX=1,$t.IsMenuText=!0,$t);this.InternalChild.Widgets.add(this._textBlock);style!=null&&this.ApplyMenuItemStyle(style)}},methods:{ApplyMenuItemStyle:function(style){this.ApplyButtonBaseStyle(style);System.Nullable.hasValue(style.IconWidth)&&(this._imageProportion.Type=Myra.Graphics2D.UI.Grid.ProportionType.Pixels,this._imageProportion.Value=System.Nullable.getValue(style.IconWidth));System.Nullable.hasValue(style.ShortcutWidth)&&(this._shortcutProportion.Type=Myra.Graphics2D.UI.Grid.ProportionType.Pixels,this._shortcutProportion.Value=System.Nullable.getValue(style.ShortcutWidth));style.LabelStyle!=null&&this._textBlock.ApplyTextBlockStyle(style.LabelStyle)},OnToggledChanged:function(){Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.Grid).prototype.OnToggledChanged.call(this);this._textBlock.IsPressed=this.IsToggled}}});Bridge.define("Myra.Graphics2D.UI.SpinButton",{inherits:[Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid)],statics:{methods:{StringToFloat:function(s){return System.String.isNullOrEmpty(s)?null:System.Single.parse(s)}}},fields:{_textField:null,_upButton:null,_downButton:null,Nullable:!1,Maximum:null,Minimum:null,Integer:!1},events:{ValueChanged:null,ValueChangedByUser:null},props:{Value:{get:function(){if(System.String.isNullOrEmpty(this._textField.Text))return this.Nullable?null:0;var result={};return System.Single.tryParse(this._textField.Text,null,result)?result.v:null},set:function(value){if(value==null&&!this.Nullable)throw new System.Exception("value can't be null when Nullable is false");if(System.Nullable.hasValue(value)&&System.Nullable.hasValue(this.Minimum)&&System.Nullable.getValue(value)<System.Nullable.getValue(this.Minimum))throw new System.Exception("Value can't be lower than Minimum");if(System.Nullable.hasValue(value)&&System.Nullable.hasValue(this.Maximum)&&System.Nullable.getValue(value)>System.Nullable.getValue(this.Maximum))throw new System.Exception("Value can't be higher than Maximum");this._textField.Text=System.Nullable.hasValue(value)?System.Single.format(System.Nullable.getValue(value)):""}},IsFocused:{get:function(){return Bridge.ensureBaseProperty(this,"IsFocused").$Myra$Graphics2D$UI$Widget$IsFocused},set:function(value){Bridge.ensureBaseProperty(this,"IsFocused").$Myra$Graphics2D$UI$Widget$IsFocused=value;value||!System.String.isNullOrEmpty(this._textField.Text)||this.Nullable||(this._textField.Text="0")}},HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}},VerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment=value}}},ctors:{$ctor1:function(style){var $t;this.$initialize();Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid).ctor.call(this);this.InternalChild=new Myra.Graphics2D.UI.Grid;this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Left;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Top;this.InternalChild.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Fill));this.InternalChild.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this.InternalChild.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this.InternalChild.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._textField=($t=new Myra.Graphics2D.UI.TextField.ctor,$t.GridSpanY=2,$t.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch,$t.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch,$t.InputFilter=Bridge.fn.cacheBind(this,this.InputFilter),$t.TextVerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center,$t);this._textField.addTextChanged(Bridge.fn.cacheBind(this,this.TextFieldOnTextChanged));this._textField.addTextChangedByUser(Bridge.fn.cacheBind(this,this.TextFieldOnTextChangedByUser));this.InternalChild.Widgets.add(this._textField);this._upButton=($t=new Myra.Graphics2D.UI.ImageButton.ctor,$t.GridPositionX=1,$t.ContentVerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center,$t.ContentHorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Center,$t);this._upButton.addClick(Bridge.fn.cacheBind(this,this.UpButtonOnUp));this.InternalChild.Widgets.add(this._upButton);this._downButton=($t=new Myra.Graphics2D.UI.ImageButton.ctor,$t.GridPositionX=1,$t.GridPositionY=1,$t.ContentVerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center,$t.ContentHorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Center,$t);this._downButton.addClick(Bridge.fn.cacheBind(this,this.DownButtonOnUp));this.InternalChild.Widgets.add(this._downButton);style!=null&&this.ApplySpinButtonStyle(style);this.Value=0},$ctor2:function(style){Myra.Graphics2D.UI.SpinButton.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.SpinButtonStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.SpinButton.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.SpinButtonStyle)}},methods:{TextFieldOnTextChanged:function(sender,eventArgs){var ev=this.ValueChanged;Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.ValueChangedEventArgs$1(System.Nullable$1(System.Single)))(Myra.Graphics2D.UI.SpinButton.StringToFloat(eventArgs.OldValue),Myra.Graphics2D.UI.SpinButton.StringToFloat(eventArgs.NewValue)))},TextFieldOnTextChangedByUser:function(sender,eventArgs){var ev=this.ValueChangedByUser;Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.ValueChangedEventArgs$1(System.Nullable$1(System.Single)))(Myra.Graphics2D.UI.SpinButton.StringToFloat(eventArgs.OldValue),Myra.Graphics2D.UI.SpinButton.StringToFloat(eventArgs.NewValue)))},InputFilter:function(s){var i,f;return System.String.isNullOrEmpty(s)?s:this.Integer?(i={},!System.Int32.tryParse(s,i))?null:s:(f={},!System.Single.tryParse(s,null,f))?null:s},InRange:function(value){return System.Nullable.hasValue(this.Minimum)&&value<System.Nullable.getValue(this.Minimum)?!1:System.Nullable.hasValue(this.Maximum)&&value>System.Nullable.getValue(this.Maximum)?!1:!0},UpButtonOnUp:function(sender,eventArgs){var value={},changed,oldValue,ev;System.Single.tryParse(this._textField.Text,null,value)||(value.v=0);++value.v;this.InRange(value.v)&&(changed=System.Nullable.neq(this.Value,value.v),oldValue=this.Value,this.Value=value.v,changed&&(ev=this.ValueChangedByUser,Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.ValueChangedEventArgs$1(System.Nullable$1(System.Single)))(oldValue,value.v))))},DownButtonOnUp:function(sender,eventArgs){var value={},changed,oldValue,ev;System.Single.tryParse(this._textField.Text,null,value)||(value.v=0);--value.v;this.InRange(value.v)&&(changed=System.Nullable.neq(this.Value,value.v),oldValue=this.Value,this.Value=value.v,changed&&(ev=this.ValueChangedByUser,Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.ValueChangedEventArgs$1(System.Nullable$1(System.Single)))(oldValue,value.v))))},ApplySpinButtonStyle:function(style){this.ApplyWidgetStyle(style);style.TextFieldStyle!=null&&this._textField.ApplyTextFieldStyle(style.TextFieldStyle);style.UpButtonStyle!=null&&this._upButton.ApplyImageButtonStyle(style.UpButtonStyle);style.DownButtonStyle!=null&&this._downButton.ApplyImageButtonStyle(style.DownButtonStyle)},SetStyleByName:function(stylesheet,name){this.ApplySpinButtonStyle(stylesheet.SpinButtonStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.SpinButtonStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.TextButton",{inherits:[Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.TextBlock)],props:{Text:{get:function(){return this.InternalChild.Text},set:function(value){this.InternalChild.Text=value}},TextColor:{get:function(){return this.InternalChild.TextColor.$clone()},set:function(value){this.InternalChild.TextColor=value.$clone()}},Font:{get:function(){return this.InternalChild.Font},set:function(value){this.InternalChild.Font=value}}},ctors:{$ctor1:function(style){var $t;this.$initialize();Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.TextBlock).ctor.call(this);this.InternalChild=($t=new Myra.Graphics2D.UI.TextBlock.ctor,$t.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center,$t.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Center,$t.Wrap=!0,$t);style!=null&&this.ApplyButtonStyle(style)},$ctor2:function(style){Myra.Graphics2D.UI.TextButton.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.TextButtonStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.TextButton.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.TextButtonStyle)}},methods:{ApplyButtonStyle:function(style){this.ApplyButtonBaseStyle(style);style.LabelStyle!=null&&this.InternalChild.ApplyTextBlockStyle(style.LabelStyle)},SetStyleByName:function(stylesheet,name){this.ApplyButtonStyle(stylesheet.TextButtonStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.TextButtonStyles.getKeys()).ToArray()},OnPressedChanged:function(){Myra.Graphics2D.UI.ButtonBase$1(Myra.Graphics2D.UI.TextBlock).prototype.OnPressedChanged.call(this);this.InternalChild.IsPressed=this.IsPressed}}});Bridge.define("Myra.Graphics2D.UI.TreeNode",{inherits:[Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid)],fields:{_topTree:null,_childNodesGrid:null,_mark:null,_label:null,RowBounds:null,RowVisible:!1,ParentNode:null,TreeStyle:null,SelectionBackground:null,SelectionHoverBackground:null},props:{IsExpanded:{get:function(){return this._mark.IsToggled},set:function(value){this._mark.IsToggled=value}},Label:{get:function(){return this._label}},Mark:{get:function(){return this._mark}},ChildNodesGrid:{get:function(){return this._childNodesGrid}},Text:{get:function(){return this._label.Text},set:function(value){this._label.Text=value}},Font:{get:function(){return this._label.Font},set:function(value){this._label.Font=value}},TextColor:{get:function(){return this._label.TextColor.$clone()},set:function(value){this._label.TextColor=value.$clone()}},ChildNodesCount:{get:function(){return this._childNodesGrid.Widgets.Count}}},ctors:{init:function(){this.RowBounds=new Microsoft.Xna.Framework.Rectangle},ctor:function(style,topTree){var $t;this.$initialize();Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.Grid).ctor.call(this);this.InternalChild=new Myra.Graphics2D.UI.Grid;this._topTree=topTree;this.InternalChild.ColumnSpacing=2;this.InternalChild.RowSpacing=2;this._topTree!=null&&this._topTree.AllNodes.add(this);this._mark=($t=new Myra.Graphics2D.UI.ImageButton.$ctor1(null),$t.Toggleable=!0,$t.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Left,$t.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center,$t);this._mark.addToggledChanged(Bridge.fn.bind(this,function(s,a){this._childNodesGrid.Visible=this._mark.IsToggled}));this.InternalChild.Widgets.add(this._mark);this._label=($t=new Myra.Graphics2D.UI.TextBlock.ctor,$t.GridPositionX=1,$t);this.InternalChild.Widgets.add(this._label);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch;this.InternalChild.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Auto));this.InternalChild.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Fill));this.InternalChild.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Auto));this.InternalChild.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Auto));this._childNodesGrid=($t=new Myra.Graphics2D.UI.Grid,$t.Visible=!1,$t.GridPositionX=1,$t.GridPositionY=1,$t);this.InternalChild.Widgets.add(this._childNodesGrid);style!=null&&this.ApplyTreeNodeStyle(style);this.UpdateMark()}},methods:{MarkOnUp:function(sender,args){this._childNodesGrid.Visible=!1},UpdateMark:function(){this._mark.Visible=this._childNodesGrid.Widgets.Count>0},RemoveAllSubNodes:function(){this._childNodesGrid.Widgets.clear();this._childNodesGrid.RowsProportions.clear();this.UpdateMark()},AddSubNode:function(text){var $t,result=($t=new Myra.Graphics2D.UI.TreeNode(this.TreeStyle,this._topTree||Bridge.cast(this,Myra.Graphics2D.UI.Tree)),$t.Text=text,$t.GridPositionY=this._childNodesGrid.Widgets.Count,$t.ParentNode=this,$t);return this._childNodesGrid.Widgets.add(result),this._childNodesGrid.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Auto)),this.UpdateMark(),result},GetSubNode:function(index){return Bridge.cast(this._childNodesGrid.Widgets.getItem(index),Myra.Graphics2D.UI.TreeNode)},RemoveSubNode:function(subNode){this._childNodesGrid.Widgets.remove(subNode);this._topTree!=null&&Bridge.referenceEquals(this._topTree.SelectedRow,subNode)&&(this._topTree.SelectedRow=null)},RemoveSubNodeAt:function(index){var subNode=this._childNodesGrid.Widgets.getItem(index);this._childNodesGrid.Widgets.removeAt(index);Bridge.referenceEquals(this._topTree.SelectedRow,subNode)&&(this._topTree.SelectedRow=null)},ApplyTreeNodeStyle:function(style){this.ApplyWidgetStyle(style);style.MarkStyle!=null&&(this._mark.ApplyImageButtonStyle(style.MarkStyle),this._label.ApplyTextBlockStyle(style.LabelStyle));this.TreeStyle=style;this.SelectionBackground=style.SelectionBackground;this.SelectionHoverBackground=style.SelectionHoverBackground}}});Bridge.define("Myra.Samples.AllWidgets.AllWidgets",{inherits:[Myra.Graphics2D.UI.Grid],fields:{_menuItemNew:null,_menuItemOpen:null,_menuItemSave:null,_menuItemSaveAs:null,_menuItemQuit:null,_menuItemCopy:null,_menuItemPaste:null,_menuItemUndo:null,_menuItemRedo:null,_menuItemAbout:null,_buttonSaveFile:null,_textSaveFile:null,_buttonOpenFile:null,_textOpenFile:null,_buttonChooseFolder:null,_textChooseFolder:null,_textButtonLabel:null,_buttonChooseColor:null,_imageButton:null,_gridRight:null,_horizontalProgressBar:null,_verticalProgressBar:null},ctors:{ctor:function(){var $t,node4;this.$initialize();Myra.Graphics2D.UI.Grid.ctor.call(this);this.BuildUI();this._buttonOpenFile.Image=Myra.DefaultAssets.UISpritesheet.getItem("icon-star");this._buttonSaveFile.Image=Myra.DefaultAssets.UISpritesheet.getItem("icon-star");this._buttonChooseFolder.Image=Myra.DefaultAssets.UISpritesheet.getItem("icon-star");this._buttonChooseColor.addClick(Bridge.fn.bind(this,function(sender,args){var debugWindow=new Myra.Graphics2D.UI.ColorPicker.ColorPickerDialog;debugWindow.ShowModal(this.Desktop);debugWindow.addClosed(Bridge.fn.bind(this,function(s,a){debugWindow.Result&&(this._textButtonLabel.TextColor=debugWindow.Color.$clone())}))}));this._imageButton.Image=Myra.DefaultAssets.UISpritesheet.getItem("icon-star-outline");this._imageButton.addClick(Bridge.fn.bind(this,function(sender,args){var debugWindow=new Myra.Graphics2D.UI.DebugOptionsDialog;debugWindow.ShowModal(this.Desktop)}));this._menuItemAbout.addSelected(Bridge.fn.bind(this,function(sender,args){var messageBox=Myra.Graphics2D.UI.Dialog.CreateMessageBox$1("AllWidgets","Myra AllWidgets Sample "+(Myra.MyraEnvironment.Version||""));messageBox.ShowModal(this.Desktop)}));var tree=($t=new Myra.Graphics2D.UI.Tree.ctor,$t.HasRoot=!1,$t.GridPositionX=1,$t.GridPositionY=12,$t.GridSpanX=2,$t),node1=tree.AddSubNode("node1"),node2=node1.AddSubNode("node2"),node3=node2.AddSubNode("node3");node3.AddSubNode("node4");node3.AddSubNode("node5");node3.AddSubNode("node7");node3.AddSubNode("node8");node3.AddSubNode("node9");node3.AddSubNode("node10");node4=node2.AddSubNode("node6");node4.AddSubNode("node11");node4.AddSubNode("node12");node4.AddSubNode("node13");node4.AddSubNode("node14");node4.AddSubNode("node15");node4.AddSubNode("node16");node4.AddSubNode("node17");node4.AddSubNode("node18");this._gridRight.Widgets.add(tree)}},methods:{BuildUI:function(){var $t,menuSeparator1,menuItem1,menuSeparator2,menuItem2,menuItem3,horizontalMenu1,textBlock1,textBlock2,textBlock3,textBlock4,checkBox1,textBlock5,horizontalSlider1,textBlock6,listItem1,listItem2,listItem3,comboBox1,textBlock7,textField1,textBlock8,spinButton1,textBlock9,listItem4,listItem5,listItem6,listBox1,textBlock10,menuItem4,menuItem5,menuItem6,verticalMenu1,textBlock11,scrollPane1,textBlock12,verticalSlider1,grid1,textBlock13,grid2,verticalSplitPane1,horizontalSplitPane1;this._menuItemNew=new Myra.Graphics2D.UI.MenuItem.ctor;this._menuItemNew.Id="_menuItemNew";this._menuItemNew.Text="&New";this._menuItemOpen=new Myra.Graphics2D.UI.MenuItem.ctor;this._menuItemOpen.Id="_menuItemOpen";this._menuItemOpen.Text="&Open";this._menuItemSave=new Myra.Graphics2D.UI.MenuItem.ctor;this._menuItemSave.Id="_menuItemSave";this._menuItemSave.Text="&Save";this._menuItemSaveAs=new Myra.Graphics2D.UI.MenuItem.ctor;this._menuItemSaveAs.Id="_menuItemSaveAs";this._menuItemSaveAs.Text="Save &As...";menuSeparator1=new Myra.Graphics2D.UI.MenuSeparator;this._menuItemQuit=new Myra.Graphics2D.UI.MenuItem.ctor;this._menuItemQuit.Id="_menuItemQuit";this._menuItemQuit.Text="&Quit";menuItem1=new Myra.Graphics2D.UI.MenuItem.ctor;menuItem1.Id="";menuItem1.Text="&File";menuItem1.Items.add(this._menuItemNew);menuItem1.Items.add(this._menuItemOpen);menuItem1.Items.add(this._menuItemSave);menuItem1.Items.add(this._menuItemSaveAs);menuItem1.Items.add(menuSeparator1);menuItem1.Items.add(this._menuItemQuit);this._menuItemCopy=new Myra.Graphics2D.UI.MenuItem.ctor;this._menuItemCopy.Id="_menuItemCopy";this._menuItemCopy.Text="&Copy";this._menuItemPaste=new Myra.Graphics2D.UI.MenuItem.ctor;this._menuItemPaste.Id="_menuItemPaste";this._menuItemPaste.Text="&Paste";menuSeparator2=new Myra.Graphics2D.UI.MenuSeparator;this._menuItemUndo=new Myra.Graphics2D.UI.MenuItem.ctor;this._menuItemUndo.Id="_menuItemUndo";this._menuItemUndo.Text="&Undo";this._menuItemRedo=new Myra.Graphics2D.UI.MenuItem.ctor;this._menuItemRedo.Id="_menuItemRedo";this._menuItemRedo.Text="&Redo";menuItem2=new Myra.Graphics2D.UI.MenuItem.ctor;menuItem2.Id="";menuItem2.Text="&Edit";menuItem2.Items.add(this._menuItemCopy);menuItem2.Items.add(this._menuItemPaste);menuItem2.Items.add(menuSeparator2);menuItem2.Items.add(this._menuItemUndo);menuItem2.Items.add(this._menuItemRedo);this._menuItemAbout=new Myra.Graphics2D.UI.MenuItem.ctor;this._menuItemAbout.Id="_menuItemAbout";this._menuItemAbout.Text="&About";menuItem3=new Myra.Graphics2D.UI.MenuItem.ctor;menuItem3.Id="";menuItem3.Text="&Help";menuItem3.Items.add(this._menuItemAbout);horizontalMenu1=new Myra.Graphics2D.UI.HorizontalMenu.ctor;horizontalMenu1.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch;horizontalMenu1.Items.add(menuItem1);horizontalMenu1.Items.add(menuItem2);horizontalMenu1.Items.add(menuItem3);textBlock1=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock1.Text="Button:";textBlock1.Id="";this._buttonSaveFile=new Myra.Graphics2D.UI.Button.ctor;this._buttonSaveFile.Text="Save File";this._buttonSaveFile.Id="_buttonSaveFile";this._buttonSaveFile.PaddingLeft=8;this._buttonSaveFile.PaddingRight=8;this._buttonSaveFile.GridPositionX=1;this._textSaveFile=new Myra.Graphics2D.UI.TextField.ctor;this._textSaveFile.Text="";this._textSaveFile.Id="_textSaveFile";this._textSaveFile.GridPositionX=2;textBlock2=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock2.Text="Another Button:";textBlock2.Id="";textBlock2.GridPositionY=1;this._buttonOpenFile=new Myra.Graphics2D.UI.Button.ctor;this._buttonOpenFile.Text="Open File";this._buttonOpenFile.Id="_buttonOpenFile";this._buttonOpenFile.PaddingLeft=8;this._buttonOpenFile.PaddingRight=8;this._buttonOpenFile.GridPositionX=1;this._buttonOpenFile.GridPositionY=1;this._textOpenFile=new Myra.Graphics2D.UI.TextField.ctor;this._textOpenFile.Text="";this._textOpenFile.Id="_textOpenFile";this._textOpenFile.GridPositionX=2;this._textOpenFile.GridPositionY=1;textBlock3=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock3.Text="Blue Button:";textBlock3.Id="";textBlock3.GridPositionY=2;this._buttonChooseFolder=new Myra.Graphics2D.UI.Button.$ctor2("blue");this._buttonChooseFolder.Text="Choose Folder";this._buttonChooseFolder.Id="_buttonChooseFolder";this._buttonChooseFolder.PaddingLeft=8;this._buttonChooseFolder.PaddingRight=8;this._buttonChooseFolder.GridPositionX=1;this._buttonChooseFolder.GridPositionY=2;this._textChooseFolder=new Myra.Graphics2D.UI.TextField.ctor;this._textChooseFolder.Text="";this._textChooseFolder.Id="_textChooseFolder";this._textChooseFolder.GridPositionX=2;this._textChooseFolder.GridPositionY=2;this._textButtonLabel=new Myra.Graphics2D.UI.TextBlock.ctor;this._textButtonLabel.Text="Text Button:";this._textButtonLabel.Id="_textButtonLabel";this._textButtonLabel.GridPositionY=3;this._buttonChooseColor=new Myra.Graphics2D.UI.TextButton.ctor;this._buttonChooseColor.Text="Choose Color";this._buttonChooseColor.Id="_buttonChooseColor";this._buttonChooseColor.PaddingLeft=8;this._buttonChooseColor.PaddingRight=8;this._buttonChooseColor.GridPositionX=1;this._buttonChooseColor.GridPositionY=3;textBlock4=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock4.Text="Image Button:";textBlock4.Id="";textBlock4.GridPositionY=4;this._imageButton=new Myra.Graphics2D.UI.ImageButton.ctor;this._imageButton.Id="_imageButton";this._imageButton.PaddingLeft=8;this._imageButton.PaddingRight=8;this._imageButton.GridPositionX=1;this._imageButton.GridPositionY=4;checkBox1=new Myra.Graphics2D.UI.CheckBox.ctor;checkBox1.Text="This is checkbox";checkBox1.ImageWidth=10;checkBox1.ImageHeight=10;checkBox1.GridPositionY=5;checkBox1.GridSpanX=2;textBlock5=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock5.Text="Horizontal Slider:";textBlock5.Id="";textBlock5.GridPositionY=6;horizontalSlider1=new Myra.Graphics2D.UI.HorizontalSlider.ctor;horizontalSlider1.GridPositionX=1;horizontalSlider1.GridPositionY=6;horizontalSlider1.GridSpanX=2;textBlock6=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock6.Text="Combo Box:";textBlock6.GridPositionY=7;listItem1=new Myra.Graphics2D.UI.ListItem.ctor;listItem1.Id="";listItem1.Text="Red";listItem1.Color=Microsoft.Xna.Framework.Color.Red.$clone();listItem2=new Myra.Graphics2D.UI.ListItem.ctor;listItem2.Id=null;listItem2.Text="Green";listItem2.Color=Microsoft.Xna.Framework.Color.Lime.$clone();listItem3=new Myra.Graphics2D.UI.ListItem.ctor;listItem3.Id=null;listItem3.Text="Blue";listItem3.Color=($t=new Microsoft.Xna.Framework.Color.ctor,$t.B=255,$t.G=128,$t.R=0,$t.A=255,$t);comboBox1=new Myra.Graphics2D.UI.ComboBox.ctor;comboBox1.SelectedIndex=1;comboBox1.Width=200;comboBox1.GridPositionX=1;comboBox1.GridPositionY=7;comboBox1.GridSpanX=2;comboBox1.Items.add(listItem1);comboBox1.Items.add(listItem2);comboBox1.Items.add(listItem3);textBlock7=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock7.Text="Text Field:";textBlock7.GridPositionY=8;textField1=new Myra.Graphics2D.UI.TextField.ctor;textField1.Text="";textField1.GridPositionX=1;textField1.GridPositionY=8;textField1.GridSpanX=2;textBlock8=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock8.Text="Spin Button:";textBlock8.GridPositionY=9;spinButton1=new Myra.Graphics2D.UI.SpinButton.ctor;spinButton1.Width=100;spinButton1.GridPositionX=1;spinButton1.GridPositionY=9;textBlock9=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock9.Text="List Box:";textBlock9.GridPositionY=10;listItem4=new Myra.Graphics2D.UI.ListItem.ctor;listItem4.Id=null;listItem4.Text="Red";listItem4.Color=Microsoft.Xna.Framework.Color.Red.$clone();listItem5=new Myra.Graphics2D.UI.ListItem.ctor;listItem5.Id=null;listItem5.Text="Green";listItem5.Color=Microsoft.Xna.Framework.Color.Lime.$clone();listItem6=new Myra.Graphics2D.UI.ListItem.ctor;listItem6.Id=null;listItem6.Text="Blue";listItem6.Color=Microsoft.Xna.Framework.Color.Blue.$clone();listBox1=new Myra.Graphics2D.UI.ListBox.ctor;listBox1.Width=200;listBox1.GridPositionX=1;listBox1.GridPositionY=10;listBox1.GridSpanX=2;listBox1.Items.add(listItem4);listBox1.Items.add(listItem5);listBox1.Items.add(listItem6);textBlock10=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock10.Text="Vertical Menu:";textBlock10.GridPositionY=11;menuItem4=new Myra.Graphics2D.UI.MenuItem.ctor;menuItem4.Id="";menuItem4.Text="Start New Game";menuItem5=new Myra.Graphics2D.UI.MenuItem.ctor;menuItem5.Id="";menuItem5.Text="Options";menuItem6=new Myra.Graphics2D.UI.MenuItem.ctor;menuItem6.Id="";menuItem6.Text="Quit";verticalMenu1=new Myra.Graphics2D.UI.VerticalMenu.ctor;verticalMenu1.GridPositionX=1;verticalMenu1.GridPositionY=11;verticalMenu1.Items.add(menuItem4);verticalMenu1.Items.add(menuItem5);verticalMenu1.Items.add(menuItem6);textBlock11=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock11.Text="Tree";textBlock11.GridPositionY=12;this._gridRight=new Myra.Graphics2D.UI.Grid;this._gridRight.ColumnSpacing=8;this._gridRight.RowSpacing=8;this._gridRight.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Fill,$t));this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this._gridRight.Id="_gridRight";this._gridRight.Widgets.add(textBlock1);this._gridRight.Widgets.add(this._buttonSaveFile);this._gridRight.Widgets.add(this._textSaveFile);this._gridRight.Widgets.add(textBlock2);this._gridRight.Widgets.add(this._buttonOpenFile);this._gridRight.Widgets.add(this._textOpenFile);this._gridRight.Widgets.add(textBlock3);this._gridRight.Widgets.add(this._buttonChooseFolder);this._gridRight.Widgets.add(this._textChooseFolder);this._gridRight.Widgets.add(this._textButtonLabel);this._gridRight.Widgets.add(this._buttonChooseColor);this._gridRight.Widgets.add(textBlock4);this._gridRight.Widgets.add(this._imageButton);this._gridRight.Widgets.add(checkBox1);this._gridRight.Widgets.add(textBlock5);this._gridRight.Widgets.add(horizontalSlider1);this._gridRight.Widgets.add(textBlock6);this._gridRight.Widgets.add(comboBox1);this._gridRight.Widgets.add(textBlock7);this._gridRight.Widgets.add(textField1);this._gridRight.Widgets.add(textBlock8);this._gridRight.Widgets.add(spinButton1);this._gridRight.Widgets.add(textBlock9);this._gridRight.Widgets.add(listBox1);this._gridRight.Widgets.add(textBlock10);this._gridRight.Widgets.add(verticalMenu1);this._gridRight.Widgets.add(textBlock11);scrollPane1=new Myra.Graphics2D.UI.ScrollPane.ctor;scrollPane1.Child=this._gridRight;textBlock12=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock12.Text="Vertical Slider:";verticalSlider1=new Myra.Graphics2D.UI.VerticalSlider.ctor;verticalSlider1.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Center;verticalSlider1.GridPositionY=1;grid1=new Myra.Graphics2D.UI.Grid;grid1.RowSpacing=8;grid1.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Fill,$t));grid1.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid1.RowsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Fill,$t));grid1.Widgets.add(textBlock12);grid1.Widgets.add(verticalSlider1);textBlock13=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock13.Text="Progress Bars:";this._horizontalProgressBar=new Myra.Graphics2D.UI.HorizontalProgressBar.ctor;this._horizontalProgressBar.Id="_horizontalProgressBar";this._horizontalProgressBar.GridPositionY=1;this._verticalProgressBar=new Myra.Graphics2D.UI.VerticalProgressBar.ctor;this._verticalProgressBar.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Center;this._verticalProgressBar.Id="_verticalProgressBar";this._verticalProgressBar.GridPositionY=2;grid2=new Myra.Graphics2D.UI.Grid;grid2.RowSpacing=8;grid2.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Fill,$t));grid2.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid2.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid2.RowsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Fill,$t));grid2.GridPositionY=2;grid2.Widgets.add(textBlock13);grid2.Widgets.add(this._horizontalProgressBar);grid2.Widgets.add(this._verticalProgressBar);verticalSplitPane1=new Myra.Graphics2D.UI.VerticalSplitPane.ctor;verticalSplitPane1.GridPositionX=2;verticalSplitPane1.Widgets.add(grid1);verticalSplitPane1.Widgets.add(grid2);horizontalSplitPane1=new Myra.Graphics2D.UI.HorizontalSplitPane.ctor;horizontalSplitPane1.GridPositionY=1;horizontalSplitPane1.Widgets.add(scrollPane1);horizontalSplitPane1.Widgets.add(verticalSplitPane1);this.RowSpacing=8;this.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this.RowsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Fill,$t));this.Id="Root";this.Widgets.add(horizontalMenu1);this.Widgets.add(horizontalSplitPane1)}}});Bridge.define("Myra.Graphics2D.UI.CheckBox",{inherits:[Myra.Graphics2D.UI.Button],props:{Toggleable:{get:function(){return Bridge.ensureBaseProperty(this,"Toggleable").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$Toggleable},set:function(value){Bridge.ensureBaseProperty(this,"Toggleable").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$Toggleable=value}}},ctors:{$ctor1:function(bs){this.$initialize();Myra.Graphics2D.UI.Button.$ctor1.call(this,bs);this.Toggleable=!0},$ctor2:function(style){Myra.Graphics2D.UI.CheckBox.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.CheckBoxStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.CheckBox.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.CheckBoxStyle)}},methods:{SetStyleByName:function(stylesheet,name){this.ApplyButtonStyle(stylesheet.CheckBoxStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.CheckBoxStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.Dialog",{inherits:[Myra.Graphics2D.UI.Window],statics:{methods:{CreateMessageBox:function(title,content){var $t;return $t=new Myra.Graphics2D.UI.Dialog.ctor,$t.Title=title,$t.Content=content,$t},CreateMessageBox$1:function(title,message){var $t,messageLabel=($t=new Myra.Graphics2D.UI.TextBlock.ctor,$t.Text=message,$t.Wrap=!0,$t);return Myra.Graphics2D.UI.Dialog.CreateMessageBox(title,messageLabel)}}},fields:{ButtonOk:null,ButtonCancel:null},ctors:{$ctor1:function(style){var $t,buttonsGrid;this.$initialize();Myra.Graphics2D.UI.Window.$ctor1.call(this,style);this.InternalChild.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);buttonsGrid=($t=new Myra.Graphics2D.UI.Grid,$t.ColumnSpacing=8,$t.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Right,$t.GridPositionY=2,$t);buttonsGrid.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);buttonsGrid.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this.ButtonOk=($t=new Myra.Graphics2D.UI.Button.ctor,$t.Text="Ok",$t);this.ButtonOk.addClick(Bridge.fn.bind(this,function(sender,args){this.CanCloseByOk()&&(this.Result=!0,this.ModalResult=Myra.Graphics2D.UI.Window.DefaultModalResult.Ok,this.Close())}));buttonsGrid.Widgets.add(this.ButtonOk);this.ButtonCancel=($t=new Myra.Graphics2D.UI.Button.ctor,$t.Text="Cancel",$t.GridPositionX=1,$t);this.ButtonCancel.addClick(Bridge.fn.bind(this,function(sender,args){this.Result=!1;this.ModalResult=Myra.Graphics2D.UI.Window.DefaultModalResult.Cancel;this.Close()}));buttonsGrid.Widgets.add(this.ButtonCancel);this.InternalChild.Widgets.add(buttonsGrid)},$ctor2:function(style){Myra.Graphics2D.UI.Dialog.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.DialogStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.Dialog.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.DialogStyle)}},methods:{OnKeyDown:function(k){Myra.Graphics2D.UI.Window.prototype.OnKeyDown.call(this,k);switch(k){case Microsoft.Xna.Framework.Input.Keys.Escape:this.ButtonCancel.DoClick();break;case Microsoft.Xna.Framework.Input.Keys.Enter:this.ButtonOk.DoClick();break}},CanCloseByOk:function(){return!0}}});Bridge.define("Myra.Graphics2D.UI.ComboBox",{inherits:[Myra.Graphics2D.UI.Button],fields:{_itemsContainer:null,_isExpanded:!1,_dropDownItemStyle:null,_items:null,_selectingIndex:0,_selectedIndex:0},events:{SelectedIndexChanged:null},props:{Items:{get:function(){return this._items}},IsExpanded:{get:function(){return this._isExpanded},set:function(value){value!==this._isExpanded&&(this._isExpanded=value,this.SelectingItem=this.SelectedItem,this._isExpanded?(this._itemsContainer.Width=this.Bounds.Width,this.Desktop.ShowContextMenu(this._itemsContainer,new Microsoft.Xna.Framework.Point.$ctor2(this.Bounds.X,this.Bounds.Bottom))):this.Desktop.HideContextMenu())}},SelectingIndex:{get:function(){return this._selectingIndex},set:function(value){value!==this._selectingIndex&&(this._selectingIndex=value)}},SelectingItem:{get:function(){return this._selectingIndex>=0&&this._selectingIndex<this.Items.Count?this.Items.getItem(this._selectingIndex):null},set:function(value){if(!Bridge.referenceEquals(value,this.SelectingItem))if(value==null)this.SelectingIndex=-1;else{var index=this.Items.indexOf(value);if(index<0)throw new System.ArgumentException.$ctor1("item is not in the list");this.SelectingIndex=index}}},SelectedIndex:{get:function(){return this._selectedIndex},set:function(value){var item,ev;value!==this._selectedIndex&&(item=this.SelectedItem,item!=null&&item.Widget!=null&&(Bridge.cast(item.Widget,Myra.Graphics2D.UI.Button).IsToggled=!1),this.SelectingIndex=value,this._selectedIndex=value,item=this.SelectedItem,item!=null&&item.Widget!=null&&(Bridge.cast(item.Widget,Myra.Graphics2D.UI.Button).IsToggled=!0),this.UpdateSelectedItem(),ev=this.SelectedIndexChanged,Bridge.staticEquals(ev,null)||ev(this,{}))}},SelectedItem:{get:function(){return this._selectedIndex>=0&&this._selectedIndex<this.Items.Count?this.Items.getItem(this._selectedIndex):null},set:function(value){if(!Bridge.referenceEquals(value,this.SelectedItem))if(value==null)this.SelectedIndex=-1;else{var index=this.Items.indexOf(value);if(index<0)throw new System.ArgumentException.$ctor1("item is not in the list");this.SelectedIndex=index}}},ContentHorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"ContentHorizontalAlignment").$Myra$Graphics2D$UI$Button$ContentHorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"ContentHorizontalAlignment").$Myra$Graphics2D$UI$Button$ContentHorizontalAlignment=value}},ContentVerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"ContentVerticalAlignment").$Myra$Graphics2D$UI$Button$ContentVerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"ContentVerticalAlignment").$Myra$Graphics2D$UI$Button$ContentVerticalAlignment=value}},Toggleable:{get:function(){return Bridge.ensureBaseProperty(this,"Toggleable").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$Toggleable},set:function(value){Bridge.ensureBaseProperty(this,"Toggleable").$Myra$Graphics2D$UI$ButtonBase$1$Myra$Graphics2D$UI$Grid$Toggleable=value}},ImageWidth:{get:function(){return Bridge.ensureBaseProperty(this,"ImageWidth").$Myra$Graphics2D$UI$Button$ImageWidth},set:function(value){Bridge.ensureBaseProperty(this,"ImageWidth").$Myra$Graphics2D$UI$Button$ImageWidth=value}},ImageHeight:{get:function(){return Bridge.ensureBaseProperty(this,"ImageHeight").$Myra$Graphics2D$UI$Button$ImageHeight},set:function(value){Bridge.ensureBaseProperty(this,"ImageHeight").$Myra$Graphics2D$UI$Button$ImageHeight=value}},ImageVisible:{get:function(){return Bridge.ensureBaseProperty(this,"ImageVisible").$Myra$Graphics2D$UI$Button$ImageVisible},set:function(value){Bridge.ensureBaseProperty(this,"ImageVisible").$Myra$Graphics2D$UI$Button$ImageVisible=value}},Text:{get:function(){return Bridge.ensureBaseProperty(this,"Text").$Myra$Graphics2D$UI$Button$Text},set:function(value){Bridge.ensureBaseProperty(this,"Text").$Myra$Graphics2D$UI$Button$Text=value}},TextColor:{get:function(){return Bridge.ensureBaseProperty(this,"TextColor").$Myra$Graphics2D$UI$Button$TextColor.$clone()},set:function(value){Bridge.ensureBaseProperty(this,"TextColor").$Myra$Graphics2D$UI$Button$TextColor=value.$clone()}}},ctors:{init:function(){this._items=new(System.Collections.ObjectModel.ObservableCollection$1(Myra.Graphics2D.UI.ListItem).ctor);this._selectingIndex=-1;this._selectedIndex=-1},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Button.$ctor1.call(this,style);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Left;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Top;this._itemsContainer=new Myra.Graphics2D.UI.Grid;style!=null&&this.ApplyComboBoxStyle(style);this._items.addCollectionChanged(Bridge.fn.cacheBind(this,this.ItemsOnCollectionChanged))},$ctor2:function(style){Myra.Graphics2D.UI.ComboBox.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.ComboBoxStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.ComboBox.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.ComboBoxStyle)}},methods:{ItemsOnCollectionChanged:function(sender,args){var $t,$t1,index,item,item1;switch(args.Action){case System.Collections.Specialized.NotifyCollectionChangedAction.Add:index=args.NewStartingIndex;$t=Bridge.getEnumerator(args.NewItems);try{while($t.moveNext())item=Bridge.cast($t.Current,Myra.Graphics2D.UI.ListItem),this.InsertItem(item,index),index=index+1|0}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}break;case System.Collections.Specialized.NotifyCollectionChangedAction.Remove:$t1=Bridge.getEnumerator(args.OldItems);try{while($t1.moveNext())item1=Bridge.cast($t1.Current,Myra.Graphics2D.UI.ListItem),this.RemoveItem(item1)}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}break;case System.Collections.Specialized.NotifyCollectionChangedAction.Reset:while(this._itemsContainer.Widgets.Count>0)this.RemoveItem(Bridge.cast(this._itemsContainer.Widgets.getItem(0).Tag,Myra.Graphics2D.UI.ListItem));break}this.InvalidateMeasure()},ItemOnChanged:function(sender,eventArgs){var $t,item=Bridge.cast(sender,Myra.Graphics2D.UI.ListItem),widget=Bridge.cast(item.Widget,Myra.Graphics2D.UI.Button);widget.Text=item.Text;widget.TextColor=($t=item.Color,$t!=null?$t:this._dropDownItemStyle.LabelStyle.TextColor);Bridge.referenceEquals(this.SelectedItem,item)&&(this.Text=item.Text,this.TextColor=widget.TextColor.$clone());this.InvalidateMeasure()},InsertItem:function(item,index){var $t,$t1,button;item.addChanged(Bridge.fn.cacheBind(this,this.ItemOnChanged));button=($t=new Myra.Graphics2D.UI.Button.$ctor1(this._dropDownItemStyle),$t.Text=item.Text,$t.TextColor=($t1=item.Color,$t1!=null?$t1:this._dropDownItemStyle.LabelStyle.TextColor),$t.Toggleable=!0,$t.Tag=item,$t);item.Widget=button;button.addMouseEntered(Bridge.fn.cacheBind(this,this.ItemOnMouseEntered));button.addClick(Bridge.fn.cacheBind(this,this.ItemOnClick));button.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;button.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch;this._itemsContainer.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.$ctor1(Myra.Graphics2D.UI.Grid.ProportionType.Auto));this._itemsContainer.Widgets.insert(index,button);this.UpdateSelectedItem();this.UpdateGridPositions()},RemoveItem:function(item){item.removeChanged(Bridge.fn.cacheBind(this,this.ItemOnChanged));var index=this._itemsContainer.Widgets.indexOf(item.Widget);this._itemsContainer.RowsProportions.removeAt(index);this._itemsContainer.Widgets.removeAt(index);Bridge.referenceEquals(this.SelectedItem,item)&&(this.SelectedItem=null);this.UpdateSelectedItem();this.UpdateGridPositions()},UpdateGridPositions:function(){for(var i=0;i<this._itemsContainer.Widgets.Count;i=i+1|0)this._itemsContainer.Widgets.getItem(i).GridPositionY=i},ItemOnMouseEntered:function(sender,args){var widget=Bridge.cast(sender,Myra.Graphics2D.UI.Widget);this.SelectingItem=Bridge.cast(widget.Tag,Myra.Graphics2D.UI.ListItem)},ItemOnClick:function(sender,eventArgs){var widget=Bridge.cast(sender,Myra.Graphics2D.UI.Button);this.SelectedItem=Bridge.cast(widget.Tag,Myra.Graphics2D.UI.ListItem);this.IsExpanded=!1},UpdateSelectedItem:function(){var $t,item=this.SelectedItem;item!=null?(this.Text=item.Text,this.TextColor=($t=item.Color,$t!=null?$t:this._dropDownItemStyle.LabelStyle.TextColor)):this.Text=""},OnTouchDown:function(){(Myra.Graphics2D.UI.Button.prototype.OnTouchDown.call(this),this._itemsContainer.Widgets.Count!==0)&&(this.IsExpanded=!this.IsExpanded)},ApplyComboBoxStyle:function(style){var $t,item;style.ItemsContainerStyle!=null&&this._itemsContainer.ApplyWidgetStyle(style.ItemsContainerStyle);this._dropDownItemStyle=style.ListItemStyle;$t=Bridge.getEnumerator(this.Items);try{while($t.moveNext())item=$t.Current,Bridge.cast(item.Widget,Myra.Graphics2D.UI.Button).ApplyButtonStyle(this._dropDownItemStyle)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}this.ApplyButtonStyle(style)},InternalMeasure:function(availableSize){var $t,result=Myra.Graphics2D.UI.Button.prototype.InternalMeasure.call(this,availableSize.$clone()),item,childSize;$t=Bridge.getEnumerator(this._itemsContainer.Widgets);try{while($t.moveNext())item=$t.Current,childSize=item.Measure(new Microsoft.Xna.Framework.Point.$ctor2(1e4,1e4)),childSize.X>result.X&&(result.X=childSize.X)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return result.X=result.X+32|0,result.$clone()},SetStyleByName:function(stylesheet,name){this.ApplyComboBoxStyle(stylesheet.ComboBoxStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.ComboBoxStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.HorizontalMenu",{inherits:[Myra.Graphics2D.UI.Menu],props:{Orientation:{get:function(){return Myra.Graphics2D.UI.Orientation.Horizontal}},HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}},VerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment=value}}},ctors:{$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Menu.ctor.call(this,style);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Top},$ctor2:function(style){Myra.Graphics2D.UI.HorizontalMenu.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.HorizontalMenuStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.HorizontalMenu.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.HorizontalMenuStyle)}},methods:{OnKeyDown:function(k){Myra.Graphics2D.UI.Menu.prototype.OnKeyDown.call(this,k);switch(k){case Microsoft.Xna.Framework.Input.Keys.Left:this.MoveSelection(-1);break;case Microsoft.Xna.Framework.Input.Keys.Right:this.MoveSelection(1);break}},SetStyleByName:function(stylesheet,name){this.ApplyMenuStyle(stylesheet.HorizontalMenuStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.HorizontalMenuStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.HorizontalProgressBar",{inherits:[Myra.Graphics2D.UI.ProgressBar],props:{Orientation:{get:function(){return Myra.Graphics2D.UI.Orientation.Horizontal}},HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}},VerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment=value}}},ctors:{$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.ProgressBar.ctor.call(this,style);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Top},$ctor2:function(style){Myra.Graphics2D.UI.HorizontalProgressBar.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.HorizontalProgressBarStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.HorizontalProgressBar.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.HorizontalProgressBarStyle)}},methods:{SetStyleByName:function(stylesheet,name){this.ApplyProgressBarStyle(stylesheet.HorizontalProgressBarStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.HorizontalProgressBarStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.HorizontalSeparator",{inherits:[Myra.Graphics2D.UI.SeparatorWidget],props:{HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}},VerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment=value}}},ctors:{$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.SeparatorWidget.ctor.call(this,Myra.Graphics2D.UI.Orientation.Horizontal,style);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center},$ctor2:function(style){Myra.Graphics2D.UI.HorizontalSeparator.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.HorizontalSeparatorStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.HorizontalSeparator.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.HorizontalSeparatorStyle)}}});Bridge.define("Myra.Graphics2D.UI.Slider",{inherits:[Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.ImageButton)],fields:{_value:0,_mousePos:null,Minimum:0,Maximum:0},events:{ValueChanged:null,ValueChangedByUser:null},props:{Value:{get:function(){return this._value},set:function(value){var oldValue,ev;(value>this.Maximum&&(value=this.Maximum),value<this.Minimum&&(value=this.Minimum),this._value!==value)&&(oldValue=this._value,this._value=value,this.SyncHintWithValue(),ev=this.ValueChanged,Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.ValueChangedEventArgs$1(System.Single))(oldValue,value)))}},Hint:{get:function(){return this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.InternalChild.Left:this.InternalChild.Top},set:function(value){this.Hint!==value&&(this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.InternalChild.Left=value:this.InternalChild.Top=value)}},MaxHint:{get:function(){return this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.Bounds.Width-this.InternalChild.Bounds.Width|0:this.Bounds.Height-this.InternalChild.Bounds.Height|0}},Desktop:{get:function(){return Bridge.ensureBaseProperty(this,"Desktop").$Myra$Graphics2D$UI$Container$Desktop},set:function(value){this.Desktop!=null&&this.Desktop.removeMouseMoved(Bridge.fn.cacheBind(this,this.DesktopMouseMoved));Bridge.ensureBaseProperty(this,"Desktop").$Myra$Graphics2D$UI$Container$Desktop=value;this.Desktop!=null&&this.Desktop.addMouseMoved(Bridge.fn.cacheBind(this,this.DesktopMouseMoved))}}},ctors:{ctor:function(sliderStyle){var $t;this.$initialize();Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.ImageButton).ctor.call(this);this.InternalChild=($t=new Myra.Graphics2D.UI.ImageButton.$ctor1(null),$t.ReleaseOnMouseLeft=!1,$t);this.InternalChild.addPressedChanged(Bridge.fn.cacheBind(this,this.WidgetOnPressedChanged));sliderStyle!=null&&this.ApplySliderStyle(sliderStyle);this.Maximum=100}},methods:{WidgetOnPressedChanged:function(sender,eventArgs){this._mousePos=this.InternalChild.IsPressed?this.GetMousePos():null},GetMousePos:function(){return this.Orientation===Myra.Graphics2D.UI.Orientation.Horizontal?this.Desktop.MousePosition.X:this.Desktop.MousePosition.Y},ApplySliderStyle:function(style){this.ApplyWidgetStyle(style);this.InternalChild.ApplyImageButtonStyle(style.KnobStyle)},SyncHintWithValue:function(){this.Hint=Bridge.Int.clip32(this.MaxHint*(this._value/this.Maximum))},Arrange:function(){Myra.Graphics2D.UI.SingleItemContainer$1(Myra.Graphics2D.UI.ImageButton).prototype.Arrange.call(this);this.SyncHintWithValue()},DesktopMouseMoved:function(sender,args){var mousePos,delta,hint,oldValue,valueChanged,d,newValue,ev;this._mousePos!=null&&(mousePos=this.GetMousePos(),delta=mousePos-System.Nullable.getValue(this._mousePos)|0,delta!==0)&&(hint=this.Hint,hint=hint+delta|0,hint<0&&(hint=0),hint>this.MaxHint&&(hint=this.MaxHint),oldValue=this._value,valueChanged=!1,this.MaxHint!==0&&(d=this.Maximum-this.Minimum,newValue=this.Minimum+hint*d/this.MaxHint,this._value!==newValue&&(this._value=newValue,valueChanged=!0)),this.Hint=hint,valueChanged&&(ev=this.ValueChanged,Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.ValueChangedEventArgs$1(System.Single))(oldValue,this._value)),ev=this.ValueChangedByUser,Bridge.staticEquals(ev,null)||ev(this,new(Myra.Utility.ValueChangedEventArgs$1(System.Single))(oldValue,this._value))),this._mousePos=mousePos)}}});Bridge.define("Myra.Graphics2D.UI.HorizontalSplitPane",{inherits:[Myra.Graphics2D.UI.SplitPane],props:{Orientation:{get:function(){return Myra.Graphics2D.UI.Orientation.Horizontal}}},ctors:{$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.SplitPane.ctor.call(this,style)},$ctor2:function(style){Myra.Graphics2D.UI.HorizontalSplitPane.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.HorizontalSplitPaneStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.HorizontalSplitPane.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.HorizontalSplitPaneStyle)}},methods:{SetStyleByName:function(stylesheet,name){this.ApplySplitPaneStyle(stylesheet.HorizontalSplitPaneStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.HorizontalSplitPaneStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.Tree",{inherits:[Myra.Graphics2D.UI.TreeNode],statics:{methods:{RecursiveUpdateRowVisibility:function(tree){var $t,widget,treeNode;if(tree.RowVisible=!0,tree.IsExpanded){$t=Bridge.getEnumerator(tree.ChildNodesGrid.Widgets);try{while($t.moveNext())widget=$t.Current,treeNode=Bridge.cast(widget,Myra.Graphics2D.UI.TreeNode),Myra.Graphics2D.UI.Tree.RecursiveUpdateRowVisibility(treeNode)}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}},FindPath:function(path,node){for(var child,top=path.Peek(),i=0;i<top.ChildNodesCount;i=i+1|0){if((child=top.GetSubNode(i),Bridge.referenceEquals(child,node))||(path.Push(child),Myra.Graphics2D.UI.Tree.FindPath(path,node)))return!0;path.Pop()}return!1}}},fields:{_allNodes:null,_selectedRow:null,_rowInfosDirty:!1,_hasRoot:!1,HoverRow:null},events:{SelectionChanged:null},props:{AllNodes:{get:function(){return this._allNodes}},SelectedRow:{get:function(){return this._selectedRow},set:function(value){if(!Bridge.referenceEquals(value,this._selectedRow)){this._selectedRow=value;var ev=this.SelectionChanged;Bridge.staticEquals(ev,null)||ev(this,{})}}},CanFocus:{get:function(){return Bridge.ensureBaseProperty(this,"CanFocus").$Myra$Graphics2D$UI$Widget$CanFocus},set:function(value){Bridge.ensureBaseProperty(this,"CanFocus").$Myra$Graphics2D$UI$Widget$CanFocus=value}},HasRoot:{get:function(){return this._hasRoot},set:function(value){value!==this._hasRoot&&(this._hasRoot=value,this.UpdateHasRoot())}}},ctors:{init:function(){this._allNodes=new(System.Collections.Generic.List$1(Myra.Graphics2D.UI.TreeNode).ctor);this._rowInfosDirty=!0;this._hasRoot=!0},$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.TreeNode.ctor.call(this,style,null);this.CanFocus=!0;style!=null&&this.ApplyTreeStyle(style)},$ctor2:function(style){Myra.Graphics2D.UI.Tree.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.TreeStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.Tree.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.TreeStyle)}},methods:{UpdateHasRoot:function(){this._hasRoot?(this.Mark.Visible=!0,this.Label.Visible=!0,this.ChildNodesGrid.Visible=this.Mark.IsToggled):(this.Mark.Visible=!1,this.Label.Visible=!1,this.Mark.IsToggled=!0,this.ChildNodesGrid.Visible=!0)},OnKeyDown:function(k){var index,parentWidgets,previousRow,parentOfParent,parentIndex;if((Myra.Graphics2D.UI.TreeNode.prototype.OnKeyDown.call(this,k),this.SelectedRow!=null)&&(index=0,parentWidgets=null,this.SelectedRow.ParentNode==null||(parentWidgets=this.SelectedRow.ParentNode.ChildNodesGrid.Widgets,index=System.Array.indexOf(parentWidgets,this.SelectedRow,0,null,Myra.Graphics2D.UI.Widget),index!==-1)))switch(k){case Microsoft.Xna.Framework.Input.Keys.Enter:this.SelectedRow.IsExpanded=!this.SelectedRow.IsExpanded;break;case Microsoft.Xna.Framework.Input.Keys.Up:parentWidgets!=null&&(index===0?this.SelectedRow=this.SelectedRow.ParentNode:index>0&&(previousRow=Bridge.cast(System.Array.getItem(parentWidgets,index-1|0,Myra.Graphics2D.UI.Widget),Myra.Graphics2D.UI.TreeNode),this.SelectedRow=previousRow.IsExpanded&&previousRow.ChildNodesCount!==0?Bridge.cast(previousRow.ChildNodesGrid.Widgets.getItem(previousRow.ChildNodesCount-1|0),Myra.Graphics2D.UI.TreeNode):previousRow));break;case Microsoft.Xna.Framework.Input.Keys.Down:this.SelectedRow.IsExpanded&&this.SelectedRow.ChildNodesCount>0?this.SelectedRow=Bridge.cast(this.SelectedRow.ChildNodesGrid.Widgets.getItem(0),Myra.Graphics2D.UI.TreeNode):parentWidgets!=null&&(index+1|0)<System.Array.getCount(parentWidgets,Myra.Graphics2D.UI.Widget)?this.SelectedRow=Bridge.cast(System.Array.getItem(parentWidgets,index+1|0,Myra.Graphics2D.UI.Widget),Myra.Graphics2D.UI.TreeNode):parentWidgets!=null&&(index+1|0)>=System.Array.getCount(parentWidgets,Myra.Graphics2D.UI.Widget)&&(parentOfParent=this.SelectedRow.ParentNode.ParentNode,parentOfParent!=null&&(parentIndex=parentOfParent.ChildNodesGrid.Widgets.indexOf(this.SelectedRow.ParentNode),(parentIndex+1|0)<parentOfParent.ChildNodesCount&&(this.SelectedRow=Bridge.cast(parentOfParent.ChildNodesGrid.Widgets.getItem(parentIndex+1|0),Myra.Graphics2D.UI.TreeNode))));break}},OnMouseDown:function(mb){if((Myra.Graphics2D.UI.TreeNode.prototype.OnMouseDown.call(this,mb),mb===Myra.Graphics2D.UI.MouseButtons.Left)&&this.HoverRow!=null){if(!this.HoverRow.RowVisible)return;this.SelectedRow=this.HoverRow}},OnMouseDoubleClick:function(mb){if((Myra.Graphics2D.UI.TreeNode.prototype.OnMouseDoubleClick.call(this,mb),mb===Myra.Graphics2D.UI.MouseButtons.Left)&&this.HoverRow!=null){if(!this.HoverRow.RowVisible)return;this.HoverRow.Mark.Visible&&!this.HoverRow.Mark.Bounds.Contains(this.Desktop.MousePosition.$clone())&&this.HoverRow.Mark.DoClick()}},OnMouseMoved:function(){var $t,position,rowInfo;if(Myra.Graphics2D.UI.TreeNode.prototype.OnMouseMoved.call(this),this.HoverRow=null,position=this.MousePosition.$clone(),this.Bounds.Contains(position.$clone())){$t=Bridge.getEnumerator(this._allNodes);try{while($t.moveNext())if(rowInfo=$t.Current,rowInfo.RowVisible&&rowInfo.RowBounds.Contains(position.$clone())){this.HoverRow=rowInfo;return}}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}}},OnMouseLeft:function(){Myra.Graphics2D.UI.TreeNode.prototype.OnMouseLeft.call(this);this.HoverRow=null},RemoveAllSubNodes:function(){Myra.Graphics2D.UI.TreeNode.prototype.RemoveAllSubNodes.call(this);this._allNodes.clear();this._allNodes.add(this);this._selectedRow=null;this.HoverRow=null},Iterate$1:function(node,action){var $t,widget,subNode;if(!action(node))return!1;$t=Bridge.getEnumerator(node.ChildNodesGrid.Widgets);try{while($t.moveNext())if(widget=$t.Current,subNode=Bridge.cast(widget,Myra.Graphics2D.UI.TreeNode),!this.Iterate$1(subNode,action))return!1}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}return!0},Iterate:function(action){this.Iterate$1(this,action)},UpdateRowInfos:function(){var $t,$t1,bounds=this.Bounds.$clone(),rowInfo,rowInfo1;$t=Bridge.getEnumerator(this._allNodes);try{while($t.moveNext())rowInfo=$t.Current,rowInfo.RowVisible=!1}finally{Bridge.is($t,System.IDisposable)&&$t.System$IDisposable$Dispose()}Myra.Graphics2D.UI.Tree.RecursiveUpdateRowVisibility(this);$t1=Bridge.getEnumerator(this._allNodes);try{while($t1.moveNext())rowInfo1=$t1.Current,rowInfo1.RowVisible&&(rowInfo1.RowBounds=new Microsoft.Xna.Framework.Rectangle.$ctor2(bounds.X,rowInfo1.Bounds.Y,bounds.Width,rowInfo1.InternalChild.GetRowHeight(0)))}finally{Bridge.is($t1,System.IDisposable)&&$t1.System$IDisposable$Dispose()}},UpdateLayout:function(){Myra.Graphics2D.UI.TreeNode.prototype.UpdateLayout.call(this);this._rowInfosDirty=!0},InternalRender:function(context){this._rowInfosDirty&&(this.UpdateRowInfos(),this._rowInfosDirty=!1);this.HoverRow==null||Bridge.referenceEquals(this.HoverRow,this.SelectedRow)||this.SelectionHoverBackground==null||context.Draw$1(this.SelectionHoverBackground,this.HoverRow.RowBounds.$clone());this.SelectedRow!=null&&this.SelectedRow.RowVisible&&this.SelectionBackground!=null&&context.Draw$1(this.SelectionBackground,this.SelectedRow.RowBounds.$clone());Myra.Graphics2D.UI.TreeNode.prototype.InternalRender.call(this,context)},UpdateMark:function(){this.HasRoot&&Myra.Graphics2D.UI.TreeNode.prototype.UpdateMark.call(this)},ApplyTreeStyle:function(style){this.ApplyTreeNodeStyle(style)},ExpandPath:function(node){var path=new(System.Collections.Generic.Stack$1(Myra.Graphics2D.UI.TreeNode).ctor),p;if(path.Push(this),Myra.Graphics2D.UI.Tree.FindPath(path,node))while(path.Count>0)p=path.Pop(),p.IsExpanded=!0},SetStyleByName:function(stylesheet,name){this.ApplyTreeStyle(stylesheet.TreeStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.TreeStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.VerticalMenu",{inherits:[Myra.Graphics2D.UI.Menu],props:{Orientation:{get:function(){return Myra.Graphics2D.UI.Orientation.Vertical}},HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}},VerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment=value}}},ctors:{$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Menu.ctor.call(this,style);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Left;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Top},$ctor2:function(style){Myra.Graphics2D.UI.VerticalMenu.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.VerticalMenuStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.VerticalMenu.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.VerticalMenuStyle)}},methods:{OnKeyDown:function(k){Myra.Graphics2D.UI.Menu.prototype.OnKeyDown.call(this,k);switch(k){case Microsoft.Xna.Framework.Input.Keys.Up:this.MoveSelection(-1);break;case Microsoft.Xna.Framework.Input.Keys.Down:this.MoveSelection(1);break}},SetStyleByName:function(stylesheet,name){this.ApplyMenuStyle(stylesheet.VerticalMenuStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.VerticalMenuStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.VerticalProgressBar",{inherits:[Myra.Graphics2D.UI.ProgressBar],props:{Orientation:{get:function(){return Myra.Graphics2D.UI.Orientation.Vertical}},HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}},VerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment=value}}},ctors:{$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.ProgressBar.ctor.call(this,style);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Left;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch},$ctor2:function(style){Myra.Graphics2D.UI.VerticalProgressBar.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.VerticalProgressBarStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.VerticalProgressBar.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.VerticalProgressBarStyle)}},methods:{SetStyleByName:function(stylesheet,name){this.ApplyProgressBarStyle(stylesheet.VerticalProgressBarStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.VerticalProgressBarStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.VerticalSeparator",{inherits:[Myra.Graphics2D.UI.SeparatorWidget],props:{HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}},VerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment=value}}},ctors:{$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.SeparatorWidget.ctor.call(this,Myra.Graphics2D.UI.Orientation.Vertical,style);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Center;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch},$ctor2:function(style){Myra.Graphics2D.UI.VerticalSeparator.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.VerticalSeparatorStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.VerticalSeparator.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.VerticalSeparatorStyle)}}});Bridge.define("Myra.Graphics2D.UI.VerticalSplitPane",{inherits:[Myra.Graphics2D.UI.SplitPane],props:{Orientation:{get:function(){return Myra.Graphics2D.UI.Orientation.Vertical}}},ctors:{$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.SplitPane.ctor.call(this,style)},$ctor2:function(style){Myra.Graphics2D.UI.VerticalSplitPane.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.VerticalSplitPaneStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.VerticalSplitPane.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.VerticalSplitPaneStyle)}},methods:{SetStyleByName:function(stylesheet,name){this.ApplySplitPaneStyle(stylesheet.VerticalSplitPaneStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.VerticalSplitPaneStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.ColorPicker.ColorPickerDialog",{inherits:[Myra.Graphics2D.UI.Dialog],statics:{fields:{HexChars:null,UserColors:null},ctors:{init:function(){this.HexChars="1234567890ABCDEFabcdef";this.UserColors=System.Array.init([Microsoft.Xna.Framework.Color.Red.$clone(),Microsoft.Xna.Framework.Color.Green.$clone(),Microsoft.Xna.Framework.Color.Blue.$clone(),Microsoft.Xna.Framework.Color.Cyan.$clone(),Microsoft.Xna.Framework.Color.White.$clone(),Microsoft.Xna.Framework.Color.Black.$clone(),Microsoft.Xna.Framework.Color.HotPink.$clone(),Microsoft.Xna.Framework.Color.Indigo.$clone(),Microsoft.Xna.Framework.Color.Orange.$clone(),Microsoft.Xna.Framework.Color.LightBlue.$clone(),Microsoft.Xna.Framework.Color.Olive.$clone(),Microsoft.Xna.Framework.Color.SkyBlue.$clone()],Microsoft.Xna.Framework.Color)}}},fields:{_suppressHSV:!1,_imageColor:null,_spinButtonR:null,_sliderR:null,_spinButtonG:null,_sliderG:null,_spinButtonB:null,_sliderB:null,_spinButtonA:null,_sliderA:null,_spinButtonH:null,_sliderH:null,_spinButtonS:null,_sliderS:null,_spinButtonV:null,_sliderV:null,_textFieldHex:null,_gridUserColors:null,_buttonSaveColor:null},props:{Color:{get:function(){return this._imageColor.Color.$clone()},set:function(value){Microsoft.Xna.Framework.Color.op_Equality(value.$clone(),this._imageColor.Color.$clone())||(this._imageColor.Color=value.$clone(),this.OnColorChanged())}},R:{get:function(){return this.Color.R},set:function(value){this.Color=new Microsoft.Xna.Framework.Color.$ctor5(value,this.Color.G,this.Color.B,this.Color.A)}},G:{get:function(){return this.Color.G},set:function(value){this.Color=new Microsoft.Xna.Framework.Color.$ctor5(this.Color.R,value,this.Color.B,this.Color.A)}},B:{get:function(){return this.Color.B},set:function(value){this.Color=new Microsoft.Xna.Framework.Color.$ctor5(this.Color.R,this.Color.G,value,this.Color.A)}},A:{get:function(){return this.Color.A},set:function(value){this.Color=new Microsoft.Xna.Framework.Color.$ctor5(this.Color.R,this.Color.G,this.Color.B,value)}},SelectedUserColorIndex:{get:function(){if(this._gridUserColors.SelectedColumnIndex==null||this._gridUserColors.SelectedRowIndex==null)return null;return Bridge.Int.mul(System.Nullable.getValue(this._gridUserColors.SelectedRowIndex),this._gridUserColors.ColumnsProportions.Count)+System.Nullable.getValue(this._gridUserColors.SelectedColumnIndex)|0}}},ctors:{init:function(){this._suppressHSV=!1},ctor:function(){var $t,row,col,image,i;for(this.$initialize(),Myra.Graphics2D.UI.Dialog.ctor.call(this),this.BuildUI(),row=0;row<this._gridUserColors.RowsProportions.Count;row=row+1|0)for(col=0;col<this._gridUserColors.ColumnsProportions.Count;col=col+1|0)image=($t=new Myra.Graphics2D.UI.Image,$t.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch,$t.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch,$t.GridPositionX=col,$t.GridPositionY=row,$t.Renderable=Myra.DefaultAssets.WhiteRegion,$t.PaddingLeft=8,$t.PaddingRight=8,$t.PaddingTop=8,$t.PaddingBottom=8,$t),this._gridUserColors.Widgets.add(image);for(i=0;i<Myra.Graphics2D.UI.ColorPicker.ColorPickerDialog.UserColors.length;i=i+1|0)this.SetUserColor(i,Myra.Graphics2D.UI.ColorPicker.ColorPickerDialog.UserColors[i].$clone());this._gridUserColors.SelectionHoverBackground=Myra.DefaultAssets.UISpritesheet.getItem("button-over");this._gridUserColors.SelectionBackground=Myra.DefaultAssets.UISpritesheet.getItem("button-down");this._gridUserColors.addSelectedIndexChanged(Bridge.fn.cacheBind(this,this.GridUserColorsSelectedIndexChanged));this._buttonSaveColor.addClick(Bridge.fn.cacheBind(this,this.ButtonSaveColorDown));this.UpdateEnabled();this.SubscribeRGB(this._spinButtonR,this._sliderR,Bridge.fn.bind(this,function(value){this.R=value}));this.SubscribeRGB(this._spinButtonG,this._sliderG,Bridge.fn.bind(this,function(value){this.G=value}));this.SubscribeRGB(this._spinButtonB,this._sliderB,Bridge.fn.bind(this,function(value){this.B=value}));this.SubscribeRGB(this._spinButtonA,this._sliderA,Bridge.fn.bind(this,function(value){this.A=value}));this.SubscribeHSV(this._spinButtonH,this._sliderH);this.SubscribeHSV(this._spinButtonS,this._sliderS);this.SubscribeHSV(this._spinButtonV,this._sliderV);this._textFieldHex.Tag=!1;this._textFieldHex.addTextChangedByUser(Bridge.fn.cacheBind(this,this.TextFieldHexTextChangedByUser));this._textFieldHex.InputFilter=function(s){if(s==null||s.length>8)return null;for(var i1=0;i1<s.length;i1=i1+1|0)if(System.String.indexOf(Myra.Graphics2D.UI.ColorPicker.ColorPickerDialog.HexChars,String.fromCharCode(s.charCodeAt(i1)))===-1)return null;return s.toUpperCase()};this._imageColor.Renderable=Myra.DefaultAssets.WhiteRegion;this.Color=Microsoft.Xna.Framework.Color.White.$clone();this.OnColorChanged()}},methods:{ButtonSaveColorDown:function(sender,e){var index=this.SelectedUserColorIndex;index!=null&&this.SetUserColor(System.Nullable.getValue(index),this.Color.$clone())},GridUserColorsSelectedIndexChanged:function(sender,e){this.UpdateEnabled();var index=this.SelectedUserColorIndex;index!=null&&(this.Color=this.GetUserColor(System.Nullable.getValue(index)))},GetUserColor:function(index){return Bridge.cast(this._gridUserColors.Widgets.getItem(index),Myra.Graphics2D.UI.Image).Color.$clone()},SetUserColor:function(index,color){Bridge.cast(this._gridUserColors.Widgets.getItem(index),Myra.Graphics2D.UI.Image).Color=color.$clone()},UpdateEnabled:function(){this._buttonSaveColor.Enabled=this.SelectedUserColorIndex!=null},TextFieldHexTextChangedByUser:function(sender,e){if(!System.String.isNullOrEmpty(this._textFieldHex.Text)){var s="#"+(this._textFieldHex.Text||""),color=Myra.Utility.GraphicsExtension.FromName(s);if(!System.Nullable.lifteq(Microsoft.Xna.Framework.Color.op_Equality,System.Nullable.lift1("$clone",color),null))try{this._textFieldHex.Tag=!0;this.Color=System.Nullable.getValue(color).$clone()}finally{this._textFieldHex.Tag=!1}}},SubscribeRGB:function(spinButton,slider,valueSetter){spinButton.Tag=!1;spinButton.addValueChangedByUser(function(s,a){if(spinButton.Value!=null)try{spinButton.Tag=!0;valueSetter(Bridge.Int.clipu8(System.Nullable.getValue(spinButton.Value)))}finally{spinButton.Tag=!1}});slider.Tag=!1;slider.addValueChangedByUser(function(s,a){try{slider.Tag=!0;valueSetter(Bridge.Int.clipu8(slider.Value))}finally{slider.Tag=!1}})},SubscribeHSV:function(spinButton,slider){spinButton.Tag=!1;slider.Tag=!1;spinButton.addValueChangedByUser(Bridge.fn.bind(this,function(s,a){var $t,hsv,rgb;if(spinButton.Value!=null)try{spinButton.Tag=!0;hsv=($t=new Myra.Utility.ColorHSV,$t.H=Bridge.Int.clip32(this._sliderH.Value),$t.S=Bridge.Int.clip32(this._sliderS.Value),$t.V=Bridge.Int.clip32(this._sliderV.Value),$t);this.SetHSV(hsv.$clone());this._suppressHSV=!0;rgb=Myra.Utility.GraphicsExtension.ToRGB(hsv);this.Color=new Microsoft.Xna.Framework.Color.$ctor5(rgb.R,rgb.G,rgb.B,this.Color.A)}finally{spinButton.Tag=!1;this._suppressHSV=!1}}));slider.addValueChangedByUser(Bridge.fn.bind(this,function(s,a){var $t,hsv,rgb;try{slider.Tag=!0;hsv=($t=new Myra.Utility.ColorHSV,$t.H=Bridge.Int.clip32(this._sliderH.Value),$t.S=Bridge.Int.clip32(this._sliderS.Value),$t.V=Bridge.Int.clip32(this._sliderV.Value),$t);this.SetHSV(hsv.$clone());this._suppressHSV=!0;rgb=Myra.Utility.GraphicsExtension.ToRGB(hsv);this.Color=new Microsoft.Xna.Framework.Color.$ctor5(rgb.R,rgb.G,rgb.B,this.Color.A)}finally{slider.Tag=!1;this._suppressHSV=!1}}))},OnColorChanged:function(){Bridge.cast(this._spinButtonR.Tag,System.Boolean)||(this._spinButtonR.Value=this.R);Bridge.cast(this._sliderR.Tag,System.Boolean)||(this._sliderR.Value=this.R);Bridge.cast(this._spinButtonG.Tag,System.Boolean)||(this._spinButtonG.Value=this.G);Bridge.cast(this._sliderG.Tag,System.Boolean)||(this._sliderG.Value=this.G);Bridge.cast(this._spinButtonB.Tag,System.Boolean)||(this._spinButtonB.Value=this.B);Bridge.cast(this._sliderB.Tag,System.Boolean)||(this._sliderB.Value=this.B);Bridge.cast(this._spinButtonA.Tag,System.Boolean)||(this._spinButtonA.Value=this.A);Bridge.cast(this._sliderA.Tag,System.Boolean)||(this._sliderA.Value=this.A);Bridge.cast(this._textFieldHex.Tag,System.Boolean)||(this._textFieldHex.Text=Myra.Utility.GraphicsExtension.ToHexString(this.Color).substr(1));this._suppressHSV||this.SetHSV(Myra.Utility.GraphicsExtension.ToHSV(this.Color))},SetHSV:function(hsv){Bridge.cast(this._spinButtonH.Tag,System.Boolean)||(this._spinButtonH.Value=hsv.H);Bridge.cast(this._sliderH.Tag,System.Boolean)||(this._sliderH.Value=hsv.H);Bridge.cast(this._spinButtonS.Tag,System.Boolean)||(this._spinButtonS.Value=hsv.S);Bridge.cast(this._sliderS.Tag,System.Boolean)||(this._sliderS.Value=hsv.S);Bridge.cast(this._spinButtonV.Tag,System.Boolean)||(this._spinButtonV.Value=hsv.V);Bridge.cast(this._sliderV.Tag,System.Boolean)||(this._sliderV.Value=hsv.V)},Close:function(){Myra.Graphics2D.UI.Dialog.prototype.Close.call(this);for(var i=0;i<Myra.Graphics2D.UI.ColorPicker.ColorPickerDialog.UserColors.length;i=i+1|0)Myra.Graphics2D.UI.ColorPicker.ColorPickerDialog.UserColors[i]=this.GetUserColor(i)},BuildUI:function(){var $t,horizontalSeparator1,textBlock1,textBlock2,textBlock3,textBlock4,grid1,verticalSeparator1,textBlock5,textBlock6,textBlock7,textBlock8,grid2,grid3,horizontalSeparator2,grid4,horizontalSeparator3,grid5;this._imageColor=new Myra.Graphics2D.UI.Image;this._imageColor.Id="_imageColor";this._imageColor.Height=50;this._imageColor.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this._imageColor.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch;horizontalSeparator1=new Myra.Graphics2D.UI.HorizontalSeparator.ctor;horizontalSeparator1.Height=4;horizontalSeparator1.GridPositionY=1;textBlock1=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock1.Text="R";textBlock1.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._spinButtonR=new Myra.Graphics2D.UI.SpinButton.ctor;this._spinButtonR.Maximum=255;this._spinButtonR.Minimum=0;this._spinButtonR.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this._spinButtonR.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._spinButtonR.Id="_spinButtonR";this._spinButtonR.GridPositionX=1;this._sliderR=new Myra.Graphics2D.UI.HorizontalSlider.ctor;this._sliderR.Maximum=255;this._sliderR.Id="_sliderR";this._sliderR.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._sliderR.GridPositionX=2;textBlock2=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock2.Text="G";textBlock2.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;textBlock2.GridPositionY=1;this._spinButtonG=new Myra.Graphics2D.UI.SpinButton.ctor;this._spinButtonG.Maximum=255;this._spinButtonG.Minimum=0;this._spinButtonG.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this._spinButtonG.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._spinButtonG.Id="_spinButtonG";this._spinButtonG.GridPositionX=1;this._spinButtonG.GridPositionY=1;this._sliderG=new Myra.Graphics2D.UI.HorizontalSlider.ctor;this._sliderG.Maximum=255;this._sliderG.Id="_sliderG";this._sliderG.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._sliderG.GridPositionX=2;this._sliderG.GridPositionY=1;textBlock3=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock3.Text="B";textBlock3.GridPositionY=2;this._spinButtonB=new Myra.Graphics2D.UI.SpinButton.ctor;this._spinButtonB.Maximum=255;this._spinButtonB.Minimum=0;this._spinButtonB.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this._spinButtonB.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._spinButtonB.Id="_spinButtonB";this._spinButtonB.GridPositionX=1;this._spinButtonB.GridPositionY=2;this._sliderB=new Myra.Graphics2D.UI.HorizontalSlider.ctor;this._sliderB.Maximum=255;this._sliderB.Id="_sliderB";this._sliderB.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._sliderB.GridPositionX=2;this._sliderB.GridPositionY=2;textBlock4=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock4.Text="A";textBlock4.GridPositionY=3;this._spinButtonA=new Myra.Graphics2D.UI.SpinButton.ctor;this._spinButtonA.Maximum=255;this._spinButtonA.Minimum=0;this._spinButtonA.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this._spinButtonA.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._spinButtonA.Id="_spinButtonA";this._spinButtonA.GridPositionX=1;this._spinButtonA.GridPositionY=3;this._sliderA=new Myra.Graphics2D.UI.HorizontalSlider.ctor;this._sliderA.Maximum=255;this._sliderA.Id="_sliderA";this._sliderA.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._sliderA.GridPositionX=2;this._sliderA.GridPositionY=3;grid1=new Myra.Graphics2D.UI.Grid;grid1.ColumnSpacing=8;grid1.RowSpacing=4;grid1.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid1.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Pixels,$t.Value=50,$t));grid1.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Fill,$t));grid1.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid1.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid1.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid1.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid1.PaddingTop=4;grid1.PaddingBottom=4;grid1.Widgets.add(textBlock1);grid1.Widgets.add(this._spinButtonR);grid1.Widgets.add(this._sliderR);grid1.Widgets.add(textBlock2);grid1.Widgets.add(this._spinButtonG);grid1.Widgets.add(this._sliderG);grid1.Widgets.add(textBlock3);grid1.Widgets.add(this._spinButtonB);grid1.Widgets.add(this._sliderB);grid1.Widgets.add(textBlock4);grid1.Widgets.add(this._spinButtonA);grid1.Widgets.add(this._sliderA);verticalSeparator1=new Myra.Graphics2D.UI.VerticalSeparator.ctor;verticalSeparator1.Width=3;verticalSeparator1.GridPositionX=1;textBlock5=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock5.Text="H";this._spinButtonH=new Myra.Graphics2D.UI.SpinButton.ctor;this._spinButtonH.Maximum=360;this._spinButtonH.Minimum=0;this._spinButtonH.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this._spinButtonH.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._spinButtonH.Id="_spinButtonH";this._spinButtonH.GridPositionX=1;this._sliderH=new Myra.Graphics2D.UI.HorizontalSlider.ctor;this._sliderH.Maximum=360;this._sliderH.Id="_sliderH";this._sliderH.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._sliderH.GridPositionX=2;textBlock6=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock6.Text="S";textBlock6.GridPositionY=1;this._spinButtonS=new Myra.Graphics2D.UI.SpinButton.ctor;this._spinButtonS.Maximum=100;this._spinButtonS.Minimum=0;this._spinButtonS.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this._spinButtonS.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._spinButtonS.Id="_spinButtonS";this._spinButtonS.GridPositionX=1;this._spinButtonS.GridPositionY=1;this._sliderS=new Myra.Graphics2D.UI.HorizontalSlider.ctor;this._sliderS.Id="_sliderS";this._sliderS.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._sliderS.GridPositionX=2;this._sliderS.GridPositionY=1;textBlock7=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock7.Text="V";textBlock7.GridPositionY=2;this._spinButtonV=new Myra.Graphics2D.UI.SpinButton.ctor;this._spinButtonV.Maximum=100;this._spinButtonV.Minimum=0;this._spinButtonV.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this._spinButtonV.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._spinButtonV.Id="_spinButtonV";this._spinButtonV.GridPositionX=1;this._spinButtonV.GridPositionY=2;this._sliderV=new Myra.Graphics2D.UI.HorizontalSlider.ctor;this._sliderV.Id="_sliderV";this._sliderV.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._sliderV.GridPositionX=2;this._sliderV.GridPositionY=2;textBlock8=new Myra.Graphics2D.UI.TextBlock.ctor;textBlock8.Text="#";textBlock8.GridPositionY=3;this._textFieldHex=new Myra.Graphics2D.UI.TextField.ctor;this._textFieldHex.Text="";this._textFieldHex.Id="_textFieldHex";this._textFieldHex.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Center;this._textFieldHex.GridPositionX=1;this._textFieldHex.GridPositionY=3;this._textFieldHex.GridSpanX=2;grid2=new Myra.Graphics2D.UI.Grid;grid2.ColumnSpacing=8;grid2.RowSpacing=5;grid2.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid2.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Pixels,$t.Value=50,$t));grid2.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Fill,$t));grid2.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid2.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid2.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid2.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid2.PaddingTop=4;grid2.PaddingBottom=4;grid2.GridPositionX=2;grid2.Widgets.add(textBlock5);grid2.Widgets.add(this._spinButtonH);grid2.Widgets.add(this._sliderH);grid2.Widgets.add(textBlock6);grid2.Widgets.add(this._spinButtonS);grid2.Widgets.add(this._sliderS);grid2.Widgets.add(textBlock7);grid2.Widgets.add(this._spinButtonV);grid2.Widgets.add(this._sliderV);grid2.Widgets.add(textBlock8);grid2.Widgets.add(this._textFieldHex);grid3=new Myra.Graphics2D.UI.Grid;grid3.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Part,$t));grid3.ColumnsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid3.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Part,$t));grid3.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid3.GridPositionY=2;grid3.Widgets.add(grid1);grid3.Widgets.add(verticalSeparator1);grid3.Widgets.add(grid2);horizontalSeparator2=new Myra.Graphics2D.UI.HorizontalSeparator.ctor;horizontalSeparator2.Height=4;horizontalSeparator2.GridPositionY=3;this._gridUserColors=new Myra.Graphics2D.UI.Grid;this._gridUserColors.ColumnSpacing=4;this._gridUserColors.RowSpacing=4;this._gridUserColors.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Part,$t));this._gridUserColors.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Part,$t));this._gridUserColors.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Part,$t));this._gridUserColors.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Part,$t));this._gridUserColors.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Part,$t));this._gridUserColors.ColumnsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Part,$t));this._gridUserColors.RowsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Part,$t));this._gridUserColors.RowsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Part,$t));this._gridUserColors.GridSelectionMode=Myra.Graphics2D.UI.GridSelectionMode.Cell;this._gridUserColors.Id="_gridUserColors";this._gridUserColors.Height=100;this._buttonSaveColor=new Myra.Graphics2D.UI.TextButton.ctor;this._buttonSaveColor.Text="Save Color";this._buttonSaveColor.Id="_buttonSaveColor";this._buttonSaveColor.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Right;this._buttonSaveColor.GridPositionY=1;grid4=new Myra.Graphics2D.UI.Grid;grid4.RowSpacing=4;grid4.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid4.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid4.GridPositionY=4;grid4.Widgets.add(this._gridUserColors);grid4.Widgets.add(this._buttonSaveColor);horizontalSeparator3=new Myra.Graphics2D.UI.HorizontalSeparator.ctor;horizontalSeparator3.Height=4;horizontalSeparator3.GridPositionY=5;grid5=new Myra.Graphics2D.UI.Grid;grid5.RowSpacing=-1;grid5.RowsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Fill,$t.Value=100,$t));grid5.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid5.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid5.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid5.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid5.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);grid5.GridPositionY=1;grid5.Widgets.add(this._imageColor);grid5.Widgets.add(horizontalSeparator1);grid5.Widgets.add(grid3);grid5.Widgets.add(horizontalSeparator2);grid5.Widgets.add(grid4);grid5.Widgets.add(horizontalSeparator3);this.Title="Color Picker";this.Left=210;this.Top=205;this.Width=450;this.Content=grid5}}});Bridge.define("Myra.Graphics2D.UI.DebugOptionsDialog",{inherits:[Myra.Graphics2D.UI.Dialog],fields:{ShowDebugInfo:!1,_checkBoxWidgetFrames:null,_checkBoxFocusedWidgetFrame:null,_checkBoxGlyphFrames:null,_checkBoxDisableClipping:null,Root:null},ctors:{ctor:function(){this.$initialize();Myra.Graphics2D.UI.Dialog.ctor.call(this);this.Title="UI Debug Options";this.BuildUI();this._checkBoxWidgetFrames.IsToggled=Myra.MyraEnvironment.DrawWidgetsFrames;this._checkBoxWidgetFrames.addToggledChanged(Bridge.fn.bind(this,function(s,a){Myra.MyraEnvironment.DrawWidgetsFrames=this._checkBoxWidgetFrames.IsToggled}));this._checkBoxFocusedWidgetFrame.IsToggled=Myra.MyraEnvironment.DrawFocusedWidgetFrame;this._checkBoxFocusedWidgetFrame.addToggledChanged(Bridge.fn.bind(this,function(s,a){Myra.MyraEnvironment.DrawFocusedWidgetFrame=this._checkBoxFocusedWidgetFrame.IsToggled}));this._checkBoxGlyphFrames.IsToggled=Myra.MyraEnvironment.DrawTextGlyphsFrames;this._checkBoxGlyphFrames.addToggledChanged(Bridge.fn.bind(this,function(s,a){Myra.MyraEnvironment.DrawTextGlyphsFrames=this._checkBoxGlyphFrames.IsToggled}));this._checkBoxDisableClipping.IsToggled=Myra.MyraEnvironment.DisableClipping;this._checkBoxDisableClipping.addToggledChanged(Bridge.fn.bind(this,function(s,a){Myra.MyraEnvironment.DisableClipping=this._checkBoxDisableClipping.IsToggled}))}},methods:{AddOption:function(text,onEnabled,onDisabled){var $t,optionsCheckBox=new Myra.Graphics2D.UI.CheckBox.ctor;optionsCheckBox.Text=text;optionsCheckBox.ContentHorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;optionsCheckBox.ContentVerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch;optionsCheckBox.Enabled=!0;optionsCheckBox.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Left;optionsCheckBox.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Top;optionsCheckBox.GridPositionY=this.InternalChild.Widgets.Count;optionsCheckBox.Visible=!0;optionsCheckBox.addToggledChanged(function(s,a){optionsCheckBox.IsToggled?onEnabled():onDisabled()});optionsCheckBox.GridPositionY=this.Root.RowsProportions.Count;this.Root.RowsProportions.add(($t=new Myra.Graphics2D.UI.Grid.Proportion.ctor,$t.Type=Myra.Graphics2D.UI.Grid.ProportionType.Auto,$t));this.Root.Widgets.add(optionsCheckBox)},BuildUI:function(){this._checkBoxWidgetFrames=new Myra.Graphics2D.UI.CheckBox.ctor;this._checkBoxWidgetFrames.Text="Draw green frame around every widget";this._checkBoxWidgetFrames.ImageWidth=10;this._checkBoxWidgetFrames.ImageHeight=10;this._checkBoxWidgetFrames.Id="_checkBoxWidgetFrames";this._checkBoxFocusedWidgetFrame=new Myra.Graphics2D.UI.CheckBox.ctor;this._checkBoxFocusedWidgetFrame.Text="Draw red frame around the focused widget";this._checkBoxFocusedWidgetFrame.ImageWidth=10;this._checkBoxFocusedWidgetFrame.ImageHeight=10;this._checkBoxFocusedWidgetFrame.Id="_checkBoxFocusedWidgetFrame";this._checkBoxFocusedWidgetFrame.GridPositionY=1;this._checkBoxGlyphFrames=new Myra.Graphics2D.UI.CheckBox.ctor;this._checkBoxGlyphFrames.Text="Draw white frame around every letter glyph";this._checkBoxGlyphFrames.ImageWidth=10;this._checkBoxGlyphFrames.ImageHeight=10;this._checkBoxGlyphFrames.Id="_checkBoxGlyphFrames";this._checkBoxGlyphFrames.GridPositionY=2;this._checkBoxDisableClipping=new Myra.Graphics2D.UI.CheckBox.ctor;this._checkBoxDisableClipping.Text="Disable clipping";this._checkBoxDisableClipping.ImageWidth=10;this._checkBoxDisableClipping.ImageHeight=10;this._checkBoxDisableClipping.Id="_checkBoxDisableClipping";this._checkBoxDisableClipping.GridPositionY=3;this.Root=new Myra.Graphics2D.UI.Grid;this.Root.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this.Root.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this.Root.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this.Root.RowsProportions.add(new Myra.Graphics2D.UI.Grid.Proportion.ctor);this.Root.Id="Root";this.Root.GridPositionY=1;this.Root.Widgets.add(this._checkBoxWidgetFrames);this.Root.Widgets.add(this._checkBoxFocusedWidgetFrame);this.Root.Widgets.add(this._checkBoxGlyphFrames);this.Root.Widgets.add(this._checkBoxDisableClipping);this.Title="Debug Options";this.Left=279;this.Top=312;this.Content=this.Root}}});Bridge.define("Myra.Graphics2D.UI.HorizontalSlider",{inherits:[Myra.Graphics2D.UI.Slider],props:{Orientation:{get:function(){return Myra.Graphics2D.UI.Orientation.Horizontal}},HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}}},ctors:{$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Slider.ctor.call(this,style);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Stretch;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Top},$ctor2:function(style){Myra.Graphics2D.UI.HorizontalSlider.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.HorizontalSliderStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.HorizontalSlider.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.HorizontalSliderStyle)}},methods:{SetStyleByName:function(stylesheet,name){this.ApplySliderStyle(stylesheet.HorizontalSliderStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.HorizontalSliderStyles.getKeys()).ToArray()}}});Bridge.define("Myra.Graphics2D.UI.VerticalSlider",{inherits:[Myra.Graphics2D.UI.Slider],props:{Orientation:{get:function(){return Myra.Graphics2D.UI.Orientation.Vertical}},HorizontalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"HorizontalAlignment").$Myra$Graphics2D$UI$Widget$HorizontalAlignment=value}},VerticalAlignment:{get:function(){return Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment},set:function(value){Bridge.ensureBaseProperty(this,"VerticalAlignment").$Myra$Graphics2D$UI$Widget$VerticalAlignment=value}}},ctors:{$ctor1:function(style){this.$initialize();Myra.Graphics2D.UI.Slider.ctor.call(this,style);this.HorizontalAlignment=Myra.Graphics2D.UI.HorizontalAlignment.Left;this.VerticalAlignment=Myra.Graphics2D.UI.VerticalAlignment.Stretch},$ctor2:function(style){Myra.Graphics2D.UI.VerticalSlider.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.VerticalSliderStyles.get(style))},ctor:function(){Myra.Graphics2D.UI.VerticalSlider.$ctor1.call(this,Myra.Graphics2D.UI.Styles.Stylesheet.Current.VerticalSliderStyle)}},methods:{SetStyleByName:function(stylesheet,name){this.ApplySliderStyle(stylesheet.VerticalSliderStyles.get(name))},GetStyleNames:function(stylesheet){return System.Linq.Enumerable.from(stylesheet.VerticalSliderStyles.getKeys()).ToArray()}}})});